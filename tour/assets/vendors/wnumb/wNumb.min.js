!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.wNumb=e()}(function(){"use strict";var o=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function m(e){return e.split("").reverse().join("")}function h(e,t){return e.substring(0,t.length)===t}function f(e,t,n){if((e[t]||e[n])&&e[t]===e[n])throw new Error(t)}function w(e){return"number"==typeof e&&isFinite(e)}function n(e,t,n,r,i,o,f,u,s,a,c,p){var d,l,h=p,g="",v="";return!!w(p=o?o(p):p)&&((p=!1!==e&&0===parseFloat(p.toFixed(e))?0:p)<0&&(d=!0,p=Math.abs(p)),!1!==e&&(o=e,e=(e=p).toString().split("e"),p=(+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+o:o)))).toString().split("e"))[0]+"e"+(e[1]?e[1]-o:-o))).toFixed(o)),-1!==(p=p.toString()).indexOf(".")?(l=(e=p.split("."))[0],n&&(g=n+e[1])):l=p,d&&u&&(v+=u),r&&(v+=r),d&&s&&(v+=s),v=v+(l=t?m((l=m(l).match(/.{1,3}/g)).join(m(t))):l)+g,i&&(v+=i),v=a?a(v,h):v)}function r(e,t,n,r,i,o,f,u,s,a,c,p){var d,l="";return!(!(p=c?c(p):p)||"string"!=typeof p)&&(u&&h(p,u)&&(p=p.replace(u,""),d=!0),r&&h(p,r)&&(p=p.replace(r,"")),s&&h(p,s)&&(p=p.replace(s,""),d=!0),i&&(c=i,p.slice(-1*c.length)===c)&&(p=p.slice(0,-1*i.length)),t&&(p=p.split(t).join("")),d&&(l+="-"),""!==(l=(l+=p=n?p.replace(n,"."):p).replace(/[^0-9\.\-.]/g,"")))&&(l=Number(l),!!w(l=f?f(l):l))&&l}function i(e,t,n){for(var r=[],i=0;i<o.length;i+=1)r.push(e[o[i]]);return r.push(n),t.apply("",r)}return function e(t){if(!(this instanceof e))return new e(t);"object"==typeof t&&(t=function(e){var t,n,r,i={};for(void 0===e.suffix&&(e.suffix=e.postfix),t=0;t<o.length;t+=1)if(void 0===(r=e[n=o[t]]))i[n]="negative"!==n||i.negativeBefore?"mark"===n&&"."!==i.thousand&&".":"-";else{if("decimals"===n){if(!(0<=r&&r<8))throw new Error(n)}else if("encoder"===n||"decoder"===n||"edit"===n||"undo"===n){if("function"!=typeof r)throw new Error(n)}else if("string"!=typeof r)throw new Error(n);i[n]=r}return f(i,"mark","thousand"),f(i,"prefix","negative"),f(i,"prefix","negativeBefore"),i}(t),this.to=function(e){return i(t,n,e)},this.from=function(e){return i(t,r,e)})}});