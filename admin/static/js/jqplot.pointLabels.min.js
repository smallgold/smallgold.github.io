!function(w){w.jqplot.PointLabels=function(t){this.show=w.jqplot.config.enablePlugins,this.location="n",this.labelsFromSeries=!1,this.seriesLabelIndex=null,this.labels=[],this._labels=[],this.stackedValue=!1,this.ypadding=6,this.xpadding=6,this.escapeHTML=!0,this.edgeTolerance=-5,this.formatter=w.jqplot.DefaultTickFormatter,this.formatString="",this.hideZeros=!1,this._elems=[],w.extend(!0,this,t)};var j={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},q=["se","s","sw","w","nw","n","ne","e"];w.jqplot.PointLabels.init=function(t,e,s,i,a){s=w.extend(!0,{},s,i);s.pointLabels=s.pointLabels||{},this.renderer.constructor!==w.jqplot.BarRenderer||"horizontal"!==this.barDirection||s.pointLabels.location||(s.pointLabels.location="e"),this.plugins.pointLabels=new w.jqplot.PointLabels(s.pointLabels),this.plugins.pointLabels.setLabels.call(this)},w.jqplot.PointLabels.prototype.setLabels=function(){var t=this.plugins.pointLabels,e=null!=t.seriesLabelIndex?t.seriesLabelIndex:this.renderer.constructor===w.jqplot.BarRenderer&&"horizontal"===this.barDirection?this._plotData[0].length<3?0:this._plotData[0].length-1:0===this._plotData.length?0:this._plotData[0].length-1;if(t._labels=[],0===t.labels.length||t.labelsFromSeries)if(t.stackedValue){if(this._plotData.length&&this._plotData[0].length)for(var s=0;s<this._plotData.length;s++)t._labels.push(this._plotData[s][e])}else{var i=this.data;if((i=this.renderer.constructor===w.jqplot.BarRenderer&&this.waterfall?this._data:i).length&&i[0].length)for(s=0;s<i.length;s++)t._labels.push(i[s][e])}else t.labels.length&&(t._labels=t.labels)},w.jqplot.PointLabels.prototype.xOffset=function(t,e,s){var i;switch(e=e||this.location,s=s||this.xpadding,e){case"nw":i=-t.outerWidth(!0)-this.xpadding;break;case"n":i=-t.outerWidth(!0)/2;break;case"ne":case"e":case"se":i=this.xpadding;break;case"s":i=-t.outerWidth(!0)/2;break;default:i=-t.outerWidth(!0)-this.xpadding}return i},w.jqplot.PointLabels.prototype.yOffset=function(t,e,s){var i;switch(e=e||this.location,s=s||this.xpadding,e){case"nw":case"n":case"ne":i=-t.outerHeight(!0)-this.ypadding;break;case"e":i=-t.outerHeight(!0)/2;break;case"se":case"s":case"sw":i=this.ypadding;break;case"w":i=-t.outerHeight(!0)/2;break;default:i=-t.outerHeight(!0)-this.ypadding}return i},w.jqplot.PointLabels.draw=function(t,e,s){var i=this.plugins.pointLabels;i.setLabels.call(this);for(var a=0;a<i._elems.length;a++)i._elems[a].emptyForce();if(i._elems.splice(0,i._elems.length),i.show)for(var l,o="_"+this._stackAxis+"axis",n=(i.formatString||(i.formatString=this[o]._ticks[0].formatString,i.formatter=this[o]._ticks[0].formatter),this._plotData),r=(this._prevPlotData,this._xaxis),h=this._yaxis,a=0,p=i._labels.length;a<p;a++){var c,d,b,g,u,f,_,L,m=i._labels[a];null==m||i.hideZeros&&0==parseInt(m,10)||(m=i.formatter(i.formatString,m),l=document.createElement("div"),i._elems[a]=w(l),(l=i._elems[a]).addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+a),l.css("position","absolute"),l.insertAfter(t.canvas),i.escapeHTML?l.text(m):l.html(m),c=i.location,(this.fillToZero&&n[a][1]<0||this.fillToZero&&"bar"===this._type&&"horizontal"===this.barDirection&&n[a][0]<0||(this.waterfall&&parseInt(m,10))<0)&&(c=q[j[c]]),m=r.u2p(n[a][0])+i.xOffset(l,c),c=h.u2p(n[a][1])+i.yOffset(l,c),this._stack&&!i.stackedValue&&("vertical"===this.barDirection?c=(this._barPoints[a][0][1]+this._barPoints[a][1][1])/2+s._gridPadding.top-.5*l.outerHeight(!0):m=(this._barPoints[a][2][0]+this._barPoints[a][0][0])/2+s._gridPadding.left-.5*l.outerWidth(!0)),this.renderer.constructor==w.jqplot.BarRenderer&&("vertical"==this.barDirection?m+=this._barNudge:c-=this._barNudge),l.css("left",m),l.css("top",c),d=m+l.width(),b=c+l.height(),g=i.edgeTolerance,u=w(t.canvas).position().left,f=w(t.canvas).position().top,_=t.canvas.width+u,L=t.canvas.height+f,(m-g<u||c-g<f||_<d+g||L<b+g)&&l.remove(),l=null)}},w.jqplot.postSeriesInitHooks.push(w.jqplot.PointLabels.init),w.jqplot.postDrawSeriesHooks.push(w.jqplot.PointLabels.draw)}(jQuery);