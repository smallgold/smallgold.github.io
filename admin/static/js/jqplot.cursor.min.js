!function(v){function p(o,t,e){var s=e.plugins.cursor,r="",i=!1;if(s.showTooltipGridPosition&&(r=o.x+", "+o.y,i=!0),s.showTooltipUnitPosition)for(var n,a=0;a<s.tooltipAxisGroups.length;a++){if(n=s.tooltipAxisGroups[a],i&&(r+="<br />"),s.useAxesFormatters)for(var l=0;l<n.length;l++)l&&(r+=", "),r+=(0,e.axes[n[l]]._ticks[0].formatter)(e.axes[n[l]]._ticks[0].formatString,t[n[l]]);else r+=v.jqplot.sprintf(s.tooltipFormatString,t[n[0]],t[n[1]]);i=!0}if(s.showTooltipDataPosition)for(var d,c,u,p,m,g,h,f,x=e.series,_=w(e,o.x,o.y),i=!1,a=0;a<x.length;a++)x[a].show&&(c=x[a].index,d=x[a].label.toString(),f=h=void 0,-1!=(c=v.inArray(c,_.indices)))&&(c=_.data[c].data,f=s.useAxesFormatters?(u=x[a]._xaxis._ticks[0].formatter,p=x[a]._yaxis._ticks[0].formatter,m=x[a]._xaxis._ticks[0].formatString,g=x[a]._yaxis._ticks[0].formatString,h=u(m,c[0]),p(g,c[1])):(h=c[0],c[1]),i&&(r+="<br />"),r+=v.jqplot.sprintf(s.tooltipFormatString,d,h,f),i=!0);s._tooltipElem.html(r)}function m(o,t){var e=t.plugins.cursor,s=e.cursorCanvas._ctx,r=(s.clearRect(0,0,s.canvas.width,s.canvas.height),e.showVerticalLine&&e.shapeRenderer.draw(s,[[o.x,0],[o.x,s.canvas.height]]),e.showHorizontalLine&&e.shapeRenderer.draw(s,[[0,o.y],[s.canvas.width,o.y]]),w(t,o.x,o.y));if(e.showCursorLegend)for(var i=v(t.targetId+" td.jqplot-cursor-legend-label"),n=0;n<i.length;n++){var a,l,d,c=v(i[n]).data("seriesIndex"),u=t.series[c],p=u.label.toString(),c=v.inArray(c,r.indices),m=void 0,g=void 0;-1!=c&&(c=r.data[c].data,g=e.useAxesFormatters?(a=u._xaxis._ticks[0].formatter,l=u._yaxis._ticks[0].formatter,d=u._xaxis._ticks[0].formatString,u=u._yaxis._ticks[0].formatString,m=a(d,c[0]),l(u,c[1])):(m=c[0],c[1])),t.legend.escapeHtml?v(i[n]).text(v.jqplot.sprintf(e.cursorLegendFormatString,p,m,g)):v(i[n]).html(v.jqplot.sprintf(e.cursorLegendFormatString,p,m,g))}}function w(o,t){for(var e,s,r,i={indices:[],data:[]},n=o.plugins.cursor,a=0;a<o.series.length;a++)if((e=o.series[a]).renderer,e.show){r=n.intersectionThreshold,e.showMarker&&(r+=e.markerRenderer.size/2);for(var l=0;l<e.gridData.length;l++)s=e.gridData[l],n.showVerticalLine&&Math.abs(t-s[0])<=r&&(i.indices.push(a),i.data.push({seriesIndex:a,pointIndex:l,gridData:s,data:e.data[l]}))}return i}function g(o,t){var e=t.plugins.cursor,s=e._tooltipElem;switch(e.tooltipLocation){case"nw":var r=o.x+t._gridPadding.left-s.outerWidth(!0)-e.tooltipOffset,i=o.y+t._gridPadding.top-e.tooltipOffset-s.outerHeight(!0);break;case"n":r=o.x+t._gridPadding.left-s.outerWidth(!0)/2,i=o.y+t._gridPadding.top-e.tooltipOffset-s.outerHeight(!0);break;case"ne":r=o.x+t._gridPadding.left+e.tooltipOffset,i=o.y+t._gridPadding.top-e.tooltipOffset-s.outerHeight(!0);break;case"e":r=o.x+t._gridPadding.left+e.tooltipOffset,i=o.y+t._gridPadding.top-s.outerHeight(!0)/2;break;case"se":r=o.x+t._gridPadding.left+e.tooltipOffset,i=o.y+t._gridPadding.top+e.tooltipOffset;break;case"s":r=o.x+t._gridPadding.left-s.outerWidth(!0)/2,i=o.y+t._gridPadding.top+e.tooltipOffset;break;case"sw":r=o.x+t._gridPadding.left-s.outerWidth(!0)-e.tooltipOffset,i=o.y+t._gridPadding.top+e.tooltipOffset;break;case"w":r=o.x+t._gridPadding.left-s.outerWidth(!0)-e.tooltipOffset,i=o.y+t._gridPadding.top-s.outerHeight(!0)/2;break;default:r=o.x+t._gridPadding.left+e.tooltipOffset,i=o.y+t._gridPadding.top+e.tooltipOffset}s.css("left",r),s.css("top",i)}function i(o,t,e,s,r){o.preventDefault(),o.stopImmediatePropagation();o=r.plugins.cursor,o.clickReset&&o.resetZoom(r,o),r=window.getSelection;return document.selection&&document.selection.empty?document.selection.empty():r&&!r().isCollapsed&&r().collapse(),!1}function n(o,t,e,s,r){o.preventDefault(),o.stopImmediatePropagation();o=r.plugins.cursor,o.dblClickReset&&o.resetZoom(r,o),r=window.getSelection;return document.selection&&document.selection.empty?document.selection.empty():r&&!r().isCollapsed&&r().collapse(),!1}function a(o,t,e,s,r){var i=r.plugins.cursor;if((i.onGrid=!1,i.show)&&(v(o.target).css("cursor",i.previousCursor),!i.showTooltip||i._zoom.zooming&&i.showTooltipOutsideZoom&&!i.constrainOutsideZoom||(i._tooltipElem.empty(),i._tooltipElem.hide()),i.zoom&&(i._zoom.gridpos=t,i._zoom.datapos=e),(i.showVerticalLine||i.showHorizontalLine)&&((o=i.cursorCanvas._ctx).clearRect(0,0,o.canvas.width,o.canvas.height),o=null),i.showCursorLegend))for(var n=v(r.targetId+" td.jqplot-cursor-legend-label"),a=0;a<n.length;a++){var l=v(n[a]).data("seriesIndex"),l=r.series[l].label.toString();r.legend.escapeHtml?v(n[a]).text(v.jqplot.sprintf(i.cursorLegendFormatString,l,void 0,void 0)):v(n[a]).html(v.jqplot.sprintf(i.cursorLegendFormatString,l,void 0,void 0))}}function l(o,t,e,s,r){var i=r.plugins.cursor;if(i.onGrid=!0,i.show){if(i.previousCursor=o.target.style.cursor,o.target.style.cursor=i.style,i.showTooltip){if(p(t,e,r),i.followMouse)g(t,r);else{var n=r,a=n._gridPadding,l=n.plugins.cursor,d=l._tooltipElem;switch(l.tooltipLocation){case"nw":var c=a.left+l.tooltipOffset,u=a.top+l.tooltipOffset;d.css("left",c),d.css("top",u);break;case"n":c=(a.left+(n._plotDimensions.width-a.right))/2-d.outerWidth(!0)/2,u=a.top+l.tooltipOffset;d.css("left",c),d.css("top",u);break;case"ne":c=a.right+l.tooltipOffset,u=a.top+l.tooltipOffset;d.css({right:c,top:u});break;case"e":c=a.right+l.tooltipOffset,u=(a.top+(n._plotDimensions.height-a.bottom))/2-d.outerHeight(!0)/2;d.css({right:c,top:u});break;case"se":c=a.right+l.tooltipOffset,u=a.bottom+l.tooltipOffset;d.css({right:c,bottom:u});break;case"s":c=(a.left+(n._plotDimensions.width-a.right))/2-d.outerWidth(!0)/2,u=a.bottom+l.tooltipOffset;d.css({left:c,bottom:u});break;case"sw":c=a.left+l.tooltipOffset,u=a.bottom+l.tooltipOffset;d.css({left:c,bottom:u});break;case"w":c=a.left+l.tooltipOffset,u=(a.top+(n._plotDimensions.height-a.bottom))/2-d.outerHeight(!0)/2;d.css({left:c,top:u});break;default:c=a.right-l.tooltipOffset,u=a.bottom+l.tooltipOffset;d.css({right:c,bottom:u})}}i._tooltipElem.show()}(i.showVerticalLine||i.showHorizontalLine)&&m(t,r)}}function d(o,t,e,s,r){var i=r.plugins.cursor;i.show&&(i.showTooltip&&(p(t,e,r),i.followMouse)&&g(t,r),i.showVerticalLine||i.showHorizontalLine)&&m(t,r)}function c(o){var t,e,s,r,i,n=o.data.plot,a=n.plugins.cursor;a.show&&a.zoom&&a._zoom.started&&!a.zoomTarget&&(o.preventDefault(),i=a.zoomCanvas._ctx,t=(o=function(o){for(var t,e=o.data.plot,s=e.eventCanvas._elem.offset(),r={x:o.pageX-s.left,y:o.pageY-s.top},i={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},n=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],a=e.axes,l=11;0<l;l--)a[t=n[l-1]].show&&(i[t]=a[t].series_p2u(r[t.charAt(0)]));return{offsets:s,gridPos:r,dataPos:i}}(o)).gridPos,o=o.dataPos,a._zoom.gridpos=t,a._zoom.datapos=o,a._zoom.zooming=!0,e=t.x,s=t.y,r=i.canvas.height,i=i.canvas.width,a.showTooltip&&!a.onGrid&&a.showTooltipOutsideZoom&&(p(t,o,n),a.followMouse)&&g(t,n),"x"==a.constrainZoomTo?a._zoom.end=[e,r]:"y"==a.constrainZoomTo?a._zoom.end=[i,s]:a._zoom.end=[e,s],o=window.getSelection,document.selection&&document.selection.empty?document.selection.empty():o&&!o().isCollapsed&&o().collapse(),function(){var o,t,e,s=this._zoom.start,r=this._zoom.end,i=this.zoomCanvas._ctx;e=r[0]>s[0]?(o=s[0],r[0]-s[0]):(o=r[0],s[0]-r[0]);s=r[1]>s[1]?(t=s[1],r[1]-s[1]):(t=r[1],s[1]-r[1]);i.fillStyle="rgba(0,0,0,0.2)",i.strokeStyle="#999999",i.lineWidth=1,i.clearRect(0,0,i.canvas.width,i.canvas.height),i.fillRect(0,0,i.canvas.width,i.canvas.height),i.clearRect(o,t,e,s),i.strokeRect(o,t,e,s),i=null}.call(a))}function u(o,t,e,s,r){var i,n,a=r.plugins.cursor;r.plugins.mobile?v(document).one("vmouseup.jqplot_cursor",{plot:r},h):v(document).one("mouseup.jqplot_cursor",{plot:r},h),r.axes;if(null!=document.onselectstart&&(a._oldHandlers.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),null!=document.ondrag&&(a._oldHandlers.ondrag=document.ondrag,document.ondrag=function(){return!1}),null!=document.onmousedown&&(a._oldHandlers.onmousedown=document.onmousedown,document.onmousedown=function(){return!1}),a.zoom){for(n in a.zoomProxy||((i=a.zoomCanvas._ctx).clearRect(0,0,i.canvas.width,i.canvas.height),i=null),"x"==a.constrainZoomTo?a._zoom.start=[t.x,0]:"y"==a.constrainZoomTo?a._zoom.start=[0,t.y]:a._zoom.start=[t.x,t.y],a._zoom.started=!0,e)a._zoom.axes.start[n]=e[n];r.plugins.mobile?v(document).bind("vmousemove.jqplotCursor",{plot:r},c):v(document).bind("mousemove.jqplotCursor",{plot:r},c)}}function h(o){var o=o.data.plot,t=o.plugins.cursor;if(t.zoom&&t._zoom.zooming&&!t.zoomTarget){var e=t._zoom.gridpos.x,s=t._zoom.gridpos.y,r=t._zoom.datapos,i=t.zoomCanvas._ctx.canvas.height,n=t.zoomCanvas._ctx.canvas.width,a=o.axes;if(t.constrainOutsideZoom&&!t.onGrid)for(var l in e<0?e=0:n<e&&(e=n),s<0?s=0:i<s&&(s=i),r)r[l]&&("x"==l.charAt(0)?r[l]=a[l].series_p2u(e):r[l]=a[l].series_p2u(s));"x"==t.constrainZoomTo?s=i:"y"==t.constrainZoomTo&&(e=n),t._zoom.end=[e,s],t._zoom.gridpos={x:e,y:s},t.doZoom(t._zoom.gridpos,r,o,t)}t._zoom.started=!1,t._zoom.zooming=!1,v(document).unbind("mousemove.jqplotCursor",c),null!=document.onselectstart&&null!=t._oldHandlers.onselectstart&&(document.onselectstart=t._oldHandlers.onselectstart,t._oldHandlers.onselectstart=null),null!=document.ondrag&&null!=t._oldHandlers.ondrag&&(document.ondrag=t._oldHandlers.ondrag,t._oldHandlers.ondrag=null),null!=document.onmousedown&&null!=t._oldHandlers.onmousedown&&(document.onmousedown=t._oldHandlers.onmousedown,t._oldHandlers.onmousedown=null)}v.jqplot.Cursor=function(o){this.style="crosshair",this.previousCursor="auto",this.show=v.jqplot.config.enablePlugins,this.showTooltip=!0,this.followMouse=!1,this.tooltipLocation="se",this.tooltipOffset=6,this.showTooltipGridPosition=!1,this.showTooltipUnitPosition=!0,this.showTooltipDataPosition=!1,this.tooltipFormatString="%.4P, %.4P",this.useAxesFormatters=!0,this.tooltipAxisGroups=[],this.zoom=!1,this.zoomProxy=!1,this.zoomTarget=!1,this.looseZoom=!0,this.clickReset=!1,this.dblClickReset=!0,this.showVerticalLine=!1,this.showHorizontalLine=!1,this.constrainZoomTo="none",this.shapeRenderer=new v.jqplot.ShapeRenderer,this._zoom={start:[],end:[],started:!1,zooming:!1,isZoomed:!1,axes:{start:{},end:{}},gridpos:{},datapos:{}},this._tooltipElem,this.zoomCanvas,this.cursorCanvas,this.intersectionThreshold=2,this.showCursorLegend=!1,this.cursorLegendFormatString=v.jqplot.Cursor.cursorLegendFormatString,this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null},this.constrainOutsideZoom=!0,this.showTooltipOutsideZoom=!1,this.onGrid=!1,v.extend(!0,this,o)},v.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s",v.jqplot.Cursor.init=function(o,t,e){var s=e||{},r=(this.plugins.cursor=new v.jqplot.Cursor(s.cursor),this.plugins.cursor);r.show&&(v.jqplot.eventListenerHooks.push(["jqplotMouseEnter",l]),v.jqplot.eventListenerHooks.push(["jqplotMouseLeave",a]),v.jqplot.eventListenerHooks.push(["jqplotMouseMove",d]),r.showCursorLegend&&(e.legend=e.legend||{},e.legend.renderer=v.jqplot.CursorLegendRenderer,e.legend.formatString=this.plugins.cursor.cursorLegendFormatString,e.legend.show=!0),r.zoom&&(v.jqplot.eventListenerHooks.push(["jqplotMouseDown",u]),r.clickReset&&v.jqplot.eventListenerHooks.push(["jqplotClick",i]),r.dblClickReset)&&v.jqplot.eventListenerHooks.push(["jqplotDblClick",n]),this.resetZoom=function(){var o=this.axes;if(r.zoomProxy){var t=this.plugins.cursor.zoomCanvas._ctx;t.clearRect(0,0,t.canvas.width,t.canvas.height),t=null}else{for(var e in o)o[e].reset(),o[e]._ticks=[],void 0!==r._zoom.axes[e]&&(o[e]._autoFormatString=r._zoom.axes[e].tickFormatString);this.redraw()}this.plugins.cursor._zoom.isZoomed=!1,this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])},r.showTooltipDataPosition)&&(r.showTooltipUnitPosition=!1,r.showTooltipGridPosition=!1,null==s.cursor.tooltipFormatString)&&(r.tooltipFormatString=v.jqplot.Cursor.cursorLegendFormatString)},v.jqplot.Cursor.postDraw=function(){var o=this.plugins.cursor,t=(o.zoomCanvas&&(o.zoomCanvas.resetCanvas(),o.zoomCanvas=null),o.cursorCanvas&&(o.cursorCanvas.resetCanvas(),o.cursorCanvas=null),o._tooltipElem&&(o._tooltipElem.emptyForce(),o._tooltipElem=null),o.zoom&&(o.zoomCanvas=new v.jqplot.GenericCanvas,this.eventCanvas._elem.before(o.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this)),o.zoomCanvas.setContext()),document.createElement("div"));if(o._tooltipElem=v(t),o._tooltipElem.addClass("jqplot-cursor-tooltip"),o._tooltipElem.css({position:"absolute",display:"none"}),(o.zoomCanvas||this.eventCanvas)._elem.before(o._tooltipElem),(o.showVerticalLine||o.showHorizontalLine)&&(o.cursorCanvas=new v.jqplot.GenericCanvas,this.eventCanvas._elem.before(o.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this)),o.cursorCanvas.setContext()),o.showTooltipUnitPosition&&0===o.tooltipAxisGroups.length){for(var e=this.series,s=[],r=0;r<e.length;r++){var i=(i=e[r]).xaxis+","+i.yaxis;-1==v.inArray(i,s)&&s.push(i)}for(r=0;r<s.length;r++)o.tooltipAxisGroups.push(s[r].split(","))}},v.jqplot.Cursor.zoomProxy=function(i,o){var n=i.plugins.cursor,t=o.plugins.cursor;n.zoomTarget=!0,n.zoom=!0,n.style="auto",n.dblClickReset=!1,t.zoom=!0,t.zoomProxy=!0,o.target.bind("jqplotZoom",function(o,t,e,s,r){n.doZoom(t,e,i,r)}),o.target.bind("jqplotResetZoom",function(o,t,e){i.resetZoom()})},v.jqplot.Cursor.prototype.resetZoom=function(o,t){var e=o.axes,s=t._zoom.axes;if(!o.plugins.cursor.zoomProxy&&t._zoom.isZoomed){for(var r in e)e[r].reset(),e[r]._ticks=[],e[r]._autoFormatString=s[r].tickFormatString;o.redraw(),t._zoom.isZoomed=!1}else{var i=t.zoomCanvas._ctx;i.clearRect(0,0,i.canvas.width,i.canvas.height),i=null}o.target.trigger("jqplotResetZoom",[o,t])},v.jqplot.Cursor.resetZoom=function(o){o.resetZoom()},v.jqplot.Cursor.prototype.doZoom=function(o,t,e,s){var r,i,n,a,l=s,d=e.axes,c=l._zoom.axes,u=c.start,c=(c.end,e.plugins.cursor.zoomCanvas._ctx);if("none"==l.constrainZoomTo&&6<Math.abs(o.x-l._zoom.start[0])&&6<Math.abs(o.y-l._zoom.start[1])||"x"==l.constrainZoomTo&&6<Math.abs(o.x-l._zoom.start[0])||"y"==l.constrainZoomTo&&6<Math.abs(o.y-l._zoom.start[1])){if(!e.plugins.cursor.zoomProxy){for(var p in t)null==l._zoom.axes[p]&&(l._zoom.axes[p]={},l._zoom.axes[p].numberTicks=d[p].numberTicks,l._zoom.axes[p].tickInterval=d[p].tickInterval,l._zoom.axes[p].daTickInterval=d[p].daTickInterval,l._zoom.axes[p].min=d[p].min,l._zoom.axes[p].max=d[p].max,l._zoom.axes[p].tickFormatString=null!=d[p].tickOptions?d[p].tickOptions.formatString:""),("none"==l.constrainZoomTo||"x"==l.constrainZoomTo&&"x"==p.charAt(0)||"y"==l.constrainZoomTo&&"y"==p.charAt(0))&&null!=(a=t[p])&&(a=a>u[p]?(r=u[p],a):(u[p],r=a,u[p]),n=null,(i=d[p]).alignTicks&&("x2axis"===i.name&&e.axes.xaxis.show?n=e.axes.xaxis.numberTicks:"y"===i.name.charAt(0)&&"yaxis"!==i.name&&"yMidAxis"!==i.name&&e.axes.yaxis.show&&(n=e.axes.yaxis.numberTicks)),!this.looseZoom||d[p].renderer.constructor!==v.jqplot.LinearAxisRenderer&&d[p].renderer.constructor!==v.jqplot.LogAxisRenderer?(d[p].min=r,d[p].max=a,d[p].tickInterval=null,d[p].numberTicks=null,d[p].daTickInterval=null):(a=v.jqplot.LinearTickGenerator(r,a,i._scalefact,n),d[p].tickInset&&a[0]<d[p].min+d[p].tickInset*d[p].tickInterval&&(a[0]+=a[4],--a[2]),d[p].tickInset&&a[1]>d[p].max-d[p].tickInset*d[p].tickInterval&&(a[1]-=a[4],--a[2]),d[p].renderer.constructor===v.jqplot.LogAxisRenderer&&a[0]<d[p].min&&(a[0]+=a[4],--a[2]),d[p].min=a[0],d[p].max=a[1],d[p]._autoFormatString=a[3],d[p].numberTicks=a[2],d[p].tickInterval=a[4],d[p].daTickInterval=[a[4]/1e3,"seconds"]),d[p]._ticks=[]);c.clearRect(0,0,c.canvas.width,c.canvas.height),e.redraw(),l._zoom.isZoomed=!0,c=null}e.target.trigger("jqplotZoom",[o,t,e,s])}},v.jqplot.preInitHooks.push(v.jqplot.Cursor.init),v.jqplot.postDrawHooks.push(v.jqplot.Cursor.postDraw),v.jqplot.CursorLegendRenderer=function(o){v.jqplot.TableLegendRenderer.call(this,o),this.formatString="%s"},v.jqplot.CursorLegendRenderer.prototype=new v.jqplot.TableLegendRenderer,v.jqplot.CursorLegendRenderer.prototype.constructor=v.jqplot.CursorLegendRenderer,v.jqplot.CursorLegendRenderer.prototype.draw=function(){if(this._elem&&(this._elem.emptyForce(),this._elem=null),this.show){for(var o,t=this._series,e=document.createElement("table"),s=(this._elem=v(e),this._elem.addClass("jqplot-legend jqplot-cursor-legend"),this._elem.css("position","absolute"),!1),r=0;r<t.length;r++)if((o=t[r]).show&&o.showLabel){var i,n=v.jqplot.sprintf(this.formatString,o.label.toString());n&&(i=o.color,o._stack&&!o.fill&&(i=""),d.call(this,n,i,s,r),s=!0);for(var a=0;a<v.jqplot.addLegendRowHooks.length;a++){var l=v.jqplot.addLegendRowHooks[a].call(this,o);l&&(d.call(this,l.label,l.color,s),s=!0)}}t=o=null,delete t,delete o}function d(o,t,e,s){var e=e?this.rowSpacing:"0",r=v('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem),t=(r.data("seriesIndex",s),v('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+e+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+t+';"></div></div></td>').appendTo(r),v('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+e+';"></td>'));t.appendTo(r),t.data("seriesIndex",s),this.escapeHtml?t.text(o):t.html(o),r=null}return this._elem}}(jQuery);