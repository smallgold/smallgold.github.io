!function(M){"use strict";var h={},F=(h.fileapi=void 0!==M("<input type='file'/>").get(0).files,h.formdata=void 0!==window.FormData,!!M.fn.prop);function a(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),M(this).ajaxSubmit(t))}function r(e){var t=e.target,a=M(t);if(!a.is("[type=submit],[type=image]")){var r=a.closest("[type=submit]");if(0===r.length)return;t=r[0]}var n=this;"image"==(n.clk=t).type&&(void 0!==e.offsetX?(n.clk_x=e.offsetX,n.clk_y=e.offsetY):"function"==typeof M.fn.offset?(r=a.offset(),n.clk_x=e.pageX-r.left,n.clk_y=e.pageY-r.top):(n.clk_x=e.pageX-t.offsetLeft,n.clk_y=e.pageY-t.offsetTop)),setTimeout(function(){n.clk=n.clk_x=n.clk_y=null},100)}function O(){var e;M.fn.ajaxSubmit.debug&&(e="[jquery.form] "+Array.prototype.join.call(arguments,""),window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e))}M.fn.attr2=function(){var e;return F&&((e=this.prop.apply(this,arguments))&&e.jquery||"string"==typeof e)?e:this.attr.apply(this,arguments)},M.fn.ajaxSubmit=function(l){if(this.length){var A,E=this,e=("function"==typeof l&&(l={success:l}),A=this.attr2("method"),e=(e=(e="string"==typeof(e=this.attr2("action"))?M.trim(e):"")||window.location.href||"")&&(e.match(/^([^#]+)/)||[])[1],l=M.extend(!0,{url:e,success:M.ajaxSettings.success,type:A||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},l),{});if(this.trigger("form-pre-serialize",[this,l,e]),e.veto)O("ajaxSubmit: submit vetoed via form-pre-serialize trigger");else if(l.beforeSerialize&&!1===l.beforeSerialize(this,l))O("ajaxSubmit: submit aborted via beforeSerialize callback");else{var t=l.traditional,L=(void 0===t&&(t=M.ajaxSettings.traditional),[]),a=this.formToArray(l.semantic,L);if(l.data&&(l.extraData=l.data,o=M.param(l.data,t)),l.beforeSubmit&&!1===l.beforeSubmit(a,this,l))O("ajaxSubmit: submit aborted via beforeSubmit callback");else if(this.trigger("form-submit-validate",[a,this,l,e]),e.veto)O("ajaxSubmit: submit vetoed via form-submit-validate trigger");else{var r,e=M.param(a,t),i=(o&&(e=e?e+"&"+o:o),"GET"==l.type.toUpperCase()?(l.url+=(0<=l.url.indexOf("?")?"&":"?")+e,l.data=null):l.data=e,[]);l.resetForm&&i.push(function(){E.resetForm()}),l.clearForm&&i.push(function(){E.clearForm(l.includeHidden)}),!l.dataType&&l.target?(r=l.success||function(){},i.push(function(e){var t=l.replaceTarget?"replaceWith":"html";M(l.target)[t](e).each(r,arguments)})):l.success&&i.push(l.success),l.success=function(e,t,a){for(var r=l.context||this,n=0,o=i.length;n<o;n++)i[n].apply(r,[e,t,a||E,E])};var n,t=0<M('input[type=file]:enabled[value!=""]',this).length,o="multipart/form-data",e=E.attr("enctype")==o||E.attr("encoding")==o,o=h.fileapi&&h.formdata;O("fileAPI :"+o),!1!==l.iframe&&(l.iframe||(t||e)&&!o)?l.closeKeepAlive?M.get(l.closeKeepAlive,function(){n=c(a)}):n=c(a):n=(t||e)&&o?function(e){for(var a=new FormData,t=0;t<e.length;t++)a.append(e[t].name,e[t].value);if(l.extraData){var r=function(e){var t,a,r=M.param(e).split("&"),n=r.length,o=[];for(t=0;t<n;t++)r[t]=r[t].replace(/\+/g," "),a=r[t].split("="),o.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return o}(l.extraData);for(t=0;t<r.length;t++)r[t]&&a.append(r[t][0],r[t][1])}l.data=null;var n=M.extend(!0,{},M.ajaxSettings,l,{contentType:!1,processData:!1,cache:!1,type:A||"POST"});l.uploadProgress&&(n.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,a=e.loaded||e.position,r=e.total;e.lengthComputable&&(t=Math.ceil(a/r*100)),l.uploadProgress(e,a,r,t)},!1),e});n.data=null;var o=n.beforeSend;return n.beforeSend=function(e,t){t.data=a,o&&o.call(this,e,t)},M.ajax(n)}(a):M.ajax(l),E.removeData("jqxhr").data("jqxhr",n);for(var s=0;s<L.length;s++)L[s]=null;this.trigger("form-submit-notify",[this,l])}}}else O("ajaxSubmit: skipping submit process - no element selected");return this;function c(e){var t,a,c,u,n,f,m,d,p,h,v,g,r,x,b,y,T,j,o,w,i=E[0],S=M.Deferred();if(e)for(a=0;a<L.length;a++)t=M(L[a]),F?t.prop("disabled",!1):t.removeAttr("disabled");return(c=M.extend(!0,{},M.ajaxSettings,l)).context=c.context||c,n="jqFormIO"+(new Date).getTime(),c.iframeTarget?(r=(f=M(c.iframeTarget)).attr2("name"))?n=r:f.attr2("name",n):(f=M('<iframe name="'+n+'" src="'+c.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),m=f[0],d={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";O("aborting upload... "+t),this.aborted=1;try{m.contentWindow.document.execCommand&&m.contentWindow.document.execCommand("Stop")}catch(e){}f.attr("src",c.iframeSrc),d.error=t,c.error&&c.error.call(c.context,d,t,e),u&&M.event.trigger("ajaxError",[d,c,t]),c.complete&&c.complete.call(c.context,d,t)}},(u=c.global)&&0==M.active++&&M.event.trigger("ajaxStart"),u&&M.event.trigger("ajaxSend",[d,c]),c.beforeSend&&!1===c.beforeSend.call(c.context,d,c)?(c.global&&M.active--,S.reject()):d.aborted?S.reject():((e=i.clk)&&(r=e.name)&&!e.disabled&&(c.extraData=c.extraData||{},c.extraData[r]=e.value,"image"==e.type)&&(c.extraData[r+".x"]=i.clk_x,c.extraData[r+".y"]=i.clk_y),v=1,g=2,e=M("meta[name=csrf-token]").attr("content"),(r=M("meta[name=csrf-param]").attr("content"))&&e&&(c.extraData=c.extraData||{},c.extraData[r]=e),c.forceSync?s():setTimeout(s,10),y=50,j=M.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},o=M.parseJSON||function(e){return window.eval("("+e+")")},w=function(e,t,a){var r=e.getResponseHeader("content-type")||"",n="xml"===t||!t&&0<=r.indexOf("xml"),e=n?e.responseXML:e.responseText;return n&&"parsererror"===e.documentElement.nodeName&&M.error&&M.error("parsererror"),"string"==typeof(e=a&&a.dataFilter?a.dataFilter(e,t):e)&&("json"===t||!t&&0<=r.indexOf("json")?e=o(e):("script"===t||!t&&0<=r.indexOf("javascript"))&&M.globalEval(e)),e}),S;function k(t){var a=null;try{t.contentWindow&&(a=t.contentWindow.document)}catch(e){O("cannot get iframe.contentWindow document: "+e)}if(!a)try{a=t.contentDocument||t.document}catch(e){O("cannot get iframe.contentDocument: "+e),a=t.document}return a}function s(){var e=E.attr2("target"),t=E.attr2("action");i.setAttribute("target",n),A||i.setAttribute("method","POST"),t!=c.url&&i.setAttribute("action",c.url),c.skipEncodingOverride||A&&!/post/i.test(A)||E.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),c.timeout&&(h=setTimeout(function(){p=!0,D(v)},c.timeout));var a=[];try{if(c.extraData)for(var r in c.extraData)c.extraData.hasOwnProperty(r)&&(M.isPlainObject(c.extraData[r])&&c.extraData[r].hasOwnProperty("name")&&c.extraData[r].hasOwnProperty("value")?a.push(M('<input type="hidden" name="'+c.extraData[r].name+'">').val(c.extraData[r].value).appendTo(i)[0]):a.push(M('<input type="hidden" name="'+r+'">').val(c.extraData[r]).appendTo(i)[0]));c.iframeTarget||(f.appendTo("body"),m.attachEvent?m.attachEvent("onload",D):m.addEventListener("load",D,!1)),setTimeout(function e(){try{var t=k(m).readyState;O("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){O("Server abort: ",e," (",e.name,")"),D(g),h&&clearTimeout(h),h=void 0}},15);try{i.submit()}catch(e){document.createElement("form").submit.apply(i)}}finally{i.setAttribute("action",t),e?i.setAttribute("target",e):E.removeAttr("target"),M(a).remove()}}function D(t){if(!d.aborted&&!T)if((b=k(m))||(O("cannot access response document"),t=g),t===v&&d)d.abort("timeout"),S.reject(d,"timeout");else if(t==g&&d)d.abort("server abort"),S.reject(d,"error","server abort");else if(b&&b.location.href!=c.iframeSrc||p){m.detachEvent?m.detachEvent("onload",D):m.removeEventListener("load",D,!1);var a,t="success";try{if(p)throw"timeout";var e="xml"==c.dataType||b.XMLDocument||M.isXMLDoc(b);if(O("isXml="+e),!e&&window.opera&&(null===b.body||!b.body.innerHTML)&&--y)return O("requeing onLoad callback, DOM not available"),void setTimeout(D,250);var r,n,o,i=b.body||b.documentElement,s=(d.responseText=i?i.innerHTML:null,d.responseXML=b.XMLDocument||b,e&&(c.dataType="xml"),d.getResponseHeader=function(e){return{"content-type":c.dataType}[e]},i&&(d.status=Number(i.getAttribute("status"))||d.status,d.statusText=i.getAttribute("statusText")||d.statusText),(c.dataType||"").toLowerCase()),l=/(json|script|text)/.test(s);l||c.textarea?(r=b.getElementsByTagName("textarea")[0])?(d.responseText=r.value,d.status=Number(r.getAttribute("status"))||d.status,d.statusText=r.getAttribute("statusText")||d.statusText):l&&(n=b.getElementsByTagName("pre")[0],o=b.getElementsByTagName("body")[0],n?d.responseText=n.textContent||n.innerText:o&&(d.responseText=o.textContent||o.innerText)):"xml"==s&&!d.responseXML&&d.responseText&&(d.responseXML=j(d.responseText));try{x=w(d,s,c)}catch(e){t="parsererror",d.error=a=e||t}}catch(e){O("error caught: ",e),t="error",d.error=a=e||t}d.aborted&&(O("upload aborted"),t=null),"success"===(t=d.status?200<=d.status&&d.status<300||304===d.status?"success":"error":t)?(c.success&&c.success.call(c.context,x,"success",d),S.resolve(d.responseText,"success",d),u&&M.event.trigger("ajaxSuccess",[d,c])):t&&(void 0===a&&(a=d.statusText),c.error&&c.error.call(c.context,d,t,a),S.reject(d,"error",a),u)&&M.event.trigger("ajaxError",[d,c,a]),u&&M.event.trigger("ajaxComplete",[d,c]),u&&!--M.active&&M.event.trigger("ajaxStop"),c.complete&&c.complete.call(c.context,d,t),T=!0,c.timeout&&clearTimeout(h),setTimeout(function(){c.iframeTarget||f.remove(),d.responseXML=null},100)}}}},M.fn.ajaxForm=function(e){var t;return(e=e||{}).delegation=e.delegation&&M.isFunction(M.fn.on),e.delegation||0!==this.length?e.delegation?(M(document).off("submit.form-plugin",this.selector,a).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,e,a).on("click.form-plugin",this.selector,e,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,a).bind("click.form-plugin",e,r):(t={s:this.selector,c:this.context},!M.isReady&&t.s?(O("DOM not ready, queuing ajaxForm"),M(function(){M(t.s,t.c).ajaxForm(e)})):O("terminating; zero elements found by selector"+(M.isReady?"":" (DOM not ready)")),this)},M.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},M.fn.formToArray=function(e,t){var a=[];if(0!==this.length){var r=this[0],n=e?r.getElementsByTagName("*"):r.elements;if(n){for(var o,i,s,l,c,u,f,m=0,d=n.length;m<d;m++)if((f=(s=n[m]).name)&&!s.disabled)if(e&&r.clk&&"image"==s.type)r.clk==s&&(a.push({name:f,value:M(s).val(),type:s.type}),a.push({name:f+".x",value:r.clk_x},{name:f+".y",value:r.clk_y}));else if((i=M.fieldValue(s,!0))&&i.constructor==Array)for(t&&t.push(s),o=0,l=i.length;o<l;o++)a.push({name:f,value:i[o]});else if(h.fileapi&&"file"==s.type){t&&t.push(s);var p=s.files;if(p.length)for(o=0;o<p.length;o++)a.push({name:f,value:p[o],type:s.type});else a.push({name:f,value:"",type:s.type})}else null!=i&&(t&&t.push(s),a.push({name:f,value:i,type:s.type,required:s.required}));!e&&r.clk&&(f=(u=(c=M(r.clk))[0]).name)&&!u.disabled&&"image"==u.type&&(a.push({name:f,value:c.val()}),a.push({name:f+".x",value:r.clk_x},{name:f+".y",value:r.clk_y}))}}return a},M.fn.formSerialize=function(e){return M.param(this.formToArray(e))},M.fn.fieldSerialize=function(n){var o=[];return this.each(function(){var e=this.name;if(e){var t=M.fieldValue(this,n);if(t&&t.constructor==Array)for(var a=0,r=t.length;a<r;a++)o.push({name:e,value:t[a]});else null!=t&&o.push({name:this.name,value:t})}}),M.param(o)},M.fn.fieldValue=function(e){for(var t=[],a=0,r=this.length;a<r;a++){var n=this[a],n=M.fieldValue(n,e);null==n||n.constructor==Array&&!n.length||(n.constructor==Array?M.merge(t,n):t.push(n))}return t},M.fieldValue=function(e,t){var a=e.name,r=e.type,n=e.tagName.toLowerCase();if((t=void 0===t?!0:t)&&(!a||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==n&&-1==e.selectedIndex))return null;if("select"!=n)return M(e).val();t=e.selectedIndex;if(t<0)return null;for(var o=[],i=e.options,s="select-one"==r,l=s?t+1:i.length,c=s?t:0;c<l;c++){var u=i[c];if(u.selected){var f=(f=u.value)||(u.attributes&&u.attributes.value&&!u.attributes.value.specified?u.text:u.value);if(s)return f;o.push(f)}}return o},M.fn.clearForm=function(e){return this.each(function(){M("input,select,textarea",this).clearFields(e)})},M.fn.clearFields=M.fn.clearInputs=function(a){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();r.test(e)||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t?this.selectedIndex=-1:"file"==e?/MSIE/.test(navigator.userAgent)?M(this).replaceWith(M(this).clone(!0)):M(this).val(""):a&&(!0===a&&/hidden/.test(e)||"string"==typeof a&&M(this).is(a))&&(this.value="")})},M.fn.resetForm=function(){return this.each(function(){"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset()})},M.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},M.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var e=this.type;"checkbox"==e||"radio"==e?this.checked=t:"option"==this.tagName.toLowerCase()&&(e=M(this).parent("select"),t&&e[0]&&"select-one"==e[0].type&&e.find("option").selected(!1),this.selected=t)})},M.fn.ajaxSubmit.debug=!1}(jQuery);