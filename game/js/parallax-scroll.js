jQuery(function(){ParallaxScroll.init()});var ParallaxScroll={showLogs:!1,round:1e3,init:function(){this._log("init"),this._inited?(this._log("Already Inited"),this._inited=!0):(this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,e){window.setTimeout(a,1e3/60)},this._onScroll(!0))},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(a){this.showLogs&&console.log("Parallax Scroll / "+a)},_onScroll:function(f){var A=jQuery(document).scrollTop(),q=jQuery(window).height();this._log("onScroll "+A),jQuery("[data-parallax]").each(jQuery.proxy(function(a,e){for(var r=jQuery(e),i=[],o=!1,t=r.data("style"),l=(null==t&&(t=r.attr("style")||"",r.data("style",t)),[r.data("parallax")]),n=2;r.data("parallax"+n);n++)l.push(r.data("parallax-"+n));var s,u,c=l.length;for(n=0;n<c;n++){var d,m,h,y=l[n],p=y["from-scroll"],w=(null==p&&(p=Math.max(0,jQuery(e).offset().top-q)),p|=0,y.distance),g=y["to-scroll"],x=(null==w&&null==g&&(w=q),w=Math.max(0|w,1),y.easing),_=y["easing-return"],j=(null!=x&&jQuery.easing&&jQuery.easing[x]||(x=null),null!=_&&jQuery.easing&&jQuery.easing[_]||(_=x),x&&(null==(d=y.duration)&&(d=w),d=Math.max(0|d,1),null==(m=y["duration-return"])&&(m=d),w=1,null==(h=r.data("current-time")))&&(h=0),null==g&&(g=p+w),g|=0,y.smoothness),Q=(null==j&&(j=30),j|=0,!f&&0!=j||(j=1),j|=0,A),Q=Math.max(Q,p);Q=Math.min(Q,g),x&&(null==r.data("sens")&&r.data("sens","back"),p<Q&&("back"==r.data("sens")?(h=1,r.data("sens","go")):h++),Q<g&&("go"==r.data("sens")?(h=1,r.data("sens","back")):h++),f&&(h=d),r.data("current-time",h)),this._properties.map(jQuery.proxy(function(a){var e,t,l,n=0,s=y[a];null!=s&&("scale"==a||"scaleX"==a||"scaleY"==a||"scaleZ"==a?n=1:s|=0,l=(e=null==(e=r.data("_"+a))?n:e)+((t=(Q-p)/(g-p)*(s-n)+n)-e)/j,x&&0<h&&h<=d&&(n=n,"back"==r.data("sens")&&(s=-(n=s),x=_,d=m),l=jQuery.easing[x](null,h,n,s,d)),(l=Math.ceil(l*this.round)/this.round)==e&&t==s&&(l=s),i[a]||(i[a]=0),i[a]+=l,e!=i[a])&&(r.data("_"+a,i[a]),o=!0)},this))}o&&(null!=i.z&&(null==(u=y.perspective)&&(u=800),(s=r.parent()).data("style")||s.data("style",s.attr("style")||""),s.attr("style","perspective:"+u+"px; -webkit-perspective:"+u+"px; "+s.data("style"))),null==i.scaleX&&(i.scaleX=1),null==i.scaleY&&(i.scaleY=1),null==i.scaleZ&&(i.scaleZ=1),null!=i.scale&&(i.scaleX*=i.scale,i.scaleY*=i.scale,i.scaleZ*=i.scale),this._log(u="translate3d("+(i.x||0)+"px, "+(i.y||0)+"px, "+(i.z||0)+"px)"+" "+("rotateX("+(i.rotateX||0)+"deg) rotateY("+(i.rotateY||0)+"deg) rotateZ("+(i.rotateZ||0)+"deg)")+" "+("scaleX("+i.scaleX+") scaleY("+i.scaleY+") scaleZ("+i.scaleZ+")")+";"),r.attr("style","transform:"+u+" -webkit-transform:"+u+" "+t))},this)),window.requestAnimationFrame?window.requestAnimationFrame(jQuery.proxy(this._onScroll,this,!1)):this._requestAnimationFrame(jQuery.proxy(this._onScroll,this,!1))}};