!function(r){"use strict";"function"==typeof define&&define.amd?define("parollerjs",["jquery"],r):"object"==typeof module&&"object"==typeof module.exports?module.exports=r(require("jquery")):r(jQuery)}(function(m){"use strict";function g(){w=!1}var w=!1,v=function(r,t){return r.css({"background-position":"center "+-t+"px"})},x=function(r,t){return r.css({"background-position":-t+"px center"})},b=function(r,t,o){return r.css({"-webkit-transform":"translateY("+t+"px)"+(o="none"===o?"":o),"-moz-transform":"translateY("+t+"px)"+o,transform:"translateY("+t+"px)"+o,transition:"transform linear","will-change":"transform"})},k=function(r,t,o){return r.css({"-webkit-transform":"translateX("+t+"px)"+(o="none"===o?"":o),"-moz-transform":"translateX("+t+"px)"+o,transform:"translateX("+t+"px)"+o,transition:"transform linear","will-change":"transform"})},y=function(r,t,o){var n=r.data("paroller-factor"),n=n||o.factor;return t<576?r.data("paroller-factor-xs")||o.factorXs||n:t<=768?r.data("paroller-factor-sm")||o.factorSm||n:t<=1024?r.data("paroller-factor-md")||o.factorMd||n:t<=1200?r.data("paroller-factor-lg")||o.factorLg||n:t<=1920&&(r.data("paroller-factor-xl")||o.factorXl)||n},z=function(r,t){return Math.round(r*t)},M=function(r,t,o,n){return Math.round((r-o/2+n)*t)},X=function(r){return r.css({"background-position":"unset"})},j=function(r){return r.css({transform:"unset",transition:"unset"})};m.fn.paroller=function(d){var p=m(window).height(),h=m(document).height(),d=m.extend({factor:0,factorXs:0,factorSm:0,factorMd:0,factorLg:0,factorXl:0,type:"background",direction:"vertical"},d);return this.each(function(){var t=m(this),o=m(window).width(),n=t.offset().top,a=t.outerHeight(),r=t.data("paroller-type"),e=t.data("paroller-direction"),i=t.css("transform"),c=r||d.type,s=e||d.direction,f=y(t,o,d),u=z(n,f),l=M(n,f,p,a);"background"===c?"vertical"===s?v(t,u):"horizontal"===s&&x(t,u):"foreground"===c&&("vertical"===s?b(t,l,i):"horizontal"===s&&k(t,l,i)),m(window).on("resize",function(){var r=m(this).scrollTop();o=m(window).width(),n=t.offset().top,a=t.outerHeight(),f=y(t,o,d),u=Math.round(n*f),l=Math.round((n-p/2+a)*f),w||(window.requestAnimationFrame(g),w=!0),"background"===c?(X(t),"vertical"===s?v(t,u):"horizontal"===s&&x(t,u)):"foreground"===c&&r<=h&&(j(t),"vertical"===s?b(t,l):"horizontal"===s&&k(t,l))}),m(window).on("scroll",function(){var r=m(this).scrollTop();h=m(document).height(),u=Math.round((n-r)*f),l=Math.round((n-p/2+a-r)*f),w||(window.requestAnimationFrame(g),w=!0),"background"===c?"vertical"===s?v(t,u):"horizontal"===s&&x(t,u):"foreground"===c&&r<=h&&("vertical"===s?b(t,l,i):"horizontal"===s&&k(t,l,i))})})}});