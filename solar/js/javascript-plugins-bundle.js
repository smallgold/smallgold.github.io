!function(i){i.fn.equalHeights=function(){var e=0,t=i(this);return t.each(function(){var t=i(this).innerHeight();e<t&&(e=t)}),t.css("height",e)},i("[data-equal]").each(function(){var t=i(this),e=t.data("equal");t.find(e).equalHeights()})}(jQuery),!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i;if(t&&e)return-1==(i=(i=this._events=this._events||{})[t]=i[t]||[]).indexOf(e)&&i.push(e),this},e.once=function(t,e){var i;if(t&&e)return this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||{})[e]=!0,this},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return-1!=(e=t.indexOf(e))&&t.splice(e,1),this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],s=0;s<i.length;s++){var o=i[s];n&&n[o]&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(e,i){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function o(t,e){for(var i in e)t[i]=e[i];return t}function r(t,e,i){var n,s;return this instanceof r?(n="string"==typeof(n=t)?document.querySelectorAll(t):n)?(this.elements=(s=n,Array.isArray(s)?s:"object"==typeof s&&"number"==typeof s.length?c.call(s):[s]),this.options=o({},this.options),"function"==typeof e?i=e:o(this.options,e),i&&this.on("always",i),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(n||t)):new r(t,e,i)}function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}var a=e.jQuery,l=e.console,c=Array.prototype.slice,h=((r.prototype=Object.create(t.prototype)).options={},r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},r.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&h[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if("string"==typeof this.options.background)for(var o=t.querySelectorAll(this.options.background),n=0;n<o.length;n++){var r=o[n];this.addElementBackgroundImages(r)}}},{1:!0,9:!0,11:!0});return r.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var s=n&&n[2];s&&this.addBackground(s,t),n=i.exec(e.backgroundImage)}},r.prototype.addImage=function(t){t=new i(t);this.images.push(t)},r.prototype.addBackground=function(t,e){t=new n(t,e);this.images.push(t)},r.prototype.check=function(){function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}var n=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},r.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(r.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((a=t).fn.imagesLoaded=function(t,e){return new r(this,t,e).jqDeferred.promise(a(this))})})(),r}),!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports&&"string"!=typeof exports.nodeName?module.exports=e():t.Instafeed=e()}(this,function(){function n(t,e){if(!t)throw new Error(e)}function t(t){n(!t||"object"==typeof t,"options must be an object, got "+t+" ("+typeof t+")");var e={accessToken:null,accessTokenTimeout:1e4,after:null,apiTimeout:1e4,before:null,debug:!1,error:null,filter:null,limit:null,mock:!1,render:null,sort:null,success:null,target:"instafeed",template:'<a href="{{link}}"><img title="{{caption}}" src="{{image}}" /></a>',templateBoundaries:["{{","}}"],transform:null};if(t)for(var i in e)void 0!==t[i]&&(e[i]=t[i]);n("string"==typeof e.target||"object"==typeof e.target,"target must be a string or DOM node, got "+e.target+" ("+typeof e.target+")"),n("string"==typeof e.accessToken||"function"==typeof e.accessToken,"accessToken must be a string or function, got "+e.accessToken+" ("+typeof e.accessToken+")"),n("number"==typeof e.accessTokenTimeout,"accessTokenTimeout must be a number, got "+e.accessTokenTimeout+" ("+typeof e.accessTokenTimeout+")"),n("number"==typeof e.apiTimeout,"apiTimeout must be a number, got "+e.apiTimeout+" ("+typeof e.apiTimeout+")"),n("boolean"==typeof e.debug,"debug must be true or false, got "+e.debug+" ("+typeof e.debug+")"),n("boolean"==typeof e.mock,"mock must be true or false, got "+e.mock+" ("+typeof e.mock+")"),n("object"==typeof e.templateBoundaries&&2===e.templateBoundaries.length&&"string"==typeof e.templateBoundaries[0]&&"string"==typeof e.templateBoundaries[1],"templateBoundaries must be an array of 2 strings, got "+e.templateBoundaries+" ("+typeof e.templateBoundaries+")"),n(!e.template||"string"==typeof e.template,"template must null or string, got "+e.template+" ("+typeof e.template+")"),n(!e.error||"function"==typeof e.error,"error must be null or function, got "+e.error+" ("+typeof e.error+")"),n(!e.before||"function"==typeof e.before,"before must be null or function, got "+e.before+" ("+typeof e.before+")"),n(!e.after||"function"==typeof e.after,"after must be null or function, got "+e.after+" ("+typeof e.after+")"),n(!e.success||"function"==typeof e.success,"success must be null or function, got "+e.success+" ("+typeof e.success+")"),n(!e.filter||"function"==typeof e.filter,"filter must be null or function, got "+e.filter+" ("+typeof e.filter+")"),n(!e.transform||"function"==typeof e.transform,"transform must be null or function, got "+e.transform+" ("+typeof e.transform+")"),n(!e.sort||"function"==typeof e.sort,"sort must be null or function, got "+e.sort+" ("+typeof e.sort+")"),n(!e.render||"function"==typeof e.render,"render must be null or function, got "+e.render+" ("+typeof e.render+")"),n(!e.limit||"number"==typeof e.limit,"limit must be null or number, got "+e.limit+" ("+typeof e.limit+")"),this._state={running:!1},this._options=e}return t.prototype.run=function(){var i,n=this,s=null,o=null,r=null;return this._debug("run","options",this._options),this._debug("run","state",this._state),this._state.running?(this._debug("run","already running, skipping"),!1):(this._start(),this._debug("run","getting dom node"),(s="string"==typeof this._options.target?document.getElementById(this._options.target):this._options.target)?(this._debug("run","got dom node",s),this._debug("run","getting access token"),this._getAccessToken(function(t,e){t?(n._debug("onTokenReceived","error",t),n._fail(new Error("error getting access token: "+t.message))):(i="https://graph.instagram.com/me/media?fields=caption,id,media_type,media_url,permalink,thumbnail_url,timestamp,username&access_token="+e,n._debug("onTokenReceived","request url",i),n._makeApiRequest(i,function(t,e){if(t)n._debug("onResponseReceived","error",t),n._fail(new Error("api request error: "+t.message));else{n._debug("onResponseReceived","data",e),n._success(e);try{o=n._processData(e),n._debug("onResponseReceived","processed data",o)}catch(t){return void n._fail(t)}if(n._options.mock)n._debug("onResponseReceived","mock enabled, skipping render");else{try{r=n._renderData(o),n._debug("onResponseReceived","html content",r)}catch(t){return void n._fail(t)}s.innerHTML=r}n._finish()}}))}),!0):(this._fail(new Error("no element found with ID "+this._options.target)),!1))},t.prototype._processData=function(t){var e,i="function"==typeof this._options.transform,n="function"==typeof this._options.filter,s="function"==typeof this._options.sort,o="number"==typeof this._options.limit,r=[],a=null,l=null;if(this._debug("processData","hasFilter",n,"hasTransform",i,"hasSort",s,"hasLimit",o),"object"!=typeof t||"object"!=typeof t.data||t.data.length<=0)return null;for(var c=0;c<t.data.length;c++){if(e=this._getItemData(t.data[c]),i)try{a=this._options.transform(e),this._debug("processData","transformed item",e,a)}catch(t){throw this._debug("processData","error calling transform",t),new Error("error in transform: "+t.message)}else a=e;if(n){try{l=this._options.filter(a),this._debug("processData","filter item result",a,l)}catch(t){throw this._debug("processData","error calling filter",t),new Error("error in filter: "+t.message)}l&&r.push(a)}else r.push(a)}if(s)try{r.sort(this._options.sort)}catch(t){throw this._debug("processData","error calling sort",t),new Error("error in sort: "+t.message)}return o&&(s=r.length-this._options.limit,this._debug("processData","checking limit",r.length,this._options.limit,s),0<s)&&r.splice(r.length-s,s),r},t.prototype._extractTags=function(t){var e=/#([^\s]+)/gi,i=/[~`!@#$%^&*\(\)\-\+={}\[\]:;"'<>\?,\./|\\\s]+/i,n=[];if("string"==typeof t)for(;null!==(match=e.exec(t));)!1===i.test(match[1])&&n.push(match[1]);return n},t.prototype._getItemData=function(t){var e=null,i=null;switch(t.media_type){case"IMAGE":e="image",i=t.media_url;break;case"VIDEO":e="video",i=t.thumbnail_url;break;case"CAROUSEL_ALBUM":e="album",i=t.media_url}return{caption:t.caption,tags:this._extractTags(t.caption),id:t.id,image:i,link:t.permalink,model:t,timestamp:t.timestamp,type:e,username:t.username}},t.prototype._renderData=function(t){var e,i="string"==typeof this._options.template,n="function"==typeof this._options.render,s=null,o="";if(this._debug("renderData","hasTemplate",i,"hasRender",n),"object"!=typeof t||t.length<=0)return null;for(var r=0;r<t.length;r++){if(e=t[r],n)try{s=this._options.render(e,this._options),this._debug("renderData","custom render result",e,s)}catch(t){throw this._debug("renderData","error calling render",t),new Error("error in render: "+t.message)}else i&&(s=this._basicRender(e));s?o+=s:this._debug("renderData","render item did not return any content",e)}return o},t.prototype._basicRender=function(t){for(var e,i,n=new RegExp(this._options.templateBoundaries[0]+"([\\s\\w.]+)"+this._options.templateBoundaries[1],"gm"),s=this._options.template,o="",r=0,a=null;null!==(e=n.exec(s));)i=e[1],o+=s.slice(r,e.index),(a=this._valueForKeyPath(i,t))&&(o+=a.toString()),r=n.lastIndex;return r<s.length&&(o+=s.slice(r,s.length)),o},t.prototype._valueForKeyPath=function(t,e){for(var i,n=/([\w]+)/gm,s=e;null!==(i=n.exec(t));){if("object"!=typeof s)return null;s=s[i[1]]}return s},t.prototype._fail=function(t){!this._runHook("error",t)&&console&&"function"==typeof console.error&&console.error(t),this._state.running=!1},t.prototype._start=function(){this._state.running=!0,this._runHook("before")},t.prototype._finish=function(){this._runHook("after"),this._state.running=!1},t.prototype._success=function(t){this._runHook("success",t),this._state.running=!1},t.prototype._makeApiRequest=function(t,i){function n(t,e){s||(s=!0,i(t,e))}var s=!1,o=this,r=null;(r=new XMLHttpRequest).ontimeout=function(t){n(new Error("api request timed out"))},r.onerror=function(t){n(new Error("api connection error"))},r.onload=function(t){var e=r.getResponseHeader("Content-Type"),i=null;if(o._debug("apiRequestOnLoad","loaded",t),o._debug("apiRequestOnLoad","response status",r.status),o._debug("apiRequestOnLoad","response content type",e),0<=e.indexOf("application/json"))try{i=JSON.parse(r.responseText)}catch(t){return o._debug("apiRequestOnLoad","json parsing error",t,r.responseText),void n(new Error("error parsing response json"))}200===r.status?n(null,i):i&&i.error?n(new Error(i.error.code+" "+i.error.message)):n(new Error("status code "+r.status))},r.open("GET",t,!0),r.timeout=this._options.apiTimeout,r.send()},t.prototype._getAccessToken=function(i){function n(t,e){s||(s=!0,clearTimeout(r),i(t,e))}var s=!1,o=this,r=null;if("function"==typeof this._options.accessToken){this._debug("getAccessToken","calling accessToken as function"),r=setTimeout(function(){o._debug("getAccessToken","timeout check",s),n(new Error("accessToken timed out"),null)},this._options.accessTokenTimeout);try{this._options.accessToken(function(t,e){o._debug("getAccessToken","received accessToken callback",s,t,e),n(t,e)})}catch(t){this._debug("getAccessToken","error invoking the accessToken as function",t),n(t,null)}}else this._debug("getAccessToken","treating accessToken as static",typeof this._options.accessToken),n(null,this._options.accessToken)},t.prototype._debug=function(){var t=null;this._options.debug&&console&&"function"==typeof console.log&&((t=[].slice.call(arguments))[0]="[Instafeed] ["+t[0]+"]",console.log.apply(null,t))},t.prototype._runHook=function(e,t){var i=!1;if("function"==typeof this._options[e])try{this._options[e](t),i=!0}catch(t){this._debug("runHook","error calling hook",e,t)}return i},t}),!function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";function i(l,c,h){(h=h||e||t.jQuery)&&(c.prototype.option||(c.prototype.option=function(t){h.isPlainObject(t)&&(this.options=h.extend(!0,this.options,t))}),h.fn[l]=function(t){var e,n,s,o,r,a;return"string"==typeof t?(e=d.call(arguments,1),s=e,r="$()."+l+'("'+(n=t)+'")',(e=this).each(function(t,e){var i,e=h.data(e,l);e?(i=e[n])&&"_"!=n.charAt(0)?(i=i.apply(e,s),o=void 0===o?i:o):u(r+" is not a valid method"):u(l+" not initialized. Cannot call methods, i.e. "+r)}),void 0!==o?o:e):(a=t,this.each(function(t,e){var i=h.data(e,l);i?(i.option(a),i._init()):(i=new c(e,a),h.data(e,l,i))}),this)},n(h))}function n(t){t&&!t.bridget&&(t.bridget=i)}var d=Array.prototype.slice,s=t.console,u=void 0===s?function(){}:function(t){s.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i;if(t&&e)return-1==(i=(i=this._events=this._events||{})[t]=i[t]||[]).indexOf(e)&&i.push(e),this},e.once=function(t,e){var i;if(t&&e)return this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||{})[e]=!0,this},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return-1!=(e=t.indexOf(e))&&t.splice(e,1),this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,s=i[n];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];s;){var r=o&&o[s];r&&(this.off(t,s),delete o[s]),s.apply(this,e),s=i[n+=r?0:1]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function m(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function v(t){t=getComputedStyle(t);return t||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function y(t){if(_||(_=!0,(h=document.createElement("div")).style.width="200px",h.style.padding="1px 2px 3px 4px",h.style.borderStyle="solid",h.style.borderWidth="1px 2px 3px 4px",h.style.boxSizing="border-box",(c=document.body||document.documentElement).appendChild(h),o=v(h),y.isBoxSizeOuter=w=200==m(o.width),c.removeChild(h)),(t="string"==typeof t?document.querySelector(t):t)&&"object"==typeof t&&t.nodeType){var e=v(t);if("none"==e.display){for(var i={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0;n<x;n++)i[b[n]]=0;return i}var s={};s.width=t.offsetWidth,s.height=t.offsetHeight;for(var o=s.isBorderBox="border-box"==e.boxSizing,r=0;r<x;r++){var a=b[r],l=e[a],l=parseFloat(l);s[a]=isNaN(l)?0:l}var c=s.paddingLeft+s.paddingRight,h=s.paddingTop+s.paddingBottom,t=s.marginLeft+s.marginRight,d=s.marginTop+s.marginBottom,u=s.borderLeftWidth+s.borderRightWidth,p=s.borderTopWidth+s.borderBottomWidth,f=o&&w,g=m(e.width),g=(!1!==g&&(s.width=g+(f?0:c+u)),m(e.height));return!1!==g&&(s.height=g+(f?0:h+p)),s.innerWidth=s.width-(c+u),s.innerHeight=s.height-(h+p),s.outerWidth=s.width+t,s.outerHeight=s.height+d,s}var h,c,o}var w,e="undefined"==typeof console?function(){}:function(t){console.error(t)},b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],x=b.length,_=!1;return y}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(i,o){var l={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"object"==typeof t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},removeFrom:function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},getParent:function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,o(t,e))return t},getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,n){t=l.makeArray(t);var s=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){o(t,n)&&s.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)s.push(e[i])}else s.push(t)}),s},debounceMethod:function(t,e,n){var s=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o],e=(t&&clearTimeout(t),arguments),i=this;this[o]=setTimeout(function(){s.apply(i,e),delete i[o]},n||100)}},docReady:function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}},c=i.console;return l.htmlInit=function(r,a){l.docReady(function(){var t=l.toDashed(a),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),e=l.makeArray(e).concat(l.makeArray(t)),s=n+"-options",o=i.jQuery;e.forEach(function(e){var t,i=e.getAttribute(n)||e.getAttribute(s);try{t=i&&JSON.parse(i)}catch(t){return void(c&&c.error("Error parsing "+n+" on "+e.className+": "+t))}i=new r(e,t);o&&o.data(e,a,i)})})},l}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var n=document.documentElement.style,s="string"==typeof n.transition?"transition":"WebkitTransition",n="string"==typeof n.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],r={transform:n,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},t=i.prototype=Object.create(t.prototype),a=(t.constructor=i,t._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},t.getSize=function(){this.size=e(this.element)},t.css=function(t){var e,i=this.element.style;for(e in t)i[r[e]||e]=t[e]},t.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],t=t[i?"top":"bottom"],s=this.layout.size,n=-1!=n.indexOf("%")?parseFloat(n)/100*s.width:parseInt(n,10),t=-1!=t.indexOf("%")?parseFloat(t)/100*s.height:parseInt(t,10),n=isNaN(n)?0:n,t=isNaN(t)?0:t;n-=e?s.paddingLeft:s.paddingRight,t-=i?s.paddingTop:s.paddingBottom,this.position.x=n,this.position.y=t},t.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),s=i?"right":"left",o=this.position.x+t[i?"paddingLeft":"paddingRight"],i=(e[i?"left":"right"]=this.getXValue(o),e[s]="",n?"paddingTop":"paddingBottom"),o=n?"bottom":"top",s=this.position.y+t[i];e[n?"top":"bottom"]=this.getYValue(s),e[o]="",this.css(e),this.emitEvent("layout",[this])},t.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},t.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},t._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,s=parseInt(t,10),o=parseInt(e,10),s=s===this.position.x&&o===this.position.y;this.setPosition(t,e),s&&!this.isTransitioning?this.layoutPosition():((o={}).transform=this.getTranslate(t-i,e-n),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}))},t.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},t.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},t.moveTo=t._transitionTo,t.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},t._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},t.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e,i=this._transn;for(e in t.onTransitionEnd)i.onEnd[e]=t.onTransitionEnd[e];for(e in t.to)i.ingProperties[e]=!0,t.isCleaning&&(i.clean[e]=!0);t.from&&(this.css(t.from),this.element.offsetHeight,0),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)},"opacity,"+n.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})),l=(t.enableTransition=function(){var t;this.isTransitioning||(t=this.layout.options.transitionDuration,this.css({transitionProperty:a,transitionDuration:t="number"==typeof t?t+"ms":t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1))},t.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},t.onotransitionend=function(t){this.ontransitionend(t)},{"-webkit-transform":"transform"}),c=(t.ontransitionend=function(t){var e,i;t.target===this.element&&(e=this._transn,i=l[t.propertyName]||t.propertyName,delete e.ingProperties[i],function(t){for(var e in t)return;return 1}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this]))},t.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},t._removeStyles=function(t){var e,i={};for(e in t)i[e]="";this.css(i)},{transitionProperty:"",transitionDuration:"",transitionDelay:""});return t.removeTransitionStyles=function(){this.css(c)},t.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},t.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},t.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},t.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},t.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},t.getHideRevealTransitionEndProperty=function(t){var e,t=this.layout.options[t];if(t.opacity)return"opacity";for(e in t)return e},t.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},t.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},t.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(s,o){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,i,n){return o(s,t,e,i,n)}):"object"==typeof module&&module.exports?module.exports=o(s,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):s.Outlayer=o(s,s.EvEmitter,s.getSize,s.fizzyUIUtils,s.Outlayer.Item)}(window,function(t,e,s,n,o){"use strict";function r(t,e){var i=n.getQueryElement(t);i?(this.element=i,c&&(this.$element=c(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),e=++h,this.element.outlayerGUID=e,(d[e]=this)._create(),this._getOption("initLayout")&&this.layout()):l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t))}function a(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e}function i(){}var l=t.console,c=t.jQuery,h=0,d={},u=(r.namespace="outlayer",r.Item=o,r.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},r.prototype),p=(n.extend(u,e.prototype),u.option=function(t){n.extend(this.options,t)},u._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},r.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},u._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},u.reloadItems=function(){this.items=this._itemize(this.element.children)},u._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],s=0;s<e.length;s++){var o=new i(e[s],this);n.push(o)}return n},u._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},u.getItemElements=function(){return this.items.map(function(t){return t.element})},u.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},u._init=u.layout,u._resetLayout=function(){this.getSize()},u.getSize=function(){this.size=s(this.element)},u._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):n instanceof HTMLElement&&(i=n),this[t]=i?s(i)[e]:n):this[t]=0},u.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},u._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},u._layoutItems=function(t,i){var n;this._emitCompleteOnItems("layout",t),t&&t.length&&(n=[],t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=i||t.isLayoutInstant,n.push(e)},this),this._processLayoutQueue(n))},u._getItemLayoutPosition=function(){return{x:0,y:0}},u._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},u.updateStagger=function(){var t,e=this.options.stagger;return null==e?void(this.stagger=0):(this.stagger="number"==typeof(e=e)?e:(t=(e=e.match(/(^\d*\.?\d*)(\w*)/))&&e[1],e=e&&e[2],t.length?(t=parseFloat(t))*(p[e]||1):0),this.stagger)},u._positionItem=function(t,e,i,n,s){n?t.goTo(e,i):(t.stagger(s*this.stagger),t.moveTo(e,i))},u._postLayout=function(){this.resizeContainer()},u.resizeContainer=function(){var t;this._getOption("resizeContainer")&&(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},u._getContainerSize=i,u._setContainerMeasure=function(t,e){var i;void 0!==t&&((i=this.size).isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px")},u._emitCompleteOnItems=function(e,t){function i(){o.dispatchEvent(e+"Complete",null,[t])}function n(){++s==r&&i()}var s,o=this,r=t.length;t&&r?(s=0,t.forEach(function(t){t.once(e,n)})):i()},u.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),c&&(this.$element=this.$element||c(this.element),e?((n=c.Event(e)).type=t,this.$element.trigger(n,i)):this.$element.trigger(t,i))},u.ignore=function(t){t=this.getItem(t);t&&(t.isIgnored=!0)},u.unignore=function(t){t=this.getItem(t);t&&delete t.isIgnored},u.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},u.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},u._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),n.makeArray(t)},u._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},u._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},u._manageStamp=i,u._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,t=s(t);return{left:e.left-i.left-t.marginLeft,top:e.top-i.top-t.marginTop,right:i.right-e.right-t.marginRight,bottom:i.bottom-e.bottom-t.marginBottom}},u.handleEvent=n.handleEvent,u.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},u.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},u.onresize=function(){this.resize()},n.debounceMethod(r,"onresize",100),u.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},u.needsResizeLayout=function(){var t=s(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},u.addItems=function(t){t=this._itemize(t);return t.length&&(this.items=this.items.concat(t)),t},u.appended=function(t){t=this.addItems(t);t.length&&(this.layoutItems(t,!0),this.reveal(t))},u.prepended=function(t){var e,t=this._itemize(t);t.length&&(e=this.items.slice(0),this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e))},u.reveal=function(t){var i;this._emitCompleteOnItems("reveal",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.reveal()}))},u.hide=function(t){var i;this._emitCompleteOnItems("hide",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.hide()}))},u.revealItemElements=function(t){t=this.getItems(t);this.reveal(t)},u.hideItemElements=function(t){t=this.getItems(t);this.hide(t)},u.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},u.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){t=this.getItem(t);t&&e.push(t)},this),e},u.remove=function(t){t=this.getItems(t);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},u.destroy=function(){var t=this.element.style,t=(t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize(),this.element.outlayerGUID);delete d[t],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},r.data=function(t){t=(t=n.getQueryElement(t))&&t.outlayerGUID;return t&&d[t]},r.create=function(t,e){var i=a(r);return i.defaults=n.extend({},r.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},r.compatOptions),i.namespace=t,i.data=r.data,i.Item=a(o),n.htmlInit(i,t),c&&c.bridget&&c.bridget(t,i),i},{ms:1,s:1e3});return r.Item=o,r}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create,s=(i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t,e=this.layout.options.getSortData,i=this.layout._sorters;for(t in e){var n=i[t];this.sortData[t]=n(this.element,this)}}},i.destroy);return i.destroy=function(){s.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(e,i){"use strict";function n(t){(this.isotope=t)&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var s=n.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(t){s[t]=function(){return i.prototype[t].apply(this.isotope,arguments)}}),s.needsVerticalResizeLayout=function(){var t=e(this.isotope.element);return this.isotope.size&&t&&t.innerHeight!=this.isotope.size.innerHeight},s._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},s.getColumnWidth=function(){this.getSegmentSize("column","Width")},s.getRowHeight=function(){this.getSegmentSize("row","Height")},s.getSegmentSize=function(t,e){var i,t=t+e,n="outer"+e;this._getMeasurement(t,n),this[t]||(i=this.getFirstItemSize(),this[t]=i&&i[n]||this.isotope.size["inner"+e])},s.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},s.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},s.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(t,e){function i(){n.apply(this,arguments)}return(i.prototype=Object.create(s)).constructor=i,e&&(i.options=e),n.modes[i.prototype.namespace=t]=i},n}),function(t,e){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,a){var t=t.create("masonry"),e=(t.compatOptions.fitWidth="isFitWidth",t.prototype);return e._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},e.measureColumns=function(){this.getContainerWidth(),this.columnWidth||(t=(t=this.items[0])&&t.element,this.columnWidth=t&&a(t).outerWidth||this.containerWidth);var t=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,i=e/t,e=t-e%t,i=Math[e&&e<1?"round":"floor"](i);this.cols=Math.max(i,1)},e.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,t=a(t);this.containerWidth=t&&t.innerWidth},e._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,e=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),e=Math.min(e,this.cols),i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](e,t),n={x:this.columnWidth*i.col,y:i.y},s=i.y+t.size.outerHeight,o=e+i.col,r=i.col;r<o;r++)this.colYs[r]=s;return n},e._getTopColPosition=function(t){var t=this._getTopColGroup(t),e=Math.min.apply(Math,t);return{col:t.indexOf(e),y:e}},e._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++)e[n]=this._getColGroupY(n,t);return e},e._getColGroupY=function(t,e){return e<2?this.colYs[t]:(t=this.colYs.slice(t,t+e),Math.max.apply(Math,t))},e._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,i=1<t&&i+t>this.cols?0:i,e=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=e?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},e._manageStamp=function(t){var e=a(t),t=this._getElementOffset(t),i=this._getOption("originLeft")?t.left:t.right,n=i+e.outerWidth,i=Math.floor(i/this.columnWidth),i=Math.max(0,i),s=Math.floor(n/this.columnWidth);s-=n%this.columnWidth?0:1;for(var s=Math.min(this.cols-1,s),o=(this._getOption("originTop")?t.top:t.bottom)+e.outerHeight,r=i;r<=s;r++)this.colYs[r]=Math.max(o,this.colYs[r])},e._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},e._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},e.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},t}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";var i,t=t.create("masonry"),n=t.prototype,s={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(i in e.prototype)s[i]||(n[i]=e.prototype[i]);var o=n.measureColumns,r=(n.measureColumns=function(){this.items=this.isotope.filteredItems,o.call(this)},n._getOption);return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:r.apply(this.isotope,arguments)},t}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var t=t.create("fitRows"),e=t.prototype;return e._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter,i=(0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY),{x:this.x,y:this.y});return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,i},e._getContainerSize=function(){return{height:this.maxY}},t}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var t=t.create("vertical",{horizontalAlignment:0}),e=t.prototype;return e._resetLayout=function(){this.y=0},e._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},e._getContainerSize=function(){return{height:this.y}},t}),function(r,a){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(t,e,i,n,s,o){return a(r,t,e,i,n,s,o)}):"object"==typeof module&&module.exports?module.exports=a(r,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):r.Isotope=a(r,r.Outlayer,r.getSize,r.matchesSelector,r.fizzyUIUtils,r.Isotope.Item,r.Isotope.LayoutMode)}(window,function(t,i,e,n,o,s,r){var a=t.jQuery,l=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},c=i.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0}),t=(c.Item=s,c.LayoutMode=r,c.prototype),h=(t._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),i.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],r.modes)this._initLayoutMode(t)},t.reloadItems=function(){this.itemGUID=0,i.prototype.reloadItems.call(this)},t._itemize=function(){for(var t=i.prototype._itemize.apply(this,arguments),e=0;e<t.length;e++)t[e].id=this.itemGUID++;return this._updateItemsSortData(t),t},t._initLayoutMode=function(t){var e=r.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},t.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},t._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},t.arrange=function(t){this.option(t),this._getIsInstant();t=this._filter(this.items);this.filteredItems=t.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[t]):this._hideReveal(t),this._sort(),this._layout()},t._init=t.arrange,t._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},t._getIsInstant=function(){var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;return this._isInstant=t},t._bindArrangeComplete=function(){function t(){e&&i&&n&&s.dispatchEvent("arrangeComplete",null,[s.filteredItems])}var e,i,n,s=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},t._filter=function(t){for(var e=this.options.filter,i=[],n=[],s=[],o=this._getFilterTest(e||"*"),r=0;r<t.length;r++){var a,l=t[r];l.isIgnored||((a=o(l))&&i.push(l),a&&l.isHidden?n.push(l):a||l.isHidden||s.push(l))}return{matches:i,needReveal:n,needHide:s}},t._getFilterTest=function(e){return a&&this.options.isJQueryFiltering?function(t){return a(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return n(t.element,e)}},t.updateSortData=function(t){t=t?(t=o.makeArray(t),this.getItems(t)):this.items;this._getSorters(),this._updateItemsSortData(t)},t._getSorters=function(){var t,e=this.options.getSortData;for(t in e){var i=e[t];this._sorters[t]=h(i)}},t._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++)t[i].updateSortData()},function(t){var e,i,n,s,o,r;return"string"!=typeof t?t:(i=(i=(e=(t=l(t).split(" "))[0]).match(/^\[(.+)\]$/))&&i[1],r=e,n=(o=i)?function(t){return t.getAttribute(o)}:function(t){t=t.querySelector(r);return t&&t.textContent},(s=c.sortDataParsers[t[1]])?function(t){return t&&s(n(t))}:function(t){return t&&n(t)})}),d=(c.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},t._sort=function(){var t,r,a;this.options.sortBy&&(t=o.makeArray(this.options.sortBy),this._getIsSameSortBy(t)||(this.sortHistory=t.concat(this.sortHistory)),r=this.sortHistory,a=this.options.sortAscending,this.filteredItems.sort(function(t,e){for(var i=0;i<r.length;i++){var n=r[i],s=t.sortData[n],o=e.sortData[n];if(o<s||s<o)return(o<s?1:-1)*((void 0!==a[n]?a[n]:a)?1:-1)}return 0}))},t._getIsSameSortBy=function(t){for(var e=0;e<t.length;e++)if(t[e]!=this.sortHistory[e])return!1;return!0},t._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(e)return e.options=this.options[t],e;throw new Error("No layout mode: "+t)},t._resetLayout=function(){i.prototype._resetLayout.call(this),this._mode()._resetLayout()},t._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},t._manageStamp=function(t){this._mode()._manageStamp(t)},t._getContainerSize=function(){return this._mode()._getContainerSize()},t.needsResizeLayout=function(){return this._mode().needsResizeLayout()},t.appended=function(t){var t=this.addItems(t);t.length&&(t=this._filterRevealAdded(t),this.filteredItems=this.filteredItems.concat(t))},t.prepended=function(t){var e,t=this._itemize(t);t.length&&(this._resetLayout(),this._manageStamps(),e=this._filterRevealAdded(t),this.layoutItems(this.filteredItems),this.filteredItems=e.concat(this.filteredItems),this.items=t.concat(this.items))},t._filterRevealAdded=function(t){t=this._filter(t);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},t.insert=function(t){var e=this.addItems(t);if(e.length){for(var i,n=e.length,s=0;s<n;s++)i=e[s],this.element.appendChild(i.element);t=this._filter(e).matches;for(s=0;s<n;s++)e[s].isLayoutInstant=!0;for(this.arrange(),s=0;s<n;s++)delete e[s].isLayoutInstant;this.reveal(t)}},t.remove);return t.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);d.call(this,t);for(var i=e&&e.length,n=0;i&&n<i;n++){var s=e[n];o.removeFrom(this.filteredItems,s)}},t.shuffle=function(){for(var t=0;t<this.items.length;t++)this.items[t].sortData.random=Math.random();this.options.sortBy="random",this._sort(),this._layout()},t._noTransition=function(t,e){var i=this.options.transitionDuration,t=(this.options.transitionDuration=0,t.apply(this,e));return this.options.transitionDuration=i,t},t.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},c}),!function(s){s.fn.jflickrfeed=function(l,e){var t,i=(l=s.extend(!0,{flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:20,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:!0,useTemplate:!0,itemTemplate:"",itemCallback:function(){}},l)).flickrbase+l.feedapi+"?",n=!0;for(t in l.qstrings)n||(i+="&"),i+=t+"="+l.qstrings[t],n=!1;return s(this).each(function(){var r=s(this),a=this;s.getJSON(i,function(t){s.each(t.items,function(t,e){if(t<l.limit){var i;if(l.cleanDescription&&(t=e.description,(i=/<p>(.*?)<\/p>/g).test(t))&&(e.description=t.match(i)[2],null!=e.description)&&(e.description=e.description.replace("<p>","").replace("</p>","")),e.image_s=e.media.m.replace("_m","_s"),e.image_t=e.media.m.replace("_m","_t"),e.image_m=e.media.m.replace("_m","_m"),e.image=e.media.m.replace("_m",""),e.image_b=e.media.m.replace("_m","_b"),delete e.media,l.useTemplate){var n,s=l.itemTemplate;for(n in e)var o=new RegExp("{{"+n+"}}","g"),s=s.replace(o,e[n]);r.append(s)}l.itemCallback.call(a,e)}}),s.isFunction(e)&&e.call(a,t)})})}}(jQuery),!function(D){D.isScrollToFixed=function(t){return!!D(t).data("ScrollToFixed")},D.ScrollToFixed=function(t,e){var o,r,i,n,a=this,l=(a.$el=D(t),a.el=t,a.$el.data("ScrollToFixed",a),!1),c=a.$el,h=0,d=0,u=-1,p=-1,s=null;function f(){var t=a.options.limit;return t?"function"==typeof t?t.apply(c):t:0}function g(){return"fixed"===o}function m(){return"absolute"===o}function v(){return!(g()||m())}function y(){var t;g()||(t=c[0].getBoundingClientRect(),s.css({display:c.css("display"),width:t.width,height:t.height,float:c.css("float")}),cssOptions={"z-index":a.options.zIndex,position:"fixed",top:-1==a.options.bottom?_():"",bottom:-1==a.options.bottom?"":a.options.bottom,"margin-left":"0px"},a.options.dontSetWidth||(cssOptions.width=c.css("width")),c.css(cssOptions),c.addClass(a.options.baseClassName),a.options.className&&c.addClass(a.options.className),o="fixed")}function w(){var t=f(),e=d;a.options.removeOffsets&&(e="",t-=h),cssOptions={position:"absolute",top:t,left:e,"margin-left":"0px",bottom:""},a.options.dontSetWidth||(cssOptions.width=c.css("width")),c.css(cssOptions),o="absolute"}function b(){v()||(p=-1,s.css("display","none"),c.css({"z-index":n,width:"",position:r,left:"",top:i,"margin-left":""}),c.removeClass("scroll-to-fixed-fixed"),a.options.className&&c.removeClass(a.options.className),o=null)}function x(t){t!=p&&(c.css("left",d-t),p=t)}function _(){var t=a.options.marginTop;return t?"function"==typeof t?t.apply(c):t:0}function C(){var t,e,i,n,s;D.isScrollToFixed(c)&&!c.is(":hidden")&&(e=v(),(t=l)?v()&&(h=c.offset().top,d=c.offset().left):(c.trigger("preUnfixed.ScrollToFixed"),b(),c.trigger("unfixed.ScrollToFixed"),p=-1,h=c.offset().top,d=c.offset().left,a.options.offsets&&(d+=c.offset().left-c.position().left),-1==u&&(u=d),o=c.css("position"),l=!0,-1!=a.options.bottom&&(c.trigger("preFixed.ScrollToFixed"),y(),c.trigger("fixed.ScrollToFixed"))),i=D(window).scrollLeft(),n=D(window).scrollTop(),s=f(),a.options.minWidth&&D(window).width()<a.options.minWidth||a.options.maxWidth&&D(window).width()>a.options.maxWidth?v()&&t||(S(),c.trigger("preUnfixed.ScrollToFixed"),b(),c.trigger("unfixed.ScrollToFixed")):-1==a.options.bottom?0<s&&n>=s-_()?e||m()&&t||(S(),c.trigger("preAbsolute.ScrollToFixed"),w(),c.trigger("unfixed.ScrollToFixed")):n>=h-_()?(g()&&t||(S(),c.trigger("preFixed.ScrollToFixed"),y(),p=-1,c.trigger("fixed.ScrollToFixed")),x(i)):v()&&t||(S(),c.trigger("preUnfixed.ScrollToFixed"),b(),c.trigger("unfixed.ScrollToFixed")):0<s?n+D(window).height()-c.outerHeight(!0)>=s-(_()||-(a.options.bottom||0))?g()&&(S(),c.trigger("preUnfixed.ScrollToFixed"),("absolute"===r?w:b)(),c.trigger("unfixed.ScrollToFixed")):(g()||(S(),c.trigger("preFixed.ScrollToFixed"),y()),x(i),c.trigger("fixed.ScrollToFixed")):x(i))}function S(){var t=c.css("position");"absolute"==t?c.trigger("postAbsolute.ScrollToFixed"):"fixed"==t?c.trigger("postFixed.ScrollToFixed"):c.trigger("postUnfixed.ScrollToFixed")}function k(t){(c.is(":visible")?(l=!1,C):b)()}function T(t){window.requestAnimationFrame?requestAnimationFrame(C):C()}a.init=function(){a.options=D.extend({},D.ScrollToFixed.defaultOptions,e),n=c.css("z-index"),a.$el.css("z-index",a.options.zIndex),s=D("<div />"),o=c.css("position"),r=c.css("position"),c.css("float"),i=c.css("top"),v()&&a.$el.after(s),D(window).bind("resize.ScrollToFixed",k),D(window).bind("scroll.ScrollToFixed",T),"ontouchmove"in window&&D(window).bind("touchmove.ScrollToFixed",C),a.options.preFixed&&c.bind("preFixed.ScrollToFixed",a.options.preFixed),a.options.postFixed&&c.bind("postFixed.ScrollToFixed",a.options.postFixed),a.options.preUnfixed&&c.bind("preUnfixed.ScrollToFixed",a.options.preUnfixed),a.options.postUnfixed&&c.bind("postUnfixed.ScrollToFixed",a.options.postUnfixed),a.options.preAbsolute&&c.bind("preAbsolute.ScrollToFixed",a.options.preAbsolute),a.options.postAbsolute&&c.bind("postAbsolute.ScrollToFixed",a.options.postAbsolute),a.options.fixed&&c.bind("fixed.ScrollToFixed",a.options.fixed),a.options.unfixed&&c.bind("unfixed.ScrollToFixed",a.options.unfixed),a.options.spacerClass&&s.addClass(a.options.spacerClass),c.bind("resize.ScrollToFixed",function(){s.height(c.height())}),c.bind("scroll.ScrollToFixed",function(){c.trigger("preUnfixed.ScrollToFixed"),b(),c.trigger("unfixed.ScrollToFixed"),C()}),c.bind("detach.ScrollToFixed",function(t){(t=(t=t)||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1,c.trigger("preUnfixed.ScrollToFixed"),b(),c.trigger("unfixed.ScrollToFixed"),D(window).unbind("resize.ScrollToFixed",k),D(window).unbind("scroll.ScrollToFixed",T),c.unbind(".ScrollToFixed"),s.remove(),a.$el.removeData("ScrollToFixed")}),k()},a.init()},D.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},D.fn.scrollToFixed=function(t){return this.each(function(){new D.ScrollToFixed(this,t)})}}(jQuery),!function(c){"use strict";c.ajaxChimp={responses:{"We have sent you a confirmation email":0,"Please enter a value":1,"An email address must contain a single @":2,"The domain portion of the email address is invalid (the portion after the @: )":3,"The username portion of the email address is invalid (the portion before the @: )":4,"This email address looks fake or invalid. Please enter a real email address":5},translations:{en:null},init:function(t,e){c(t).ajaxChimp(e)}},c.fn.ajaxChimp=function(i){return c(this).each(function(t,e){var s=c(e),o=s.find("input[type=email]"),r=s.find("label[for="+o.attr("id")+"]"),a=c.extend({url:s.attr("action"),language:"en"},i),l=a.url.replace("/post?","/post-json?").concat("&c=?");s.attr("novalidate","true"),o.attr("name","EMAIL"),s.submit(function(){var i;var n={},t=s.serializeArray(),t=(c.each(t,function(t,e){n[e.name]=e.value}),c.ajax({url:l,data:n,success:function(e){if("success"===e.result)i="We have sent you a confirmation email",r.removeClass("error").addClass("valid"),o.removeClass("error").addClass("valid");else{o.removeClass("valid").addClass("error"),r.removeClass("valid").addClass("error");try{var t=e.msg.split(" - ",2);i=void 0===t[1]?e.msg:parseInt(t[0],10).toString()===t[0]?(t[0],t[1]):e.msg}catch(t){i=e.msg}}"en"!==a.language&&void 0!==c.ajaxChimp.responses[i]&&c.ajaxChimp.translations&&c.ajaxChimp.translations[a.language]&&c.ajaxChimp.translations[a.language][c.ajaxChimp.responses[i]]&&(i=c.ajaxChimp.translations[a.language][c.ajaxChimp.responses[i]]),r.html(i),r.show(2e3),a.callback&&a.callback(e)},dataType:"jsonp",error:function(t,e){console.log("mailchimp ajax submit error: "+e)}}),"Submitting...");return"en"!==a.language&&c.ajaxChimp.translations&&c.ajaxChimp.translations[a.language]&&c.ajaxChimp.translations[a.language].submit&&(t=c.ajaxChimp.translations[a.language].submit),r.html(t).show(2e3),!1})}),this}}(jQuery),!function(l){l.fn.animateNumbers=function(s,o,r,a){return this.each(function(){var t=l(this),e=t.is("input"),i=parseInt((e?t.val():t.text()).replace(/,/g,"")),n=/(\d)(?=(\d\d\d)+(?!\d))/g;o=void 0===o||o,e&&"number"===t[0].type&&(o=!1),l({value:i}).animate({value:s},{duration:void 0===r?1e3:r,easing:void 0===a?"swing":a,step:function(){e?t.val(Math.floor(this.value)):t.text(Math.floor(this.value)),o&&(e?t.val(t.val().replace(n,"$1,")):t.text(t.text().replace(n,"$1,")))},complete:function(){parseInt(t.text())===s&&parseInt(t.val())===s||(e?t.val(s):t.text(s),!o)||(e?t.val(t.val().replace(n,"$1,")):t.text(t.text().replace(n,"$1,")))}})})}}(jQuery),!function(o){var s=[],n=!1,r=!1,a={interval:250,force_process:!1},l=o(window),c=[];function h(){r=!1;for(var t=0,e=s.length;t<e;t++){n=s[t];var i,n=o(n).filter(function(){return o(this).is(":appeared")});n.trigger("appear",[n]),c[t]&&(i=c[t].not(n)).trigger("disappear",[i]),c[t]=n}}o.expr[":"].appeared=function(t){var e,i,n,s,t=o(t);return!!t.is(":visible")&&(e=l.scrollLeft(),i=l.scrollTop(),n=(s=t.offset()).left,(s=s.top)+t.height()>=i)&&s-(t.data("appear-top-offset")||0)<=i+l.height()&&n+t.width()>=e&&n-(t.data("appear-left-offset")||0)<=e+l.width()},o.fn.extend({appear:function(t){var e,i=o.extend({},a,t||{}),t=this.selector||this;return n||(e=function(){r||(r=!0,setTimeout(h,i.interval))},o(window).scroll(e).resize(e),n=!0),i.force_process&&setTimeout(h,i.interval),s.push(t),c.push(),o(t)}}),o.extend({force_appear:function(){return!!n&&(h(),!0)}})}("undefined"!=typeof module?require("jquery"):jQuery),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(n){"use strict";function e(d){return function(t){var e,i,n=t.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(n)for(var s=0,o=n.length;s<o;++s){var r=n[s].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),a=(a=(a=r[0]).toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),new RegExp(a)),l=r[1]||"",c=r[3]||"",h=null,r=r[2];u.hasOwnProperty(r)&&(h=u[r],h=Number(d[h])),null!==h&&("!"===l&&(r=h,i=e=void 0,e="s",i="",(c=c)&&(e=1===(c=c.replace(/(:|;|\s)/gi,"").split(/\,/)).length?c[0]:(i=c[0],c[1])),h=1<Math.abs(r)?e:i),""===l&&h<10&&(h="0"+h.toString()),t=t.replace(a,h.toString()))}return t.replace(/%%/,"%")}}function s(t,e,i){this.el=t,this.$el=n(t),this.interval=null,this.offset={},this.options=n.extend({},r),this.firstTick=!0,this.instanceNumber=o.length,o.push(this),this.$el.data("countdown-instance",this.instanceNumber),i&&("function"==typeof i?(this.$el.on("update.countdown",i),this.$el.on("stoped.countdown",i),this.$el.on("finish.countdown",i)):this.options=n.extend({},r,i)),this.setFinalDate(e),!1===this.options.defer&&this.start()}var o=[],i=[],r={precision:100,elapse:!1,defer:!1},u=(i.push(/^[0-9]*$/.source),i.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),i.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),i=new RegExp(i.join("|")),{Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"});n.extend(s.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var t=this;this.update(),this.interval=setInterval(function(){t.update.call(t)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),o[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(t){this.finalDate=function(t){if(t instanceof Date)return t;if(String(t).match(i))return String(t).match(/^[0-9]*$/)&&(t=Number(t)),String(t).match(/\-/)&&(t=String(t).replace(/\-/g,"/")),new Date(t);throw new Error("Couldn't cast `"+t+"` to a date object.")}(t)},update:function(){var t,e;if(0!==this.$el.closest("html").length)return t=new Date,e=this.finalDate.getTime()-t.getTime(),e=Math.ceil(e/1e3),e=!this.options.elapse&&e<0?0:Math.abs(e),this.totalSecsLeft===e||this.firstTick?void(this.firstTick=!1):(this.totalSecsLeft=e,this.elapsed=t>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-t.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},void(this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish"))));this.remove()},dispatchEvent:function(t){t=n.Event(t+".countdown");t.finalDate=this.finalDate,t.elapsed=this.elapsed,t.offset=n.extend({},this.offset),t.strftime=e(this.offset),this.$el.trigger(t)}}),n.fn.countdown=function(){var i=Array.prototype.slice.call(arguments,0);return this.each(function(){var t,e=n(this).data("countdown-instance");void 0!==e?(e=o[e],t=i[0],s.prototype.hasOwnProperty(t)?e[t].apply(e,i.slice(1)):null===String(t).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(e.setFinalDate.call(e,t),e.start()):n.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,t))):new s(this,i[0],i[1])})}}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(o){function r(t,e){this.$element=o(t),this.options=o.extend({},r.DEFAULTS,this.dataOptions(),e),this.init()}r.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:function(t,e){return t.toFixed(e.decimals)},onUpdate:null,onComplete:null},r.prototype.init=function(){this.value=this.options.from,this.loops=Math.ceil(this.options.speed/this.options.refreshInterval),this.loopCount=0,this.increment=(this.options.to-this.options.from)/this.loops},r.prototype.dataOptions=function(){var t,e={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")},i=Object.keys(e);for(t in i){var n=i[t];void 0===e[n]&&delete e[n]}return e},r.prototype.update=function(){this.value+=this.increment,this.loopCount++,this.render(),"function"==typeof this.options.onUpdate&&this.options.onUpdate.call(this.$element,this.value),this.loopCount>=this.loops&&(clearInterval(this.interval),this.value=this.options.to,"function"==typeof this.options.onComplete)&&this.options.onComplete.call(this.$element,this.value)},r.prototype.render=function(){var t=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(t)},r.prototype.restart=function(){this.stop(),this.init(),this.start()},r.prototype.start=function(){this.stop(),this.render(),this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)},r.prototype.stop=function(){this.interval&&clearInterval(this.interval)},r.prototype.toggle=function(){this.interval?this.stop():this.start()},o.fn.countTo=function(s){return this.each(function(){var t=o(this),e=t.data("countTo"),i="object"==typeof s?s:{},n="string"==typeof s?s:"start";e&&"object"!=typeof s||(e&&e.stop(),t.data("countTo",e=new r(this,i))),e[n].call(e)})}}),!function(t,n){"use strict";function i(t,e){var i,n=e||{};for(i in t)i in n||(n[i]=t[i]);return n}function e(t,e){var i;a?a(t).trigger(e):((i=n.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,{}),t.dispatchEvent(i))}function o(t,e){return a?a(t).hasClass(e):t.classList.contains(e)}function s(t,e){this.dateDelta=null,this.timeDelta=null,this._defaults={startClass:"start",endClass:"end",timeClass:"time",dateClass:"date",defaultDateDelta:0,defaultTimeDelta:36e5,anchor:"start",parseTime:function(t){return a(t).timepicker("getTime")},updateTime:function(t,e){a(t).timepicker("setTime",e)},setMinTime:function(t,e){a(t).timepicker("option","minTime",e)},parseDate:function(t){return t.value&&a(t).datepicker("getDate")},updateDate:function(t,e){a(t).datepicker("update",e)}},this.container=t,this.settings=i(this._defaults,e),this.startDateInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.dateClass),this.endDateInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.dateClass),this.startTimeInput=this.container.querySelector("."+this.settings.startClass+"."+this.settings.timeClass),this.endTimeInput=this.container.querySelector("."+this.settings.endClass+"."+this.settings.timeClass),this.refresh(),this._bindChangeHandler()}var r=864e5,a=t.Zepto||t.jQuery;s.prototype={constructor:s,option:function(t,e){if("object"==typeof t)this.settings=i(this.settings,t);else if("string"==typeof t&&void 0!==e)this.settings[t]=e;else if("string"==typeof t)return this.settings[t];this._updateEndMintime()},getTimeDiff:function(){var t=this.dateDelta+this.timeDelta;return!(t<0)||this.startDateInput&&this.endDateInput||(t+=r),t},refresh:function(){var t,e;this.startDateInput&&this.startDateInput.value&&this.endDateInput&&this.endDateInput.value&&(e=this.settings.parseDate(this.startDateInput),t=this.settings.parseDate(this.endDateInput),e)&&t&&(this.dateDelta=t.getTime()-e.getTime()),this.startTimeInput&&this.startTimeInput.value&&this.endTimeInput&&this.endTimeInput.value&&(t=this.settings.parseTime(this.startTimeInput),e=this.settings.parseTime(this.endTimeInput),t)&&e&&(this.timeDelta=e.getTime()-t.getTime(),this._updateEndMintime())},remove:function(){this._unbindChangeHandler()},_bindChangeHandler:function(){a?a(this.container).on("change.datepair",a.proxy(this.handleEvent,this)):this.container.addEventListener("change",this,!1)},_unbindChangeHandler:function(){a?a(this.container).off("change.datepair"):this.container.removeEventListener("change",this,!1)},handleEvent:function(t){this._unbindChangeHandler(),o(t.target,this.settings.dateClass)?""!=t.target.value?(this._dateChanged(t.target),this._timeChanged(t.target)):this.dateDelta=null:o(t.target,this.settings.timeClass)&&(""!=t.target.value?this._timeChanged(t.target):this.timeDelta=null),this._validateRanges(),this._updateEndMintime(),this._bindChangeHandler()},_dateChanged:function(t){var e,i,n;this.startDateInput&&this.endDateInput&&(e=this.settings.parseDate(this.startDateInput),i=this.settings.parseDate(this.endDateInput),e&&i?"start"==this.settings.anchor&&o(t,this.settings.startClass)?(n=new Date(e.getTime()+this.dateDelta),this.settings.updateDate(this.endDateInput,n)):"end"==this.settings.anchor&&o(t,this.settings.endClass)?(n=new Date(i.getTime()-this.dateDelta),this.settings.updateDate(this.startDateInput,n)):i<e?(n=o(t,this.settings.startClass)?this.endDateInput:this.startDateInput,t=this.settings.parseDate(t),this.dateDelta=0,this.settings.updateDate(n,t)):this.dateDelta=i.getTime()-e.getTime():null!==this.settings.defaultDateDelta?(e?(n=new Date(e.getTime()+this.settings.defaultDateDelta*r),this.settings.updateDate(this.endDateInput,n)):i&&(t=new Date(i.getTime()-this.settings.defaultDateDelta*r),this.settings.updateDate(this.startDateInput,t)),this.dateDelta=this.settings.defaultDateDelta*r):this.dateDelta=null)},_timeChanged:function(t){var e,i,n,s;this.startTimeInput&&this.endTimeInput&&(e=this.settings.parseTime(this.startTimeInput),i=this.settings.parseTime(this.endTimeInput),e&&i?"start"==this.settings.anchor&&o(t,this.settings.startClass)?(i=this._setTimeAndReturn(this.endTimeInput,new Date(e.getTime()+this.timeDelta)),this._doMidnightRollover(e,i)):"end"==this.settings.anchor&&o(t,this.settings.endClass)?(e=this._setTimeAndReturn(this.startTimeInput,new Date(i.getTime()-this.timeDelta)),this._doMidnightRollover(e,i)):(this._doMidnightRollover(e,i),this.startDateInput&&this.endDateInput&&(n=this.settings.parseDate(this.startDateInput),s=this.settings.parseDate(this.endDateInput)),+n==+s&&i<e?(n=o(t,this.settings.endClass)?this.endTimeInput:this.startTimeInput,s=o(t,this.settings.startClass)?this.endTimeInput:this.startTimeInput,t=this.settings.parseTime(n),this.timeDelta=0,this.settings.updateTime(s,t)):this.timeDelta=i.getTime()-e.getTime()):null!==this.settings.defaultTimeDelta?(this.timeDelta=this.settings.defaultTimeDelta,e?(i=this._setTimeAndReturn(this.endTimeInput,new Date(e.getTime()+this.settings.defaultTimeDelta)),this._doMidnightRollover(e,i)):i&&(e=this._setTimeAndReturn(this.startTimeInput,new Date(i.getTime()-this.settings.defaultTimeDelta)),this._doMidnightRollover(e,i))):this.timeDelta=null)},_setTimeAndReturn:function(t,e){return this.settings.updateTime(t,e),this.settings.parseTime(t)},_doMidnightRollover:function(t,e){var i,n,s;this.startDateInput&&this.endDateInput&&(i=this.settings.parseDate(this.endDateInput),n=this.settings.parseDate(this.startDateInput),s=e.getTime()-t.getTime(),e=e<t?r:-1*r,null!==this.dateDelta&&this.dateDelta+this.timeDelta<=r&&this.dateDelta+s!=0&&(0<e||0!=this.dateDelta)&&(0<=s&&this.timeDelta<0||s<0&&0<=this.timeDelta)&&("start"==this.settings.anchor?(this.settings.updateDate(this.endDateInput,new Date(i.getTime()+e)),this._dateChanged(this.endDateInput)):"end"==this.settings.anchor&&(this.settings.updateDate(this.startDateInput,new Date(n.getTime()-e)),this._dateChanged(this.startDateInput))),this.timeDelta=s)},_updateEndMintime:function(){var t;"function"==typeof this.settings.setMinTime&&(t=null,"start"==this.settings.anchor&&(!this.dateDelta||this.dateDelta<r||this.timeDelta&&this.dateDelta+this.timeDelta<r)&&(t=this.settings.parseTime(this.startTimeInput)),this.settings.setMinTime(this.endTimeInput,t))},_validateRanges:function(){return this.startTimeInput&&this.endTimeInput&&null===this.timeDelta||this.startDateInput&&this.endDateInput&&null===this.dateDelta?void e(this.container,"rangeIncomplete"):void(!this.startDateInput||!this.endDateInput||0<=this.dateDelta+this.timeDelta?e(this.container,"rangeSelected"):e(this.container,"rangeError"))}},t.Datepair=s}(window,document),function(s){s&&(s.fn.datepair=function(i){var n;return this.each(function(){var t=s(this),e=t.data("datepair");e||(e=new Datepair(this,"object"==typeof i&&i),t.data("datepair",e)),"remove"===i&&(n=e.remove(),t.removeData("datepair",e)),"string"==typeof i&&(n=e[i]())}),n||this},s("[data-datepair]").each(function(){var t=s(this);t.datepair(t.data())}))}(window.Zepto||window.jQuery),!function(r){r.fn.ddslick=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void r.error("Method "+t+" does not exists."):e.init.apply(this,arguments)};var e={},t={data:[],keepJSONItemsOnTop:!1,width:260,height:null,background:"#eee",selectText:"",defaultSelectedIndex:null,truncateDescription:!0,imagePosition:"left",showSelectedHTML:!0,clickOffToClose:!0,embedCSS:!0,onSelected:function(){}};function a(t,e){var i=t.data("ddslick"),n=t.find(".dd-selected"),s=n.siblings(".dd-selected-value"),o=(t.find(".dd-options"),n.siblings(".dd-pointer"),t.find(".dd-option").eq(e)),r=o.closest("li"),a=i.settings,l=i.settings.data[e];t.find(".dd-option").removeClass("dd-option-selected"),o.addClass("dd-option-selected"),i.selectedIndex=e,i.selectedItem=r,i.selectedData=l,a.showSelectedHTML?n.html((l.imageSrc?'<img class="dd-selected-image'+("right"==a.imagePosition?" dd-image-right":"")+'" src="'+l.imageSrc+'" />':"")+(l.text?'<label class="dd-selected-text">'+l.text+"</label>":"")+(l.description?'<small class="dd-selected-description dd-desc'+(a.truncateDescription?" dd-selected-description-truncated":"")+'" >'+l.description+"</small>":"")):n.html(l.text),s.val(l.value),i.original.val(l.value),t.data("ddslick",i),c(t),e=(o=t).find(".dd-select").css("height"),r=o.find(".dd-selected-description"),n=o.find(".dd-selected-image"),r.length<=0&&0<n.length&&o.find(".dd-selected-text").css("lineHeight",e),"function"==typeof a.onSelected&&a.onSelected.call(this,i)}function l(t){var s,e=t.find(".dd-select"),i=e.siblings(".dd-options"),e=e.find(".dd-pointer"),n=i.is(":visible");r(".dd-click-off-close").not(i).slideUp(50),r(".dd-pointer").removeClass("dd-pointer-up"),n?(i.slideUp("fast"),e.removeClass("dd-pointer-up")):(i.slideDown("fast"),e.addClass("dd-pointer-up")),(s=t).find(".dd-option").each(function(){var t=r(this),e=t.css("height"),i=t.find(".dd-option-description"),n=s.find(".dd-option-image");i.length<=0&&0<n.length&&t.find(".dd-option-text").css("lineHeight",e)})}function c(t){t.find(".dd-options").slideUp(50),t.find(".dd-pointer").removeClass("dd-pointer-up").removeClass("dd-pointer-up")}e.init=function(o){o=r.extend({},t,o);return r("#css-ddslick").length<=0&&o.embedCSS&&r('<style id="css-ddslick">.dd-select{ border-radius:2px; border:solid 1px #ccc; position:relative; cursor:pointer;}.dd-desc { color:#aaa; display:block; overflow: hidden; font-weight:normal; line-height: 1.4em; }.dd-selected{ overflow:hidden; display:block; padding:10px; font-weight:bold;}.dd-pointer{ width:0; height:0; position:absolute; right:10px; top:50%; margin-top:-3px;}.dd-pointer-down{ border:solid 5px transparent; border-top:solid 5px #000; }.dd-pointer-up{border:solid 5px transparent !important; border-bottom:solid 5px #000 !important; margin-top:-8px;}.dd-options{ border:solid 1px #ccc; border-top:none; list-style:none; box-shadow:0px 1px 5px #ddd; display:none; position:absolute; z-index:2000; margin:0; padding:0;background:#fff; overflow:auto;}.dd-option{ padding:10px; display:block; border-bottom:solid 1px #ddd; overflow:hidden; text-decoration:none; color:#333; cursor:pointer;-webkit-transition: all 0.25s ease-in-out; -moz-transition: all 0.25s ease-in-out;-o-transition: all 0.25s ease-in-out;-ms-transition: all 0.25s ease-in-out; }.dd-options > li:last-child > .dd-option{ border-bottom:none;}.dd-option:hover{ background:#f3f3f3; color:#000;}.dd-selected-description-truncated { text-overflow: ellipsis; white-space:nowrap; }.dd-option-selected { background:#f6f6f6; }.dd-option-image, .dd-selected-image { vertical-align:middle; float:left; margin-right:5px; max-width:64px;}.dd-image-right { float:right; margin-right:15px; margin-left:5px;}.dd-container{ position:relative;} .dd-selected-text { font-weight:bold}</style>').appendTo("head"),this.each(function(){var t,i,n,e,s=r(this);s.data("ddslick")||(i=[],o.data,s.find("option").each(function(){var t=r(this),e=t.data();i.push({text:r.trim(t.text()),value:t.val(),selected:t.is(":selected"),description:e.description,imageSrc:e.imagesrc})}),o.keepJSONItemsOnTop?r.merge(o.data,i):o.data=r.merge(i,o.data),e=r('<div id="'+(t=s).attr("id")+'"></div>'),s.replaceWith(e),(s=e).addClass("dd-container").append('<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>').append('<ul class="dd-options"></ul>'),i=s.find(".dd-select"),(n=s.find(".dd-options")).css({width:o.width}),i.css({width:o.width,background:o.background}),s.css({width:o.width}),null!=o.height&&n.css({height:o.height,overflow:"auto"}),r.each(o.data,function(t,e){e.selected&&(o.defaultSelectedIndex=t),n.append('<li><a class="dd-option">'+(e.value?' <input class="dd-option-value" type="hidden" value="'+e.value+'" />':"")+(e.imageSrc?' <img class="dd-option-image'+("right"==o.imagePosition?" dd-image-right":"")+'" src="'+e.imageSrc+'" />':"")+(e.text?' <label class="dd-option-text">'+e.text+"</label>":"")+(e.description?' <small class="dd-option-description dd-desc">'+e.description+"</small>":"")+"</a></li>")}),s.data("ddslick",{settings:o,original:t,selectedIndex:-1,selectedItem:null,selectedData:null}),0<o.selectText.length&&null==o.defaultSelectedIndex?s.find(".dd-selected").html(o.selectText):(e=null!=o.defaultSelectedIndex&&0<=o.defaultSelectedIndex&&o.defaultSelectedIndex<o.data.length?o.defaultSelectedIndex:0,a(s,e)),s.find(".dd-select").on("click.ddslick",function(){l(s)}),s.find(".dd-option").on("click.ddslick",function(){a(s,r(this).closest("li").index())}),o.clickOffToClose&&(n.addClass("dd-click-off-close"),s.on("click.ddslick",function(t){t.stopPropagation()}),r("body").on("click",function(){r(".dd-click-off-close").slideUp(50).siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up")})))})},e.select=function(t){return this.each(function(){void 0!==t.index&&a(r(this),t.index)})},e.open=function(){return this.each(function(){var t=r(this);t.data("ddslick")&&l(t)})},e.close=function(){return this.each(function(){var t=r(this);t.data("ddslick")&&c(t)})},e.destroy=function(){return this.each(function(){var t=r(this),e=t.data("ddslick");e&&(e=e.original,t.removeData("ddslick").unbind(".ddslick").replaceWith(e))})}}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?exports=t(require("jquery")):t(jQuery)}(function(e){function i(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}e.easing.jswing=e.easing.swing;var n=Math.pow,s=Math.sqrt,o=Math.sin,r=Math.cos,a=Math.PI,l=1.70158,c=1.525*l,h=2*a/3,d=2*a/4.5;e.extend(e.easing,{def:"easeOutQuad",swing:function(t){return e.easing[e.easing.def](t)},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-n(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-n(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-n(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-n(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-n(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-n(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-n(-2*t+2,5)/2},easeInSine:function(t){return 1-r(t*a/2)},easeOutSine:function(t){return o(t*a/2)},easeInOutSine:function(t){return-(r(a*t)-1)/2},easeInExpo:function(t){return 0===t?0:n(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-n(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?n(2,20*t-10)/2:(2-n(2,-20*t+10))/2},easeInCirc:function(t){return 1-s(1-n(t,2))},easeOutCirc:function(t){return s(1-n(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-s(1-n(2*t,2)))/2:(s(1-n(-2*t+2,2))+1)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-n(2,10*t-10)*o((10*t-10.75)*h)},easeOutElastic:function(t){return 0===t?0:1===t?1:n(2,-10*t)*o((10*t-.75)*h)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-(n(2,20*t-10)*o((20*t-11.125)*d))/2:n(2,-20*t+10)*o((20*t-11.125)*d)/2+1},easeInBack:function(t){return(1+l)*t*t*t-l*t*t},easeOutBack:function(t){return 1+(1+l)*n(t-1,3)+l*n(t-1,2)},easeInOutBack:function(t){return t<.5?n(2*t,2)*(7.189819*t-c)/2:(n(2*t-2,2)*((1+c)*(2*t-2)+c)+2)/2},easeInBounce:function(t){return 1-i(1-t)},easeOutBounce:i,easeInOutBounce:function(t){return t<.5?(1-i(1-2*t))/2:(1+i(2*t-1))/2}})}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(i){function r(t,r){function i(){r.scaleColor&&c(),r.trackColor&&l(r.trackColor,r.trackWidth||r.lineWidth,1)}var n,e=document.createElement("canvas"),s=(t.appendChild(e),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(e),e.getContext("2d")),o=(e.width=e.height=r.size,1),a=(1<window.devicePixelRatio&&(o=window.devicePixelRatio,e.style.width=e.style.height=[r.size,"px"].join(""),e.width=e.height=r.size*o,s.scale(o,o)),s.translate(r.size/2,r.size/2),s.rotate((r.rotate/180-.5)*Math.PI),(r.size-r.lineWidth)/2),l=(r.scaleColor&&r.scaleLength&&(a-=r.scaleLength+2),Date.now=Date.now||function(){return+new Date},function(t,e,i){var n=(i=Math.min(Math.max(-1,i||0),1))<=0;s.beginPath(),s.arc(0,0,a,0,2*Math.PI*i,n),s.strokeStyle=t,s.lineWidth=e,s.stroke()}),c=function(){var t,e;s.lineWidth=1,s.fillStyle=r.scaleColor,s.save();for(var i=24;0<i;--i)t=i%6==0?(e=r.scaleLength,0):(e=.6*r.scaleLength,r.scaleLength-e),s.fillRect(-r.size/2+t,0,e,1),s.rotate(Math.PI/12);s.restore()},h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};this.getCanvas=function(){return e},this.getCtx=function(){return s},this.clear=function(){s.clearRect(r.size/-2,r.size/-2,r.size,r.size)},this.draw=function(t){var e;r.scaleColor||r.trackColor?s.getImageData&&s.putImageData?n?s.putImageData(n,0,0):(i(),n=s.getImageData(0,0,r.size*o,r.size*o)):(this.clear(),i()):this.clear(),s.lineCap=r.lineCap,e="function"==typeof r.barColor?r.barColor(t):r.barColor,l(e,r.lineWidth,t/100)}.bind(this),this.animate=function(i,n){var s=Date.now(),o=(r.onStart(i,n),function(){var t=Math.min(Date.now()-s,r.animate.duration),e=r.easing(this,t,i,n-i,r.animate.duration);this.draw(e),r.onStep(i,n,e),t>=r.animate.duration?r.onStop(i,n):h(o)}.bind(this));h(o)}.bind(this)}function n(e,i){var n={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,i,n,s){return(e/=s/2)<1?n/2*e*e+i:-n/2*(--e*(e-2)-1)+i},onStart:function(t,e){},onStep:function(t,e,i){},onStop:function(t,e){}};if(void 0!==r)n.renderer=r;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");n.renderer=SVGRenderer}var s={},o=0,t=function(){for(var t in this.el=e,this.options=s,n)n.hasOwnProperty(t)&&(s[t]=(i&&void 0!==i[t]?i:n)[t],"function"==typeof s[t])&&(s[t]=s[t].bind(this));"string"==typeof s.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[s.easing])?s.easing=jQuery.easing[s.easing]:s.easing=n.easing,"number"==typeof s.animate&&(s.animate={duration:s.animate,enabled:!0}),"boolean"!=typeof s.animate||s.animate||(s.animate={duration:1e3,enabled:s.animate}),this.renderer=new s.renderer(e,s),this.renderer.draw(o),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),s.animate.enabled?this.renderer.animate(o,t):this.renderer.draw(t),o=t,this}.bind(this),this.disableAnimation=function(){return s.animate.enabled=!1,this},this.enableAnimation=function(){return s.animate.enabled=!0,this},t()}i.fn.easyPieChart=function(e){return this.each(function(){var t;i.data(this,"easyPieChart")||(t=i.extend({},e,i(this).data()),i.data(this,"easyPieChart",new n(this,t)))})}}),!function(s){function o(){c.draw(),h.draw(),d.draw(),u.draw()}function r(t){return Math.PI/180*t-Math.PI/180*90}var a,l,c,h,d,u,p,f;s.fn.final_countdown=function(t,e){var i,n;(p=s(this)).is(":visible")&&(n=s.extend({start:void 0,end:void 0,now:void 0,selectors:{value_seconds:".clock-seconds .val",canvas_seconds:"canvas-seconds",value_minutes:".clock-minutes .val",canvas_minutes:"canvas-minutes",value_hours:".clock-hours .val",canvas_hours:"canvas-hours",value_days:".clock-days .val",canvas_days:"canvas-days"},seconds:{borderColor:"#7995D5",borderWidth:"6"},minutes:{borderColor:"#ACC742",borderWidth:"6"},hours:{borderColor:"#ECEFCB",borderWidth:"6"},days:{borderColor:"#FF9900",borderWidth:"6"}},t),void 0===(a=s.extend({},n,t)).start&&(a.start=p.data("start")),void 0===a.end&&(a.end=p.data("end")),void 0===a.now&&(a.now=p.data("now")),p.data("border-color")&&(a.seconds.borderColor=a.minutes.borderColor=a.hours.borderColor=a.days.borderColor=p.data("border-color")),a.now<a.start&&(a.start=a.now,a.end=a.now),a.now>a.end&&(a.start=a.now,a.end=a.now),"function"==typeof e&&(f=e),s(window).load(o),s(window).on("redraw",function(){switched=!1,o()}),s(window).on("resize",o),l={total:Math.floor((a.end-a.start)/86400),days:Math.floor((a.end-a.now)/86400),hours:24-Math.floor((a.end-a.now)%86400/3600),minutes:60-Math.floor((a.end-a.now)%86400%3600/60),seconds:60-Math.floor((a.end-a.now)%86400%3600%60)},n=s("#"+a.selectors.canvas_seconds).width(),n=new Kinetic.Stage({container:a.selectors.canvas_seconds,width:n,height:n}),p=new Kinetic.Shape({drawFunc:function(t){var e=s("#"+a.selectors.canvas_seconds).width(),i=e/2-a.seconds.borderWidth/2,n=e/2,e=e/2;t.beginPath(),t.arc(n,e,i,r(0),r(6*l.seconds)),t.fillStrokeShape(this),s(a.selectors.value_seconds).html(60-l.seconds)},stroke:a.seconds.borderColor,strokeWidth:a.seconds.borderWidth}),(c=new Kinetic.Layer).add(p),n.add(c),n=s("#"+a.selectors.canvas_minutes).width(),n=new Kinetic.Stage({container:a.selectors.canvas_minutes,width:n,height:n}),p=new Kinetic.Shape({drawFunc:function(t){var e=s("#"+a.selectors.canvas_minutes).width(),i=e/2-a.minutes.borderWidth/2,n=e/2,e=e/2;t.beginPath(),t.arc(n,e,i,r(0),r(6*l.minutes)),t.fillStrokeShape(this),s(a.selectors.value_minutes).html(60-l.minutes)},stroke:a.minutes.borderColor,strokeWidth:a.minutes.borderWidth}),(h=new Kinetic.Layer).add(p),n.add(h),n=s("#"+a.selectors.canvas_hours).width(),n=new Kinetic.Stage({container:a.selectors.canvas_hours,width:n,height:n}),p=new Kinetic.Shape({drawFunc:function(t){var e=s("#"+a.selectors.canvas_hours).width(),i=e/2-a.hours.borderWidth/2,n=e/2,e=e/2;t.beginPath(),t.arc(n,e,i,r(0),r(360*l.hours/24)),t.fillStrokeShape(this),s(a.selectors.value_hours).html(24-l.hours)},stroke:a.hours.borderColor,strokeWidth:a.hours.borderWidth}),(d=new Kinetic.Layer).add(p),n.add(d),n=s("#"+a.selectors.canvas_days).width(),n=new Kinetic.Stage({container:a.selectors.canvas_days,width:n,height:n}),p=new Kinetic.Shape({drawFunc:function(t){var e=s("#"+a.selectors.canvas_days).width(),i=e/2-a.days.borderWidth/2,n=e/2,e=e/2;t.beginPath(),0==l.total?t.arc(n,e,i,r(0),r(360)):t.arc(n,e,i,r(0),r(360/l.total*(l.total-l.days))),t.fillStrokeShape(this),s(a.selectors.value_days).html(l.days)},stroke:a.days.borderColor,strokeWidth:a.days.borderWidth}),(u=new Kinetic.Layer).add(p),n.add(u),i=setInterval(function(){if(59<l.seconds){if(60-l.minutes==0&&24-l.hours==0&&0==l.days)return clearInterval(i),void(void 0!==f&&f.call(this));l.seconds=1,59<l.minutes?(l.minutes=1,h.draw(),23<l.hours?(l.hours=1,0<l.days&&(l.days--,u.draw())):l.hours++,d.draw()):l.minutes++,h.draw()}else l.seconds++;c.draw()},1e3))}}(jQuery),!function(s){s.fn.fitText=function(t,e){var i=t||1,n=s.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},e);return this.each(function(){function t(){e.css("font-size",Math.max(Math.min(e.width()/(10*i),parseFloat(n.maxFontSize)),parseFloat(n.minFontSize)))}var e=s(this);t(),s(window).on("resize.fittext orientationchange.fittext",t)})}}(jQuery),!function(o){"use strict";o.fn.fitVids=function(t){var e,i,s={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(e=document.head||document.getElementsByTagName("head")[0],(i=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',e.appendChild(i.childNodes[1])),t&&o.extend(s,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"],n=(s.customSelector&&t.push(s.customSelector),".fitvidsignore"),t=(s.ignore&&(n=n+", "+s.ignore),o(this).find(t.join(",")));(t=(t=t.not("object object")).not(n)).each(function(){var t,e,i=o(this);0<i.parents(n).length||"embed"===this.tagName.toLowerCase()&&i.parent("object").length||i.parent(".fluid-width-video-wrapper").length||(i.css("height")||i.css("width")||!isNaN(i.attr("height"))&&!isNaN(i.attr("width"))||(i.attr("height",9),i.attr("width",16)),t=("object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height())/(isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10)),i.attr("name")||(e="fitvid"+o.fn.fitVids._count,i.attr("name",e),o.fn.fitVids._count++),i.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*t+"%"),i.removeAttr("height").removeAttr("width"))})})},o.fn.fitVids._count=0}(window.jQuery||window.Zepto),!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),i(e),e}:i(jQuery)}(function(K){"use strict";function o(t){var e=t.data;t.isDefaultPrevented()||(t.preventDefault(),K(t.target).closest("form").ajaxSubmit(e))}function r(t){var e=t.target,i=K(e);if(!i.is("[type=submit],[type=image]")){var n=i.closest("[type=submit]");if(0===n.length)return;e=n[0]}var s=e.form;"image"===(s.clk=e).type&&(void 0!==t.offsetX?(s.clk_x=t.offsetX,s.clk_y=t.offsetY):"function"==typeof K.fn.offset?(n=i.offset(),s.clk_x=t.pageX-n.left,s.clk_y=t.pageY-n.top):(s.clk_x=t.pageX-e.offsetLeft,s.clk_y=t.pageY-e.offsetTop)),setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function I(){var t;K.fn.ajaxSubmit.debug&&(t="[jquery.form] "+Array.prototype.join.call(arguments,""),window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t))}var u=/\r?\n/g,g={},A=(g.fileapi=void 0!==K('<input type="file">').get(0).files,g.formdata=void 0!==window.FormData,!!K.fn.prop);K.fn.attr2=function(){var t;return A&&((t=this.prop.apply(this,arguments))&&t.jquery||"string"==typeof t)?t:this.attr.apply(this,arguments)},K.fn.ajaxSubmit=function(F,t,e,i){function n(t){function c(e){var i=null;try{e.contentWindow&&(i=e.contentWindow.document)}catch(e){I("cannot get iframe.contentWindow document: "+e)}if(!i)try{i=e.contentDocument||e.document}catch(t){I("cannot get iframe.contentDocument: "+t),i=e.document}return i}function e(){var t=P.attr2("target"),e=P.attr2("action"),i=P.attr("enctype")||P.attr("encoding")||"multipart/form-data",n=(o.setAttribute("target",a),M&&!/post/i.test(M)||o.setAttribute("method","POST"),e!==d.url&&o.setAttribute("action",d.url),d.skipEncodingOverride||M&&!/post/i.test(M)||P.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(v=setTimeout(function(){m=!0,h(w)},d.timeout)),[]);try{if(d.extraData)for(var s in d.extraData)d.extraData.hasOwnProperty(s)&&(K.isPlainObject(d.extraData[s])&&d.extraData[s].hasOwnProperty("name")&&d.extraData[s].hasOwnProperty("value")?n.push(K('<input type="hidden" name="'+d.extraData[s].name+'">',l).val(d.extraData[s].value).appendTo(o)[0]):n.push(K('<input type="hidden" name="'+s+'">',l).val(d.extraData[s]).appendTo(o)[0]));d.iframeTarget||p.appendTo(D),f.attachEvent?f.attachEvent("onload",h):f.addEventListener("load",h,!1),setTimeout(function t(){try{var e=c(f).readyState;I("state = "+e),e&&"uninitialized"===e.toLowerCase()&&setTimeout(t,50)}catch(e){I("Server abort: ",e," (",e.name,")"),h(b),v&&clearTimeout(v),v=void 0}},15);try{o.submit()}catch(t){document.createElement("form").submit.apply(o)}}finally{o.setAttribute("action",e),o.setAttribute("enctype",i),t?o.setAttribute("target",t):P.removeAttr("target"),K(n).remove()}}function h(e){if(!g.aborted&&!C)if((_=c(f))||(I("cannot access response document"),e=b),e===w&&g)g.abort("timeout"),y.reject(g,"timeout");else if(e===b&&g)g.abort("server abort"),y.reject(g,"error","server abort");else if(_&&_.location.href!==d.iframeSrc||m){f.detachEvent?f.detachEvent("onload",h):f.removeEventListener("load",h,!1);var i,e="success";try{if(m)throw"timeout";var t="xml"===d.dataType||_.XMLDocument||K.isXMLDoc(_);if(I("isXml="+t),!t&&window.opera&&(null===_.body||!_.body.innerHTML)&&--S)return I("requeing onLoad callback, DOM not available"),void setTimeout(h,250);var n,s,o,r=_.body||_.documentElement,a=(g.responseText=r?r.innerHTML:null,g.responseXML=_.XMLDocument||_,t&&(d.dataType="xml"),g.getResponseHeader=function(t){return{"content-type":d.dataType}[t.toLowerCase()]},r&&(g.status=Number(r.getAttribute("status"))||g.status,g.statusText=r.getAttribute("statusText")||g.statusText),(d.dataType||"").toLowerCase()),l=/(json|script|text)/.test(a);l||d.textarea?(n=_.getElementsByTagName("textarea")[0])?(g.responseText=n.value,g.status=Number(n.getAttribute("status"))||g.status,g.statusText=n.getAttribute("statusText")||g.statusText):l&&(s=_.getElementsByTagName("pre")[0],o=_.getElementsByTagName("body")[0],s?g.responseText=s.textContent||s.innerText:o&&(g.responseText=o.textContent||o.innerText)):"xml"===a&&!g.responseXML&&g.responseText&&(g.responseXML=k(g.responseText));try{x=T(g,a,d)}catch(t){e="parsererror",g.error=i=t||e}}catch(t){I("error caught: ",t),e="error",g.error=i=t||e}g.aborted&&(I("upload aborted"),e=null),"success"===(e=g.status?200<=g.status&&g.status<300||304===g.status?"success":"error":e)?(d.success&&d.success.call(d.context,x,"success",g),y.resolve(g.responseText,"success",g),u&&K.event.trigger("ajaxSuccess",[g,d])):e&&(void 0===i&&(i=g.statusText),d.error&&d.error.call(d.context,g,e,i),y.reject(g,"error",i),u)&&K.event.trigger("ajaxError",[g,d,i]),u&&K.event.trigger("ajaxComplete",[g,d]),u&&!--K.active&&K.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,g,e),C=!0,d.timeout&&clearTimeout(v),setTimeout(function(){d.iframeTarget?p.attr("src",d.iframeSrc):p.remove(),g.responseXML=null},100)}}var i,n,d,u,p,f,g,m,v,o=P[0],y=K.Deferred();if(y.abort=function(t){g.abort(t)},t)for(n=0;n<E.length;n++)i=K(E[n]),A?i.prop("disabled",!1):i.removeAttr("disabled");(d=K.extend(!0,{},K.ajaxSettings,F)).context=d.context||d;var w,b,s,x,_,C,S,k,r,T,a="jqFormIO"+(new Date).getTime(),l=o.ownerDocument,D=P.closest("body");return(d.iframeTarget?(s=(p=K(d.iframeTarget,l)).attr2("name"))?a=s:p.attr2("name",a):(p=K('<iframe name="'+a+'" src="'+d.iframeSrc+'" />',l)).css({position:"absolute",top:"-1000px",left:"-1000px"}),f=p[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var e="timeout"===t?"timeout":"aborted";I("aborting upload... "+e),this.aborted=1;try{f.contentWindow.document.execCommand&&f.contentWindow.document.execCommand("Stop")}catch(t){}p.attr("src",d.iframeSrc),g.error=e,d.error&&d.error.call(d.context,g,e,t),u&&K.event.trigger("ajaxError",[g,d,e]),d.complete&&d.complete.call(d.context,g,e)}},(u=d.global)&&0==K.active++&&K.event.trigger("ajaxStart"),u&&K.event.trigger("ajaxSend",[g,d]),d.beforeSend&&!1===d.beforeSend.call(d.context,g,d))?(d.global&&K.active--,y.reject()):g.aborted?y.reject():((t=o.clk)&&(s=t.name)&&!t.disabled&&(d.extraData=d.extraData||{},d.extraData[s]=t.value,"image"===t.type)&&(d.extraData[s+".x"]=o.clk_x,d.extraData[s+".y"]=o.clk_y),w=1,b=2,t=K("meta[name=csrf-token]").attr("content"),(s=K("meta[name=csrf-param]").attr("content"))&&t&&(d.extraData=d.extraData||{},d.extraData[s]=t),d.forceSync?e():setTimeout(e,10),S=50,k=K.parseXML||function(t,e){return window.ActiveXObject?((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!==e.documentElement.nodeName?e:null},r=K.parseJSON||function(t){return window.eval("("+t+")")},T=function(t,e,i){var n=t.getResponseHeader("content-type")||"",s=("xml"===e||!e)&&0<=n.indexOf("xml"),t=s?t.responseXML:t.responseText;return s&&"parsererror"===t.documentElement.nodeName&&K.error&&K.error("parsererror"),"string"==typeof(t=i&&i.dataFilter?i.dataFilter(t,e):t)&&(("json"===e||!e)&&0<=n.indexOf("json")?t=r(t):("script"===e||!e)&&0<=n.indexOf("javascript")&&K.globalEval(t)),t}),y}if(this.length){var M,P=this,i=("function"==typeof F?F={success:F}:"string"==typeof F||!1===F&&0<arguments.length?(F={url:F,data:t,dataType:e},"function"==typeof i&&(F.success=i)):void 0===F&&(F={}),M=F.method||F.type||this.attr2("method"),e=(e=(e="string"==typeof(t=F.url||this.attr2("action"))?K.trim(t):"")||window.location.href||"")&&(e.match(/^([^#]+)/)||[])[1],F=K.extend(!0,{url:e,success:K.ajaxSettings.success,type:M||K.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},F),{});if(this.trigger("form-pre-serialize",[this,F,i]),i.veto)I("ajaxSubmit: submit vetoed via form-pre-serialize trigger");else if(F.beforeSerialize&&!1===F.beforeSerialize(this,F))I("ajaxSubmit: submit aborted via beforeSerialize callback");else{t=F.traditional;void 0===t&&(t=K.ajaxSettings.traditional);var E=[],s=this.formToArray(F.semantic,E,F.filtering);if(F.data&&(e=K.isFunction(F.data)?F.data(s):F.data,F.extraData=e,h=K.param(e,t)),F.beforeSubmit&&!1===F.beforeSubmit(s,this,F))I("ajaxSubmit: submit aborted via beforeSubmit callback");else if(this.trigger("form-submit-validate",[s,this,F,i]),i.veto)I("ajaxSubmit: submit vetoed via form-submit-validate trigger");else{var o,r,a,l,e=K.param(s,t),c=(h&&(e=e?e+"&"+h:h),"GET"===F.type.toUpperCase()?(F.url+=(0<=F.url.indexOf("?")?"&":"?")+e,F.data=null):F.data=e,[]),i=(F.resetForm&&c.push(function(){P.resetForm()}),F.clearForm&&c.push(function(){P.clearForm(F.includeHidden)}),!F.dataType&&F.target?(o=F.success||function(){},c.push(function(t,e,i){var n=arguments,s=F.replaceTarget?"replaceWith":"html";K(F.target)[s](t).each(function(){o.apply(this,n)})})):F.success&&(K.isArray(F.success)?K.merge(c,F.success):c.push(F.success)),F.success=function(t,e,i){for(var n=F.context||this,s=0,o=c.length;s<o;s++)c[s].apply(n,[t,e,i||P,P])},F.error&&(r=F.error,F.error=function(t,e,i){var n=F.context||this;r.apply(n,[t,e,i,P])}),F.complete&&(a=F.complete,F.complete=function(t,e){var i=F.context||this;a.apply(i,[t,e,P])}),0<K("input[type=file]:enabled",this).filter(function(){return""!==K(this).val()}).length),t="multipart/form-data",h=P.attr("enctype")===t||P.attr("encoding")===t,e=g.fileapi&&g.formdata;I("fileAPI :"+e),!1!==F.iframe&&(F.iframe||(i||h)&&!e)?F.closeKeepAlive?K.get(F.closeKeepAlive,function(){l=n(s)}):l=n(s):l=(i||h)&&e?function(t){for(var i=new FormData,e=0;e<t.length;e++)i.append(t[e].name,t[e].value);if(F.extraData)for(var n=function(t){for(var e,i=K.param(t,F.traditional).split("&"),n=i.length,s=[],o=0;o<n;o++)i[o]=i[o].replace(/\+/g," "),e=i[o].split("="),s.push([decodeURIComponent(e[0]),decodeURIComponent(e[1])]);return s}(F.extraData),e=0;e<n.length;e++)n[e]&&i.append(n[e][0],n[e][1]);F.data=null;var s=K.extend(!0,{},K.ajaxSettings,F,{contentType:!1,processData:!1,cache:!1,type:M||"POST"}),o=(F.uploadProgress&&(s.xhr=function(){var t=K.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(t){var e=0,i=t.loaded||t.position,n=t.total;t.lengthComputable&&(e=Math.ceil(i/n*100)),F.uploadProgress(t,i,n,e)},!1),t}),s.data=null,s.beforeSend);return s.beforeSend=function(t,e){F.formData?e.data=F.formData:e.data=i,o&&o.call(this,t,e)},K.ajax(s)}(s):K.ajax(F),P.removeData("jqxhr").data("jqxhr",l);for(var d=0;d<E.length;d++)E[d]=null;this.trigger("form-submit-notify",[this,F])}}}else I("ajaxSubmit: skipping submit process - no element selected");return this},K.fn.ajaxForm=function(t,e,i,n){var s;return("string"==typeof t||!1===t&&0<arguments.length)&&(t={url:t,data:e,dataType:i},"function"==typeof n)&&(t.success=n),(t=t||{}).delegation=t.delegation&&K.isFunction(K.fn.on),t.delegation||0!==this.length?t.delegation?(K(document).off("submit.form-plugin",this.selector,o).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,t,o).on("click.form-plugin",this.selector,t,r),this):this.ajaxFormUnbind().on("submit.form-plugin",t,o).on("click.form-plugin",t,r):(s={s:this.selector,c:this.context},!K.isReady&&s.s?(I("DOM not ready, queuing ajaxForm"),K(function(){K(s.s,s.c).ajaxForm(t)})):I("terminating; zero elements found by selector"+(K.isReady?"":" (DOM not ready)")),this)},K.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},K.fn.formToArray=function(t,e,i){var n=[];if(0!==this.length){var s=this[0],o=this.attr("id"),r=(r=t||void 0===s.elements?s.getElementsByTagName("*"):s.elements)&&K.makeArray(r);if((r=o&&(t||/(Edge|Trident)\//.test(navigator.userAgent))&&(o=K(':input[form="'+o+'"]').get()).length?(r||[]).concat(o):r)&&r.length){for(var a,l,c,h,d,u=0,p=(r=K.isFunction(i)?K.map(r,i):r).length;u<p;u++)if((l=(h=r[u]).name)&&!h.disabled)if(t&&s.clk&&"image"===h.type)s.clk===h&&(n.push({name:l,value:K(h).val(),type:h.type}),n.push({name:l+".x",value:s.clk_x},{name:l+".y",value:s.clk_y}));else if((c=K.fieldValue(h,!0))&&c.constructor===Array)for(e&&e.push(h),a=0,d=c.length;a<d;a++)n.push({name:l,value:c[a]});else if(g.fileapi&&"file"===h.type){e&&e.push(h);var f=h.files;if(f.length)for(a=0;a<f.length;a++)n.push({name:l,value:f[a],type:h.type});else n.push({name:l,value:"",type:h.type})}else null!=c&&(e&&e.push(h),n.push({name:l,value:c,type:h.type,required:h.required}));!t&&s.clk&&(l=(i=(o=K(s.clk))[0]).name)&&!i.disabled&&"image"===i.type&&(n.push({name:l,value:o.val()}),n.push({name:l+".x",value:s.clk_x},{name:l+".y",value:s.clk_y}))}}return n},K.fn.formSerialize=function(t){return K.param(this.formToArray(t))},K.fn.fieldSerialize=function(s){var o=[];return this.each(function(){var t=this.name;if(t){var e=K.fieldValue(this,s);if(e&&e.constructor===Array)for(var i=0,n=e.length;i<n;i++)o.push({name:t,value:e[i]});else null!=e&&o.push({name:this.name,value:e})}}),K.param(o)},K.fn.fieldValue=function(t){for(var e=[],i=0,n=this.length;i<n;i++){var s=this[i],s=K.fieldValue(s,t);null==s||s.constructor===Array&&!s.length||(s.constructor===Array?K.merge(e,s):e.push(s))}return e},K.fieldValue=function(t,e){var i=t.name,n=t.type,s=t.tagName.toLowerCase();if((e=void 0===e?!0:e)&&(!i||t.disabled||"reset"===n||"button"===n||("checkbox"===n||"radio"===n)&&!t.checked||("submit"===n||"image"===n)&&t.form&&t.form.clk!==t||"select"===s&&-1===t.selectedIndex))return null;if("select"!==s)return K(t).val().replace(u,"\r\n");e=t.selectedIndex;if(e<0)return null;for(var o=[],r=t.options,a="select-one"===n,l=a?e+1:r.length,c=a?e:0;c<l;c++){var h=r[c];if(h.selected&&!h.disabled){var d=(d=h.value)||(h.attributes&&h.attributes.value&&!h.attributes.value.specified?h.text:h.value);if(a)return d;o.push(d)}}return o},K.fn.clearForm=function(t){return this.each(function(){K("input,select,textarea",this).clearFields(t)})},K.fn.clearFields=K.fn.clearInputs=function(i){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,e=this.tagName.toLowerCase();n.test(t)||"textarea"===e?this.value="":"checkbox"===t||"radio"===t?this.checked=!1:"select"===e?this.selectedIndex=-1:"file"===t?/MSIE/.test(navigator.userAgent)?K(this).replaceWith(K(this).clone(!0)):K(this).val(""):i&&(!0===i&&/hidden/.test(t)||"string"==typeof i&&K(this).is(i))&&(this.value="")})},K.fn.resetForm=function(){return this.each(function(){var e=K(this),t=this.tagName.toLowerCase();switch(t){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var i=e.parents("select");return i.length&&i[0].multiple?"option"===t?this.selected=this.defaultSelected:e.find("option").resetForm():i.resetForm(),!0;case"select":return e.find("option").each(function(t){if(this.selected=this.defaultSelected,this.defaultSelected&&!e[0].multiple)return e[0].selectedIndex=t,!1}),!0;case"label":var i=K(e.attr("for")),n=e.find("input,select,textarea");return i[0]&&n.unshift(i[0]),n.resetForm(),!0;case"form":return"function"!=typeof this.reset&&("object"!=typeof this.reset||this.reset.nodeType)||this.reset(),!0;default:return e.find("form,input,label,select,textarea").resetForm(),!0}})},K.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},K.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var t=this.type;"checkbox"===t||"radio"===t?this.checked=e:"option"===this.tagName.toLowerCase()&&(t=K(this).parent("select"),e&&t[0]&&"select-one"===t[0].type&&t.find("option").selected(!1),this.selected=e)})},K.fn.ajaxSubmit.debug=!1}),!function(r){function e(t,e,i,n){var s=t.text(),e=s.split(e),o="";e.length&&(r(e).each(function(t,e){o+='<span class="'+i+(t+1)+'" aria-hidden="true">'+e+"</span>"+n}),t.attr("aria-label",s).empty().append(o))}var i={init:function(){return this.each(function(){e(r(this),"","char","")})},words:function(){return this.each(function(){e(r(this)," ","word"," ")})},lines:function(){return this.each(function(){var t="eefec303079ad17405c889e092e105b0";e(r(this).children("br").replaceWith(t).end(),t,"line","")})}};r.fn.lettering=function(t){return t&&i[t]?i[t].apply(this,[].slice.call(arguments,1)):"letters"!==t&&t?(r.error("Method "+t+" does not exist on jQuery.lettering"),this):i.init.apply(this,[].slice.call(arguments,0))}}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(a){function n(t,e,i){var n,s,o=e.hash.slice(1),r=document.getElementById(o)||document.getElementsByName(o)[0];r&&(t&&t.preventDefault(),n=a(i.target),i.lock&&n.is(":animated")||i.onBefore&&!1===i.onBefore(t,r,n)||(i.stop&&n.stop(!0),i.hash&&(t=r.id===o?"id":"name",s=a("<a> </a>").attr(t,o).css({position:"absolute",top:a(window).scrollTop(),left:a(window).scrollLeft()}),r[t]="",a("body").prepend(s),location.hash=e.hash,s.remove(),r[t]=o),n.scrollTo(r,i).trigger("notify.serialScroll",[r])))}var t=location.href.replace(/#.*/,""),s=a.localScroll=function(t){a("body").localScroll(t)};return s.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,autoscroll:!0},a.fn.localScroll=function(e){function i(){return!!this.href&&!!this.hash&&this.href.replace(this.hash,"")===t&&(!e.filter||a(this).is(e.filter))}return(e=a.extend({},s.defaults,e)).autoscroll&&e.hash&&location.hash&&(e.target&&window.scrollTo(0,0),n(0,location,e)),e.lazy?this.on(e.event,"a,area",function(t){i.call(this)&&n(t,this,e)}):this.find("a,area").filter(i).bind(e.event,function(t){n(t,this,e)}).end().end()},s.hash=function(){},s}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(h){function e(t){var e,i=t||window.event,n=g.call(arguments,1),s=0,o=0,r=0,a=0,l=0,c=0;if((t=h.event.fix(i)).type="mousewheel","detail"in i&&(r=-1*i.detail),"wheelDelta"in i&&(r=i.wheelDelta),"wheelDeltaY"in i&&(r=i.wheelDeltaY),"wheelDeltaX"in i&&(o=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(o=-1*r,r=0),s=0===r?o:r,"deltaY"in i&&(s=r=-1*i.deltaY),"deltaX"in i&&(o=i.deltaX,0===r)&&(s=-1*o),0!==r||0!==o)return 1===i.deltaMode?(s*=e=h.data(this,"mousewheel-line-height"),r*=e,o*=e):2===i.deltaMode&&(s*=e=h.data(this,"mousewheel-page-height"),r*=e,o*=e),a=Math.max(Math.abs(r),Math.abs(o)),(!f||a<f)&&u(i,f=a)&&(f/=40),u(i,a)&&(s/=40,o/=40,r/=40),s=Math[1<=s?"floor":"ceil"](s/f),o=Math[1<=o?"floor":"ceil"](o/f),r=Math[1<=r?"floor":"ceil"](r/f),m.settings.normalizeOffset&&this.getBoundingClientRect&&(e=this.getBoundingClientRect(),l=t.clientX-e.left,c=t.clientY-e.top),t.deltaX=o,t.deltaY=r,t.deltaFactor=f,t.offsetX=l,t.offsetY=c,t.deltaMode=0,n.unshift(t,s,o,r),p&&clearTimeout(p),p=setTimeout(d,200),(h.event.dispatch||h.event.handle).apply(this,n)}function d(){f=null}function u(t,e){return m.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var p,f,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g=Array.prototype.slice;if(h.event.fixHooks)for(var n=t.length;n;)h.event.fixHooks[t[--n]]=h.event.mouseHooks;var m=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e;h.data(this,"mousewheel-line-height",m.getLineHeight(this)),h.data(this,"mousewheel-page-height",m.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var t=h(t),e=t["offsetParent"in h.fn?"offsetParent":"parent"]();return e.length||(e=h("body")),parseInt(e.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(t){return h(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};h.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),!function(l){var c=l(window),h=c.height();c.resize(function(){h=c.height()}),l.fn.parallax=function(n,s,t){var o,r,a=l(this);function e(){var i=c.scrollTop();a.each(function(){var t=l(this),e=t.offset().top;e+o(t)<i||i+h<e||a.css("backgroundPosition",n+" "+Math.round((r-i)*s)+"px")})}a.each(function(){r=a.offset().top}),o=t?function(t){return t.outerHeight(!0)}:function(t){return t.height()},(arguments.length<1||null===n)&&(n="50%"),(arguments.length<2||null===s)&&(s=.1),(arguments.length<3||null===t)&&(t=!0),c.bind("scroll",e).resize(e),e()}}(jQuery);var ParallaxScroll={showLogs:!1,round:1e3,init:function(){this._log("init"),this._inited?(this._log("Already Inited"),this._inited=!0):(this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)},this._onScroll(!0))},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(t){this.showLogs&&console.log("Parallax Scroll / "+t)},_onScroll:function(_){var C=jQuery(document).scrollTop(),S=jQuery(window).height();this._log("onScroll "+C),jQuery("[data-parallax]").each(jQuery.proxy(function(t,e){for(var r=jQuery(e),a=[],l=!1,i=r.data("style"),n=(null==i&&(i=r.attr("style")||"",r.data("style",i)),[r.data("parallax")]),s=2;r.data("parallax"+s);s++)n.push(r.data("parallax-"+s));var o,c,h=n.length;for(s=0;s<h;s++){var d,u,p,f=n[s],g=f["from-scroll"],m=(null==g&&(g=Math.max(0,jQuery(e).offset().top-S)),g|=0,f.distance),v=f["to-scroll"],y=(null==m&&null==v&&(m=S),m=Math.max(0|m,1),f.easing),w=f["easing-return"],b=(null!=y&&jQuery.easing&&jQuery.easing[y]||(y=null),null!=w&&jQuery.easing&&jQuery.easing[w]||(w=y),y&&(null==(d=f.duration)&&(d=m),d=Math.max(0|d,1),null==(u=f["duration-return"])&&(u=d),m=1,null==(p=r.data("current-time")))&&(p=0),null==v&&(v=g+m),v|=0,f.smoothness),x=(null==b&&(b=30),b|=0,!_&&0!=b||(b=1),b|=0,C),x=Math.max(x,g);x=Math.min(x,v),y&&(null==r.data("sens")&&r.data("sens","back"),g<x&&("back"==r.data("sens")?(p=1,r.data("sens","go")):p++),x<v&&("go"==r.data("sens")?(p=1,r.data("sens","back")):p++),_&&(p=d),r.data("current-time",p)),this._properties.map(jQuery.proxy(function(t){var e,i,n,s=0,o=f[t];null!=o&&("scale"==t||"scaleX"==t||"scaleY"==t||"scaleZ"==t?s=1:o|=0,n=(e=null==(e=r.data("_"+t))?s:e)+((i=(x-g)/(v-g)*(o-s)+s)-e)/b,y&&0<p&&p<=d&&(s=s,"back"==r.data("sens")&&(o=-(s=o),y=w,d=u),n=jQuery.easing[y](null,p,s,o,d)),(n=Math.ceil(n*this.round)/this.round)==e&&i==o&&(n=o),a[t]||(a[t]=0),a[t]+=n,e!=a[t])&&(r.data("_"+t,a[t]),l=!0)},this))}l&&(null!=a.z&&(null==(c=f.perspective)&&(c=800),(o=r.parent()).data("style")||o.data("style",o.attr("style")||""),o.attr("style","perspective:"+c+"px; -webkit-perspective:"+c+"px; "+o.data("style"))),null==a.scaleX&&(a.scaleX=1),null==a.scaleY&&(a.scaleY=1),null==a.scaleZ&&(a.scaleZ=1),null!=a.scale&&(a.scaleX*=a.scale,a.scaleY*=a.scale,a.scaleZ*=a.scale),this._log(c="translate3d("+(a.x||0)+"px, "+(a.y||0)+"px, "+(a.z||0)+"px)"+" "+("rotateX("+(a.rotateX||0)+"deg) rotateY("+(a.rotateY||0)+"deg) rotateZ("+(a.rotateZ||0)+"deg)")+" "+("scaleX("+a.scaleX+") scaleY("+a.scaleY+") scaleZ("+a.scaleZ+")")+";"),r.attr("style","transform:"+c+" -webkit-transform:"+c+" "+i))},this)),window.requestAnimationFrame?window.requestAnimationFrame(jQuery.proxy(this._onScroll,this,!1)):this._requestAnimationFrame(jQuery.proxy(this._onScroll,this,!1))}},Kinetic=(!function(t){"use strict";"function"==typeof define&&define.amd?define("parollerjs",["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(v){"use strict";function y(){w=!1}var w=!1,b=function(t,e){return t.css({"background-position":"center "+-e+"px"})},x=function(t,e){return t.css({"background-position":-e+"px center"})},_=function(t,e,i,n){return t.css({"-webkit-transform":"translateY("+e+"px)"+(n="none"===n?"":n),"-moz-transform":"translateY("+e+"px)"+n,transform:"translate(0,"+e+"px)"+n,transition:i,"will-change":"transform"})},C=function(t,e,i,n){return t.css({"-webkit-transform":"translateX("+e+"px)"+(n="none"===n?"":n),"-moz-transform":"translateX("+e+"px)"+n,transform:"translate("+e+"px, 0)"+n,transition:i,"will-change":"transform"})},S=function(t,e,i){var n=t.data("paroller-factor"),n=n||i.factor;return e<576?t.data("paroller-factor-xs")||i.factorXs||n:e<=768?t.data("paroller-factor-sm")||i.factorSm||n:e<=1024?t.data("paroller-factor-md")||i.factorMd||n:e<=1200?t.data("paroller-factor-lg")||i.factorLg||n:e<=1920&&(t.data("paroller-factor-xl")||i.factorXl)||n},k=function(t,e){return Math.round(t*e)},T=function(t,e,i,n){return Math.round((t-i/2+n)*e)},D=function(t){return t.css({"background-position":"unset"})},F=function(t){return t.css({transform:"unset",transition:"unset"})};v.fn.paroller=function(f){var g=v(window).height(),m=v(document).height(),f=v.extend({factor:0,factorXs:0,factorSm:0,factorMd:0,factorLg:0,factorXl:0,transition:"transform .1s ease",type:"background",direction:"vertical"},f);return this.each(function(){var i=v(this),n=v(window).width(),s=i.offset().top,o=i.outerHeight(),t=i.data("paroller-type"),e=i.data("paroller-direction"),r=i.data("paroller-transition"),a=i.css("transform"),l=r||f.transition,c=t||f.type,h=e||f.direction,d=0,u=k(s,d),p=T(s,d,g,o);"background"===c?"vertical"===h?b(i,u):"horizontal"===h&&x(i,u):"foreground"===c&&("vertical"===h?_(i,p,l,a):"horizontal"===h&&C(i,p,l,a)),v(window).on("resize",function(){var t=v(this).scrollTop();n=v(window).width(),s=i.offset().top,o=i.outerHeight(),d=S(i,n,f),u=Math.round(s*d),p=Math.round((s-g/2+o)*d),w||(window.requestAnimationFrame(y),w=!0),"background"===c?(D(i),"vertical"===h?b(i,u):"horizontal"===h&&x(i,u)):"foreground"===c&&t<=m&&(F(i),"vertical"===h?_(i,p,l):"horizontal"===h&&C(i,p,l))}),v(window).on("scroll",function(){var t=v(this).scrollTop(),e=v(document).scrollTop();d=0===e?0:S(i,n,f),u=Math.round((s-t)*d),p=Math.round((s-g/2+o-t)*d),w||(window.requestAnimationFrame(y),w=!0),"background"===c?"vertical"===h?b(i,u):"horizontal"===h&&x(i,u):"foreground"===c&&t<=m&&("vertical"===h?_(i,p,l,a):"horizontal"===h&&C(i,p,l,a))})})}}),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(o){"use strict";function r(t){return!t.nodeName||-1!==o.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function e(t){return o.isFunction(t)||o.isPlainObject(t)?t:{top:t,left:t}}var v=o.scrollTo=function(t,e,i){return o(window).scrollTo(t,e,i)};return v.defaults={axis:"xy",duration:0,limit:!0},o.fn.scrollTo=function(t,i,g){"object"==typeof i&&(g=i,i=0),"function"==typeof g&&(g={onAfter:g}),"max"===t&&(t=9e9),g=o.extend({},v.defaults,g),i=i||g.duration;var m=g.queue&&1<g.axis.length;return m&&(i/=2),g.offset=e(g.offset),g.over=e(g.over),this.each(function(){function a(t){var e=o.extend({},g,{queue:!0,duration:i,complete:t&&function(){t.call(h,u,g)}});d.animate(p,e)}if(null!==t){var l,c=r(this),h=c?this.contentWindow||window:this,d=o(h),u=t,p={};switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=e(u);break}u=c?o(u):o(u,h);case"object":if(0===u.length)return;(u.is||u.style)&&(l=(u=o(u)).offset())}var f=o.isFunction(g.offset)&&g.offset(h,u)||g.offset;o.each(g.axis.split(""),function(t,e){var i="x"===e?"Left":"Top",n=i.toLowerCase(),s="scroll"+i,o=d[s](),r=v.max(h,e);l?(p[s]=l[n]+(c?0:o-d.offset()[n]),g.margin&&(p[s]-=parseInt(u.css("margin"+i),10)||0,p[s]-=parseInt(u.css("border"+i+"Width"),10)||0),p[s]+=f[n]||0,g.over[n]&&(p[s]+=u["x"===e?"width":"height"]()*g.over[n])):(i=u[n],p[s]=i.slice&&"%"===i.slice(-1)?parseFloat(i)/100*r:i),g.limit&&/^\d+$/.test(p[s])&&(p[s]=p[s]<=0?0:Math.min(p[s],r)),!t&&1<g.axis.length&&(o===p[s]?p={}:m&&(a(g.onAfterFirst),p={}))}),a(g.onAfter)}})},v.max=function(t,e){var i,n,e="x"===e?"Width":"Height",s="scroll"+e;return r(t)?(e="client"+e,i=(n=t.ownerDocument||t.document).documentElement,n=n.body,Math.max(i[s],n[s])-Math.min(i[e],n[e])):t[s]-o(t)[e.toLowerCase()]()},o.Tween.propHooks.scrollLeft=o.Tween.propHooks.scrollTop={get:function(t){return o(t.elem)[t.prop]()},set:function(t){var e=this.get(t);if(t.options.interrupt&&t._last&&t._last!==e)return o(t.elem).stop();var i=Math.round(t.now);e!==i&&(o(t.elem)[t.prop](i),t._last=this.get(t))}},v}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(h){function t(){for(var t=d.scrollTop(),e=u.height(),i=e-f,n=i<t?i-t:0,s=0,o=p.length;s<o;s++){var r,a,l=p[s],c=l.stickyWrapper.offset().top-l.topSpacing-n;l.stickyWrapper.css("height",l.stickyElement.outerHeight()),t<=c?null!==l.currentTop&&(l.stickyElement.css({width:"",position:"",top:"","z-index":""}),l.stickyElement.parent().removeClass(l.className),l.stickyElement.trigger("sticky-end",[l]),l.currentTop=null):((c=e-l.stickyElement.outerHeight()-l.topSpacing-l.bottomSpacing-t-n)<0?c+=l.topSpacing:c=l.topSpacing,l.currentTop!==c&&(l.getWidthFrom?(padding=l.stickyElement.innerWidth()-l.stickyElement.width(),r=h(l.getWidthFrom).width()-padding||null):l.widthFromWrapper&&(r=l.stickyWrapper.width()),null==r&&(r=l.stickyElement.width()),l.stickyElement.css("width",r).css("position","fixed").css("top",c).css("z-index",l.zIndex),l.stickyElement.parent().addClass(l.className),null===l.currentTop?l.stickyElement.trigger("sticky-start",[l]):l.stickyElement.trigger("sticky-update",[l]),l.currentTop===l.topSpacing&&l.currentTop>c||null===l.currentTop&&c<l.topSpacing?l.stickyElement.trigger("sticky-bottom-reached",[l]):null!==l.currentTop&&c===l.topSpacing&&l.currentTop<c&&l.stickyElement.trigger("sticky-bottom-unreached",[l]),l.currentTop=c),a=l.stickyWrapper.parent(),l.stickyElement.offset().top+l.stickyElement.outerHeight()>=a.offset().top+a.outerHeight()&&l.stickyElement.offset().top<=l.topSpacing?l.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):l.stickyElement.css("position","fixed").css("top",c).css("bottom","").css("z-index",l.zIndex))}}function e(){f=d.height();for(var t=0,e=p.length;t<e;t++){var i=p[t],n=null;i.getWidthFrom?i.responsiveWidth&&(n=h(i.getWidthFrom).width()):i.widthFromWrapper&&(n=i.stickyWrapper.width()),null!=n&&i.stickyElement.css("width",n)}}var i=Array.prototype.slice,n=Array.prototype.splice,r={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"inherit"},d=h(window),u=h(document),p=[],f=d.height(),a={init:function(o){return this.each(function(){var t=h.extend({},r,o),e=h(this),i=e.attr("id"),n=i?i+"-"+r.wrapperClassName:r.wrapperClassName,s=h("<div></div>").attr("id",n).addClass(t.wrapperClassName),i=(e.wrapAll(function(){if(0==h(this).parent("#"+n).length)return s}),e.parent());t.center&&i.css({width:e.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===e.css("float")&&e.css({float:"none"}).parent().css({float:"right"}),t.stickyElement=e,t.stickyWrapper=i,t.currentTop=null,p.push(t),a.setWrapperHeight(this),a.setupChangeListeners(this)})},setWrapperHeight:function(t){var t=h(t),e=t.parent();e&&e.css("height",t.outerHeight())},setupChangeListeners:function(e){window.MutationObserver?new window.MutationObserver(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&a.setWrapperHeight(e)}).observe(e,{subtree:!0,childList:!0}):window.addEventListener?(e.addEventListener("DOMNodeInserted",function(){a.setWrapperHeight(e)},!1),e.addEventListener("DOMNodeRemoved",function(){a.setWrapperHeight(e)},!1)):window.attachEvent&&(e.attachEvent("onDOMNodeInserted",function(){a.setWrapperHeight(e)}),e.attachEvent("onDOMNodeRemoved",function(){a.setWrapperHeight(e)}))},update:t,unstick:function(t){return this.each(function(){for(var t=h(this),e=-1,i=p.length;0<i--;)p[i].stickyElement.get(0)===this&&(n.call(p,i,1),e=i);-1!==e&&(t.unwrap(),t.css({width:"",position:"",top:"",float:"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",t,!1),window.addEventListener("resize",e,!1)):window.attachEvent&&(window.attachEvent("onscroll",t),window.attachEvent("onresize",e)),h.fn.sticky=function(t){return a[t]?a[t].apply(this,i.call(arguments,1)):"object"!=typeof t&&t?void h.error("Method "+t+" does not exist on jQuery.sticky"):a.init.apply(this,arguments)},h.fn.unstick=function(t){return a[t]?a[t].apply(this,i.call(arguments,1)):"object"!=typeof t&&t?void h.error("Method "+t+" does not exist on jQuery.sticky"):a.unstick.apply(this,arguments)},h(function(){setTimeout(t,0)})}),!function(a){"use strict";function l(t){return/In/.test(t)||0<=a.inArray(t,a.fn.textillate.defaults.inEffects)}function c(t){return/Out/.test(t)||0<=a.inArray(t,a.fn.textillate.defaults.outEffects)}function s(t){return"true"!==t&&"false"!==t?t:"true"===t}function r(t){var t=t.attributes||[],n={};return t.length&&a.each(t,function(t,e){var i=e.nodeName.replace(/delayscale/,"delayScale");/^data-in-*/.test(i)?(n.in=n.in||{},n.in[i.replace(/data-in-/,"")]=s(e.nodeValue)):/^data-out-*/.test(i)?(n.out=n.out||{},n.out[i.replace(/data-out-/,"")]=s(e.nodeValue)):/^data-*/.test(i)&&(n[i.replace(/data-/,"")]=s(e.nodeValue))}),n}function h(t,o,i){var r=t.length;r?(o.shuffle&&(t=function(t){for(var e,i,n=t.length;n;e=parseInt(Math.random()*n),i=t[--n],t[n]=t[e],t[e]=i);return t}(t)),o.reverse&&(t=t.toArray().reverse()),a.each(t,function(t,e){var n=a(e);function s(){l(o.effect)?n.css("visibility","visible"):c(o.effect)&&n.css("visibility","hidden"),!--r&&i&&i()}e=o.sync?o.delay:o.delay*t*o.delayScale;n.text()?setTimeout(function(){var t,e,i;t=n,e=o.effect,i=s,t.addClass("animated "+e).css("visibility","visible").show(),t.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("animated "+e),i&&i()})},e):s()})):i&&i()}function o(t,e){var s=this,o=a(t);s.init=function(){s.$texts=o.find(e.selector),s.$texts.length||(s.$texts=a('<ul class="texts"><li>'+o.html()+"</li></ul>"),o.html(s.$texts)),s.$texts.hide(),s.$current=a("<span>").html(s.$texts.find(":first-child").html()).prependTo(o),l(e.in.effect)?s.$current.css("visibility","hidden"):c(e.out.effect)&&s.$current.css("visibility","visible"),s.setOptions(e),s.timeoutRun=null,setTimeout(function(){s.options.autoStart&&s.start()},s.options.initialDelay)},s.setOptions=function(t){s.options=t},s.triggerEvent=function(t){t=a.Event(t+".tlt");return o.trigger(t,s),t},s.in=function(t,e){var i=s.$texts.find(":nth-child("+(((t=t||0)||0)+1)+")"),n=a.extend(!0,{},s.options,i.length?r(i[0]):{});i.addClass("current"),s.triggerEvent("inAnimationBegin"),o.attr("data-active",i.data("id")),s.$current.html(i.html()).lettering("words"),"char"==s.options.type&&s.$current.find('[class^="word"]').css({display:"inline-block","-webkit-transform":"translate3d(0,0,0)","-moz-transform":"translate3d(0,0,0)","-o-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"}).each(function(){a(this).lettering()}),i=s.$current.find('[class^="'+s.options.type+'"]').css("display","inline-block"),l(n.in.effect)?i.css("visibility","hidden"):c(n.in.effect)&&i.css("visibility","visible"),s.currentIndex=t,h(i,n.in,function(){s.triggerEvent("inAnimationEnd"),n.in.callback&&n.in.callback(),e&&e(s)})},s.out=function(t){var e=s.$texts.find(":nth-child("+((s.currentIndex||0)+1)+")"),i=s.$current.find('[class^="'+s.options.type+'"]'),n=a.extend(!0,{},s.options,e.length?r(e[0]):{});s.triggerEvent("outAnimationBegin"),h(i,n.out,function(){e.removeClass("current"),s.triggerEvent("outAnimationEnd"),o.removeAttr("data-active"),n.out.callback&&n.out.callback(),t&&t(s)})},s.start=function(t){setTimeout(function(){s.triggerEvent("start"),function e(i){s.in(i,function(){var t=s.$texts.children().length;i+=1,!s.options.loop&&t<=i?(s.options.callback&&s.options.callback(),s.triggerEvent("end")):(i%=t,s.timeoutRun=setTimeout(function(){s.out(function(){e(i)})},s.options.minDisplayTime))})}(t||0)},s.options.initialDelay)},s.stop=function(){s.timeoutRun&&(clearInterval(s.timeoutRun),s.timeoutRun=null)},s.init()}a.fn.textillate=function(n,s){return this.each(function(){var t=a(this),e=t.data("textillate"),i=a.extend(!0,{},a.fn.textillate.defaults,r(this),"object"==typeof n&&n);e?"string"==typeof n?e[n].apply(e,[].concat(s)):e.setOptions.call(e,i):t.data("textillate",e=new o(this,i))})},a.fn.textillate.defaults={selector:".texts",loop:!1,minDisplayTime:2e3,initialDelay:0,in:{effect:"fadeInLeftBig",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},out:{effect:"hinge",delayScale:1.5,delay:50,sync:!1,reverse:!1,shuffle:!1,callback:function(){}},autoStart:!0,inEffects:[],outEffects:["hinge"],callback:function(){},type:"char"}}(jQuery),!function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(at){"use strict";function n(L,l){function t(t){if(!(!0===D.data(Kt+"_intouch")||0<at(t.target).closest(l.excludedElements,D).length)){var e,i,n,s=t.originalEvent||t;if(!s.pointerType||"mouse"!=s.pointerType||0!=l.fallbackToMouseEvents)return n=(i=s.touches)?i[0]:s,F=kt,i?M=i.length:!1!==l.preventDefaultEvents&&t.preventDefault(),k=w=y=null,C=1,S=_=x=b=v=0,(t={})[lt]=a(lt),t[ct]=a(ct),t[ht]=a(ht),t[dt]=a(dt),T=t,Q(),u(0,n),!i||M===l.fingers||l.fingers===Ct||h()?(ot=p(),2==M&&(u(1,i[1]),x=_=et(P[0].start,P[1].start)),(l.swipeStatus||l.pinchStatus)&&(e=c(s,F))):e=!1,!1===e?(c(s,F=Ft),e):(l.hold&&($=setTimeout(at.proxy(function(){D.trigger("hold",[s.target]),l.hold&&(e=l.hold.call(D,s,s.target))},this),l.longTapThreshold)),r(!0),null)}}function e(t){var e=t.originalEvent||t;if(F!==Dt&&F!==Ft&&!d()){var i,n=e.touches,s=Z(n?n[0]:e);if(E=p(),n&&(M=n.length),l.hold&&clearTimeout($),F=Tt,2==M&&(0==x?(u(1,n[1]),x=_=et(P[0].start,P[1].start)):(Z(n[1]),_=et(P[0].end,P[1].end),P[0].end,P[1].end,k=C<1?pt:ut),C=(_/x*1).toFixed(2),S=Math.abs(x-_)),M===l.fingers||l.fingers===Ct||!n||h()){y=it(s.start,s.end),w=it(s.last,s.end);var o,r=t,n=w;if(!1!==l.preventDefaultEvents)if(l.allowPageScroll===ft)r.preventDefault();else{var a=l.allowPageScroll===gt;switch(n){case lt:(l.swipeLeft&&a||!a&&l.allowPageScroll!=xt)&&r.preventDefault();break;case ct:(l.swipeRight&&a||!a&&l.allowPageScroll!=xt)&&r.preventDefault();break;case ht:(l.swipeUp&&a||!a&&l.allowPageScroll!=_t)&&r.preventDefault();break;case dt:(l.swipeDown&&a||!a&&l.allowPageScroll!=_t)&&r.preventDefault()}}t=s.start,n=s.end,v=Math.round(Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))),b=tt(),n=v,(t=y)!=ft&&(n=Math.max(n,J(t)),T[t].distance=n),i=c(e,F),l.triggerOnTouchEnd&&!l.triggerOnTouchLeave||(t=!0,l.triggerOnTouchLeave&&(o={left:(o=(n=at(n=this)).offset()).left,right:o.left+n.outerWidth(),top:o.top,bottom:o.top+n.outerHeight()},n=s.end,s=o,t=n.x>s.left&&n.x<s.right&&n.y>s.top&&n.y<s.bottom),!l.triggerOnTouchEnd&&t?F=j(Tt):l.triggerOnTouchLeave&&!t&&(F=j(Dt)),F!=Ft&&F!=Dt)||c(e,F)}else c(e,F=Ft);!1===i&&c(e,F=Ft)}}function i(t){var e,i=t.originalEvent||t,n=i.touches;if(n){if(n.length&&!d())return e=i,K=p(),rt=e.touches.length+1,!0;if(n.length&&d())return!0}return d()&&(M=rt),E=p(),b=tt(),N()||!H()?c(i,F=Ft):l.triggerOnTouchEnd||!1===l.triggerOnTouchEnd&&F===Tt?(!1!==l.preventDefaultEvents&&!1!==t.cancelable&&t.preventDefault(),c(i,F=Dt)):!l.triggerOnTouchEnd&&Y()?o(i,F=Dt,yt):F===Tt&&c(i,F=Ft),r(!1),null}function s(){_=x=ot=E=M=0,Q(),r(!(C=1))}function z(t){t=t.originalEvent||t;l.triggerOnTouchLeave&&c(t,F=j(Dt))}function O(){D.unbind(f,t),D.unbind(m,s),D.unbind(nt,e),D.unbind(st,i),g&&D.unbind(g,z),r(!1)}function j(t){var e=t,i=W(),n=H(),s=N();return!i||s?e=Ft:!n||t!=Tt||l.triggerOnTouchEnd&&!l.triggerOnTouchLeave?!n&&t==Dt&&l.triggerOnTouchLeave&&(e=Ft):e=Dt,e}function c(t,e){var i,n=t.touches;return(q()&&B()||B())&&(i=o(t,e,mt)),(R()&&h()||h())&&!1!==i&&(i=o(t,e,vt)),V()&&X()&&!1!==i?i=o(t,e,wt):b>l.longTapThreshold&&v<St&&l.longTap&&!1!==i?i=o(t,e,bt):1!==M&&Mt||!(isNaN(v)||v<l.threshold)||!Y()||!1===i||(i=o(t,e,yt)),e===Ft&&s(),e!==Dt||n&&n.length||s(),i}function o(t,e,i){var n;if(i==mt){if(D.trigger("swipeStatus",[e,y||null,v||0,b||0,M,P,w]),l.swipeStatus&&!1===(n=l.swipeStatus.call(D,t,e,y||null,v||0,b||0,M,P,w)))return!1;if(e==Dt&&q()){if(clearTimeout(A),clearTimeout($),D.trigger("swipe",[y,v,b,M,P,w]),l.swipe&&!1===(n=l.swipe.call(D,t,y,v,b,M,P,w)))return!1;switch(y){case lt:D.trigger("swipeLeft",[y,v,b,M,P,w]),l.swipeLeft&&(n=l.swipeLeft.call(D,t,y,v,b,M,P,w));break;case ct:D.trigger("swipeRight",[y,v,b,M,P,w]),l.swipeRight&&(n=l.swipeRight.call(D,t,y,v,b,M,P,w));break;case ht:D.trigger("swipeUp",[y,v,b,M,P,w]),l.swipeUp&&(n=l.swipeUp.call(D,t,y,v,b,M,P,w));break;case dt:D.trigger("swipeDown",[y,v,b,M,P,w]),l.swipeDown&&(n=l.swipeDown.call(D,t,y,v,b,M,P,w))}}}if(i==vt){if(D.trigger("pinchStatus",[e,k||null,S||0,b||0,M,C,P]),l.pinchStatus&&!1===(n=l.pinchStatus.call(D,t,e,k||null,S||0,b||0,M,C,P)))return!1;if(e==Dt&&R())switch(k){case ut:D.trigger("pinchIn",[k||null,S||0,b||0,M,C,P]),l.pinchIn&&(n=l.pinchIn.call(D,t,k||null,S||0,b||0,M,C,P));break;case pt:D.trigger("pinchOut",[k||null,S||0,b||0,M,C,P]),l.pinchOut&&(n=l.pinchOut.call(D,t,k||null,S||0,b||0,M,C,P))}}return i==yt?e!==Ft&&e!==Dt||(clearTimeout(A),clearTimeout($),X()&&!V()?(I=p(),A=setTimeout(at.proxy(function(){I=null,D.trigger("tap",[t.target]),l.tap&&(n=l.tap.call(D,t,t.target))},this),l.doubleTapThreshold)):(I=null,D.trigger("tap",[t.target]),l.tap&&(n=l.tap.call(D,t,t.target)))):i==wt?e!==Ft&&e!==Dt||(clearTimeout(A),clearTimeout($),I=null,D.trigger("doubletap",[t.target]),l.doubleTap&&(n=l.doubleTap.call(D,t,t.target))):i!=bt||e!==Ft&&e!==Dt||(clearTimeout(A),I=null,D.trigger("longtap",[t.target]),l.longTap&&(n=l.longTap.call(D,t,t.target))),n}function H(){var t=!0;return t=null!==l.threshold?v>=l.threshold:t}function N(){var t=!1;return t=null!==l.cancelThreshold&&null!==y?J(y)-v>=l.cancelThreshold:t}function W(){return!(l.maxTimeThreshold&&b>=l.maxTimeThreshold)}function R(){var t=G(),e=U(),i=null===l.pinchThreshold||S>=l.pinchThreshold;return t&&e&&i}function h(){return l.pinchStatus||l.pinchIn||l.pinchOut}function q(){var t=W(),e=H(),i=G(),n=U();return!N()&&n&&i&&e&&t}function B(){return l.swipe||l.swipeStatus||l.swipeLeft||l.swipeRight||l.swipeUp||l.swipeDown}function G(){return M===l.fingers||l.fingers===Ct||!Mt}function U(){return 0!==P[0].end.x}function Y(){return l.tap}function X(){return!!l.doubleTap}function V(){var t;return null!=I&&(t=p(),X())&&t-I<=l.doubleTapThreshold}function Q(){rt=K=0}function d(){var t=!1;return t=K&&p()-K<=l.fingerReleaseThreshold?!0:t}function r(t){D&&(!0===t?(D.bind(nt,e),D.bind(st,i),g&&D.bind(g,z)):(D.unbind(nt,e,!1),D.unbind(st,i,!1),g&&D.unbind(g,z,!1)),D.data(Kt+"_intouch",!0===t))}function u(t,e){var i={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return i.start.x=i.last.x=i.end.x=e.pageX||e.clientX,i.start.y=i.last.y=i.end.y=e.pageY||e.clientY,P[t]=i}function Z(t){var e=void 0!==t.identifier?t.identifier:0,i=P[e]||null;return(i=null===i?u(e,t):i).last.x=i.end.x,i.last.y=i.end.y,i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function J(t){if(T[t])return T[t].distance}function a(t){return{direction:t,distance:0}}function tt(){return E-ot}function et(t,e){var i=Math.abs(t.x-e.x),t=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+t*t))}function it(t,e){var i,n;return i=e,(n=t).x==i.x&&n.y==i.y?ft:(n=e,e=(i=t).x-n.x,n=n.y-t.y,i=Math.atan2(n,e),n=(n=Math.round(180*i/Math.PI))<0?360-Math.abs(n):n,n<=45&&0<=n||n<=360&&315<=n?lt:135<=n&&n<=225?ct:45<n&&n<135?dt:ht)}function p(){return(new Date).getTime()}var l=at.extend({},l),n=Mt||Et||!l.fallbackToMouseEvents,f=n?Et?Pt?"MSPointerDown":"pointerdown":"touchstart":"mousedown",nt=n?Et?Pt?"MSPointerMove":"pointermove":"touchmove":"mousemove",st=n?Et?Pt?"MSPointerUp":"pointerup":"touchend":"mouseup",g=!n||Et?"mouseleave":null,m=Et?Pt?"MSPointerCancel":"pointercancel":"touchcancel",v=0,y=null,w=null,b=0,x=0,_=0,C=1,S=0,k=0,T=null,D=at(L),F="start",M=0,P={},ot=0,E=0,K=0,rt=0,I=0,A=null,$=null;try{D.bind(f,t),D.bind(m,s)}catch(t){at.error("events not supported "+f+","+m+" on jQuery.swipe")}this.enable=function(){return this.disable(),D.bind(f,t),D.bind(m,s),D},this.disable=function(){return O(),D},this.destroy=function(){O(),D.data(Kt,null),D=null},this.option=function(t,e){if("object"==typeof t)l=at.extend(l,t);else if(void 0!==l[t]){if(void 0===e)return l[t];l[t]=e}else{if(!t)return l;at.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var lt="left",ct="right",ht="up",dt="down",ut="in",pt="out",ft="none",gt="auto",mt="swipe",vt="pinch",yt="tap",wt="doubletap",bt="longtap",xt="horizontal",_t="vertical",Ct="all",St=10,kt="start",Tt="move",Dt="end",Ft="cancel",Mt="ontouchstart"in window,Pt=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!Mt,Et=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!Mt,Kt="TouchSwipe";at.fn.swipe=function(t){var e=at(this),i=e.data(Kt);if(i&&"string"==typeof t){if(i[t])return i[t].apply(i,Array.prototype.slice.call(arguments,1));at.error("Method "+t+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof t)i.option.apply(i,arguments);else if(!(i||"object"!=typeof t&&t))return function(i){return!i||void 0!==i.allowPageScroll||void 0===i.swipe&&void 0===i.swipeStatus||(i.allowPageScroll=ft),void 0!==i.click&&void 0===i.tap&&(i.tap=i.click),i=i||{},i=at.extend({},at.fn.swipe.defaults,i),this.each(function(){var t,e=at(this);e.data(Kt)||(t=new n(this,i),e.data(Kt,t))})}.apply(this,arguments);return e},at.fn.swipe.version="1.6.18",at.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},at.fn.swipe.phases={PHASE_START:kt,PHASE_MOVE:Tt,PHASE_END:Dt,PHASE_CANCEL:Ft},at.fn.swipe.directions={LEFT:lt,RIGHT:ct,UP:ht,DOWN:dt,IN:ut,OUT:pt},at.fn.swipe.pageScroll={NONE:ft,HORIZONTAL:xt,VERTICAL:_t,AUTO:gt},at.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:Ct}}),!function(e){"use strict";e.fn.twittie=function(){function n(t){return t.replace(/(https?:\/\/([-\w\.]+)+(:\d+)?(\/([\w\/_\.]*(\?\S+)?)?)?)/gi,'<a href="$1" target="_blank" title="Visit this link">$1</a>').replace(/#([a-zA-Z0-9_]+)/g,'<a href="https://twitter.com/search?q=%23$1&src=hash" target="_blank" title="Search for #$1">#$1</a>').replace(/@([a-zA-Z0-9_]+)/g,'<a href="https://twitter.com/$1" target="_blank" title="$1 on Twitter">@$1</a>')}var t=arguments[0]instanceof Object?arguments[0]:{},s="function"==typeof arguments[0]?arguments[0]:arguments[1],l=e.extend({username:null,list:null,hashtag:null,count:10,hideReplies:!1,dateFormat:"%b/%d/%Y",template:"{{date}} - {{tweet}}",apiPath:"includes/twitter/tweet.php",loadingText:"Loading..."},t),o=(l.list&&!l.username&&e.error("If you want to fetch tweets from a list, you must define the username of the list owner."),this.html("<span>"+l.loadingText+"</span>"),this);e.getJSON(l.apiPath,{username:l.username,list:l.list,hashtag:l.hashtag,count:l.count,exclude_replies:l.hideReplies},function(i){o.find("span").fadeOut("fast",function(){o.html("<ul></ul>");for(var t=0;t<l.count;t++){var e=!1;if(i[t])e=i[t];else{if(void 0===i.statuses||!i.statuses[t])break;e=i.statuses[t]}e={user_name:e.user.name,date:function(t){for(var e=t.split(" "),i=["January","February","March","April","May","June","July","August","September","October","November","December"],n={"%d":(t=new Date(Date.parse(e[1]+" "+e[2]+", "+e[5]+" "+e[3]+" UTC"))).getDate(),"%m":t.getMonth()+1,"%b":i[t.getMonth()].substr(0,3),"%B":i[t.getMonth()],"%y":String(t.getFullYear()).slice(-2),"%Y":t.getFullYear()},s=l.dateFormat,o=l.dateFormat.match(/%[dmbByY]/g),r=0,a=o.length;r<a;r++)s=s.replace(o[r],n[o[r]]);return s}(e.created_at),tweet:e.retweeted?n("RT @"+e.user.screen_name+": "+e.retweeted_status.text):n(e.text),avatar:'<img src="'+e.user.profile_image_url+'" />',url:"https://twitter.com/"+e.user.screen_name+"/status/"+e.id_str,retweeted:e.retweeted,screen_name:n("@"+e.user.screen_name)};o.find("ul").append("<li class='item'>"+function(t){for(var e=l.template,i=["date","tweet","avatar","url","retweeted","screen_name","user_name"],n=0,s=i.length;n<s;n++)e=e.replace(new RegExp("{{"+i[n]+"}}","gi"),t[i[n]]);return e}(e)+"</li>")}"function"==typeof s&&s()})})}}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(h){var i;h.extend(h.fn,{validate:function(t){var n;if(this.length)return(n=h.data(this[0],"validator"))||(this.attr("novalidate","novalidate"),n=new h.validator(t,this[0]),h.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(t){n.submitButton=t.currentTarget,h(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==h(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(i){function t(){var t,e;return n.submitButton&&(n.settings.submitHandler||n.formSubmitted)&&(t=h("<input type='hidden'/>").attr("name",n.submitButton.name).val(h(n.submitButton).val()).appendTo(n.currentForm)),!(n.settings.submitHandler&&!n.settings.debug)||(e=n.settings.submitHandler.call(n,n.currentForm,i),t&&t.remove(),void 0!==e&&e)}return n.settings.debug&&i.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,t()):n.form()?n.pendingRequest?!(n.formSubmitted=!0):t():(n.focusInvalid(),!1)})),n);t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e,i;return h(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,e=h(this[0].form).validate(),this.each(function(){(t=e.element(this)&&t)||(i=i.concat(e.errorList))}),e.errorList=i),t},rules:function(t,e){var i,n,s,o,r,a=this[0],l=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=a&&(!a.form&&l&&(a.form=this.closest("form")[0],a.name=this.attr("name")),null!=a.form)){if(t)switch(i=h.data(a.form,"validator").settings,n=i.rules,s=h.validator.staticRules(a),t){case"add":h.extend(s,h.validator.normalizeRule(e)),delete s.messages,n[a.name]=s,e.messages&&(i.messages[a.name]=h.extend(i.messages[a.name],e.messages));break;case"remove":return e?(r={},h.each(e.split(/\s/),function(t,e){r[e]=s[e],delete s[e]}),r):(delete n[a.name],s)}return(l=h.validator.normalizeRules(h.extend({},h.validator.classRules(a),h.validator.attributeRules(a),h.validator.dataRules(a),h.validator.staticRules(a)),a)).required&&(o=l.required,delete l.required,l=h.extend({required:o},l)),l.remote&&(o=l.remote,delete l.remote,l=h.extend(l,{remote:o})),l}}}),h.extend(h.expr.pseudos||h.expr[":"],{blank:function(t){return!h.trim(""+h(t).val())},filled:function(t){t=h(t).val();return null!==t&&!!h.trim(""+t)},unchecked:function(t){return!h(t).prop("checked")}}),h.validator=function(t,e){this.settings=h.extend(!0,{},h.validator.defaults,t),this.currentForm=e,this.init()},h.validator.format=function(i,t){return 1===arguments.length?function(){var t=h.makeArray(arguments);return t.unshift(i),h.validator.format.apply(this,t)}:(void 0===t||((t=2<arguments.length&&t.constructor!==Array?h.makeArray(arguments).slice(1):t).constructor!==Array&&(t=[t]),h.each(t,function(t,e){i=i.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})})),i)},h.extend(h.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:h([]),errorLabelContainer:h([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||-1!==h.inArray(e.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,i){("radio"===t.type?this.findByName(t.name):h(t)).addClass(e).removeClass(i)},unhighlight:function(t,e,i){("radio"===t.type?this.findByName(t.name):h(t)).removeClass(e).addClass(i)}},setDefaults:function(t){h.extend(h.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:h.validator.format("Please enter no more than {0} characters."),minlength:h.validator.format("Please enter at least {0} characters."),rangelength:h.validator.format("Please enter a value between {0} and {1} characters long."),range:h.validator.format("Please enter a value between {0} and {1}."),max:h.validator.format("Please enter a value less than or equal to {0}."),min:h.validator.format("Please enter a value greater than or equal to {0}."),step:h.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var e,i,n=void 0!==h(this).attr("contenteditable")&&"false"!==h(this).attr("contenteditable");!this.form&&n&&(this.form=h(this).closest("form")[0],this.name=h(this).attr("name")),s===this.form&&(n=h.data(this.form,"validator"),e="on"+t.type.replace(/^validate/,""),(i=n.settings)[e])&&!h(this).is(i.ignore)&&i[e].call(n,this,t)}this.labelContainer=h(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||h(this.currentForm),this.containers=h(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,s=this.currentForm,n=this.groups={};h.each(this.settings.groups,function(i,t){"string"==typeof t&&(t=t.split(/\s/)),h.each(t,function(t,e){n[e]=i})}),i=this.settings.rules,h.each(i,function(t,e){i[t]=h.validator.normalizeRule(e)}),h(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&h(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),h.extend(this.submitted,this.errorMap),this.invalid=h.extend({},this.errorMap),this.valid()||h(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e,i,n=this.clean(t),s=this.validationTargetFor(n),o=this,r=!0;return void 0===s?delete this.invalid[n.name]:(this.prepareElement(s),this.currentElements=h(s),(i=this.groups[s.name])&&h.each(this.groups,function(t,e){e===i&&t!==s.name&&(n=o.validationTargetFor(o.clean(o.findByName(t))))&&n.name in o.invalid&&(o.currentElements.push(n),r=o.check(n)&&r)}),e=!1!==this.check(s),r=r&&e,this.invalid[s.name]=!e,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),h(t).attr("aria-invalid",!e)),r},showErrors:function(e){var i;e&&(h.extend((i=this).errorMap,e),this.errorList=h.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=h.grep(this.successList,function(t){return!(t.name in e)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){h.fn.resetForm&&h(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{h(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===h.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var i=this,n={};return h(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var t=this.name||h(this).attr("name"),e=void 0!==h(this).attr("contenteditable")&&"false"!==h(this).attr("contenteditable");return!t&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),e&&(this.form=h(this).closest("form")[0],this.name=t),!(this.form!==i.currentForm||t in n||!i.objectLength(h(this).rules())||(n[t]=!0,0))})},clean:function(t){return h(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return h(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=h([]),this.toHide=h([])},reset:function(){this.resetInternals(),this.currentElements=h([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e=h(t),i=t.type,n=void 0!==e.attr("contenteditable")&&"false"!==e.attr("contenteditable");return"radio"===i||"checkbox"===i?this.findByName(t.name).filter(":checked").val():"number"===i&&void 0!==t.validity?t.validity.badInput?"NaN":e.val():(t=n?e.text():e.val(),"file"===i?"C:\\fakepath\\"===t.substr(0,12)?t.substr(12):0<=(n=t.lastIndexOf("/"))||0<=(n=t.lastIndexOf("\\"))?t.substr(n+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(e){e=this.validationTargetFor(this.clean(e));var t,i,n,s,o=h(e).rules(),r=h.map(o,function(t,e){return e}).length,a=!1,l=this.elementValue(e);for(i in"function"==typeof o.normalizer?s=o.normalizer:"function"==typeof this.settings.normalizer&&(s=this.settings.normalizer),s&&(l=s.call(e,l),delete o.normalizer),o){n={method:i,parameters:o[i]};try{if("dependency-mismatch"===(t=h.validator.methods[i].call(this,l,e,n.parameters))&&1===r)a=!0;else{if(a=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,n),!1}}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+n.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+n.method+"' method."),t}}if(!a)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(t,e){return h(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||h(t).data("msg")},customMessage:function(t,e){t=this.settings.messages[t];return t&&(t.constructor===String?t:t[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){var i=this.findDefined(this.customMessage(t.name,(e="string"==typeof e?{method:e}:e).method),this.customDataMessage(t,e.method),!this.settings.ignoreTitle&&t.title||void 0,h.validator.messages[e.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,e.parameters,t):n.test(i)&&(i=h.validator.format(i.replace(n,"{$1}"),e.parameters)),i},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return t=this.settings.wrapper?t.add(t.parent(this.settings.wrapper)):t},defaultShowErrors:function(){for(var t,e,i=0;this.errorList[i];i++)e=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,t=this.validElements();t[i];i++)this.settings.unhighlight.call(this,t[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return h(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var i,n,s,o=this.errorsFor(t),r=this.idOrName(t),a=h(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(e)):(n=o=h("<"+this.settings.errorElement+">").attr("id",r+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,h(t)):n.insertAfter(t),o.is("label")?o.attr("for",r):0===o.parents("label[for='"+this.escapeCssMeta(r)+"']").length&&(n=o.attr("id"),a?a.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(a+=" "+n):a=n,h(t).attr("aria-describedby",a),i=this.groups[t.name])&&h.each((s=this).groups,function(t,e){e===i&&h("[name='"+s.escapeCssMeta(t)+"']",s.currentForm).attr("aria-describedby",o.attr("id"))})),!e&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),t=h(t).attr("aria-describedby"),e="label[for='"+e+"'], label[for='"+e+"'] *";return t&&(e=e+", #"+this.escapeCssMeta(t).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||!this.checkable(t)&&t.id||t.name},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),h(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return h(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return h("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!h(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!h.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,h(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],h(t).removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(h(this.currentForm).submit(),this.submitButton&&h("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(h(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,e){return e="string"==typeof e&&e||"remote",h.data(t,"previousValue")||h.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),h(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:h.extend(this.classRuleSettings,t)},classRules:function(t){var e={},t=h(t).attr("class");return t&&h.each(t.split(" "),function(){this in h.validator.classRuleSettings&&h.extend(e,h.validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,i,n){(n=/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n))?void 0:n)||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(t){var e,i,n={},s=h(t),o=t.getAttribute("type");for(e in h.validator.methods)i="required"===e?(i=t.getAttribute(e),""===i&&(i=!0),!!i):s.attr(e),this.normalizeAttributeRule(n,o,e,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var e,i,n={},s=h(t),o=t.getAttribute("type");for(e in h.validator.methods)i=s.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()),""===i&&(i=!0),this.normalizeAttributeRule(n,o,e,i);return n},staticRules:function(t){var e={},i=h.data(t.form,"validator");return e=i.settings.rules?h.validator.normalizeRule(i.settings.rules[t.name])||{}:e},normalizeRules:function(n,s){return h.each(n,function(t,e){if(!1===e)delete n[t];else if(e.param||e.depends){var i=!0;switch(typeof e.depends){case"string":i=!!h(e.depends,s.form).length;break;case"function":i=e.depends.call(s,s)}i?n[t]=void 0===e.param||e.param:(h.data(s.form,"validator").resetElements(h(s)),delete n[t])}}),h.each(n,function(t,e){n[t]=h.isFunction(e)&&"normalizer"!==t?e(s):e}),h.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),h.each(["rangelength","range"],function(){var t;n[this]&&(h.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(t=n[this].replace(/[\[\]]/g,"").split(/[\s,]+/),n[this]=[Number(t[0]),Number(t[1])]))}),h.validator.autoCreateRanges&&(null!=n.min&&null!=n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),null!=n.minlength)&&null!=n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength),n},normalizeRule:function(t){var e;return"string"==typeof t&&(e={},h.each(t.split(/\s/),function(){e[this]=!0}),t=e),t},addMethod:function(t,e,i){h.validator.methods[t]=e,h.validator.messages[t]=void 0!==i?i:h.validator.messages[t],e.length<3&&h.validator.addClassRules(t,h.validator.normalizeRule(t))},methods:{required:function(t,e,i){return this.depend(i,e)?"select"===e.nodeName.toLowerCase()?(i=h(e).val())&&0<i.length:this.checkable(e)?0<this.getLength(t,e):null!=t&&0<t.length:"dependency-mismatch"},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:(i=!1,function(t,e){return i||(i=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())}),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,i){t=h.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i<=t},maxlength:function(t,e,i){t=h.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||t<=i},rangelength:function(t,e,i){t=h.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||t>=i[0]&&t<=i[1]},min:function(t,e,i){return this.optional(e)||i<=t},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(t,e,i){function n(t){return(t=(""+t).match(/(?:\.(\d+))?$/))&&t[1]?t[1].length:0}function s(t){return Math.round(t*Math.pow(10,o))}var o,r=h(e).attr("type"),a="Step attribute on input type "+r+" is not supported.",l=new RegExp("\\b"+r+"\\b"),c=!0;if(r&&!l.test(["text","number","range"].join()))throw new Error(a);return o=n(i),(n(t)>o||s(t)%s(i)!=0)&&(c=!1),this.optional(e)||c},equalTo:function(t,e,i){i=h(i);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){h(e).valid()}),t===i.val()},remote:function(n,s,t,o){if(this.optional(s))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var r,e,a=this.previousValue(s,o);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),a.originalMessage=a.originalMessage||this.settings.messages[s.name][o],this.settings.messages[s.name][o]=a.message,e=h.param(h.extend({data:n},(t="string"==typeof t?{url:t}:t).data)),a.old===e?a.valid:(a.old=e,(r=this).startRequest(s),(e={})[s.name]=n,h.ajax(h.extend(!0,{mode:"abort",port:"validate"+s.name,dataType:"json",data:e,context:r.currentForm,success:function(t){var e,i=!0===t||"true"===t;r.settings.messages[s.name][o]=a.originalMessage,i?(e=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(s),r.formSubmitted=e,r.successList.push(s),r.invalid[s.name]=!1,r.showErrors()):(e={},t=t||r.defaultMessage(s,{method:o,parameters:n}),e[s.name]=a.message=t,r.invalid[s.name]=!0,r.showErrors(e)),a.valid=i,r.stopRequest(s,i)}},t)),"pending")}}});var n,s={};return h.ajaxPrefilter?h.ajaxPrefilter(function(t,e,i){var n=t.port;"abort"===t.mode&&(s[n]&&s[n].abort(),s[n]=i)}):(n=h.ajax,h.ajax=function(t){var e=("mode"in t?t:h.ajaxSettings).mode,i=("port"in t?t:h.ajaxSettings).port;return"abort"===e?(s[i]&&s[i].abort(),s[i]=n.apply(this,arguments),s[i]):n.apply(this,arguments)}),h}),{}),_typeof=(!function(t){var e,i=Math.PI/180;Kinetic={version:"5.1.0",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,UA:(t=t.navigator&&t.navigator.userAgent||"",e=t.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],t=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),{browser:e[1]||"",version:e[2]||"0",mobile:t}),Filters:{},Node:function(t){this._init(t)},Shape:function(t){this.__init(t)},Container:function(t){this.__init(t)},Stage:function(t){this.___init(t)},BaseLayer:function(t){this.___init(t)},Layer:function(t){this.____init(t)},FastLayer:function(t){this.____init(t)},Group:function(t){this.___init(t)},isDragging:function(){var t=Kinetic.DD;return!!t&&t.isDragging},isDragReady:function(){var t=Kinetic.DD;return!!t&&!!t.node},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){void 0!==e&&(void 0===this.names[e]&&(this.names[e]=[]),this.names[e].push(t))},_removeName:function(t,e){if(void 0!==t){var i=this.names[t];if(void 0!==i){for(var n=0;n<i.length;n++)i[n]._id===e&&i.splice(n,1);0===i.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*i:t}}}(this),function(t,e){var i,n,s;"object"==typeof exports?(i=require("canvas"),n=(0,require("jsdom").jsdom)("<!DOCTYPE html><html><head></head><body></body></html>"),s=e(),Kinetic.document=n,Kinetic.window=Kinetic.document.createWindow(),Kinetic.window.Image=i.Image,Kinetic.root=t,Kinetic._nodeCanvas=i,module.exports=s):("function"==typeof define&&define.amd&&define(e),Kinetic.document=document,Kinetic.window=window,Kinetic.root=t)}((0,eval)("this"),function(){return Kinetic}),function(){Kinetic.Collection=function(){var t=[].slice.call(arguments),e=t.length,i=0;for(this.length=e;i<e;i++)this[i]=t[i];return this},Kinetic.Collection.prototype=[],Kinetic.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},Kinetic.Collection.prototype.toArray=function(){for(var t=[],e=this.length,i=0;i<e;i++)t.push(this[i]);return t},Kinetic.Collection.toCollection=function(t){for(var e=new Kinetic.Collection,i=t.length,n=0;n<i;n++)e.push(t[n]);return e},Kinetic.Collection._mapMethod=function(n){Kinetic.Collection.prototype[n]=function(){for(var t=this.length,e=[].slice.call(arguments),i=0;i<t;i++)this[i][n].apply(this[i],e);return this}},Kinetic.Collection.mapMethods=function(t){for(var e in t.prototype)Kinetic.Collection._mapMethod(e)},Kinetic.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},Kinetic.Transform.prototype={copy:function(){return new Kinetic.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),t=Math.sin(t),i=this.m[0]*e+this.m[2]*t,n=this.m[1]*e+this.m[3]*t,s=this.m[0]*-t+this.m[2]*e,t=this.m[1]*-t+this.m[3]*e;return this.m[0]=i,this.m[1]=n,this.m[2]=s,this.m[3]=t,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var i=this.m[0]+this.m[2]*e,e=this.m[1]+this.m[3]*e,n=this.m[2]+this.m[0]*t,t=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=e,this.m[2]=n,this.m[3]=t,this},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],n=this.m[0]*t.m[2]+this.m[2]*t.m[3],s=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],t=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=s,this.m[4]=o,this.m[5]=t,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,n=-this.m[2]*t,s=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),t=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=i,this.m[2]=n,this.m[3]=s,this.m[4]=o,this.m[5]=t,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var i=this.m[0],n=this.m[1],s=this.m[2],o=this.m[3],r=this.m[4],e=(i*(e-this.m[5])-n*(t-r))/(i*o-n*s);return this.translate((t-r-s*e)/i,e)}};var e=Math.PI/180,i=180/Math.PI,n={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},s=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Kinetic.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor==Object},_isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"==Object.prototype.toString.call(t)},_isString:function(t){return"[object String]"==Object.prototype.toString.call(t)},_throttle:function(i,n,s){function o(){h=!1===s.leading?0:(new Date).getTime(),c=null,l=i.apply(r,a),r=a=null}var r,a,l,c=null,h=0;s=s||{};return function(){var t=(new Date).getTime(),e=(h||!1!==s.leading||(h=t),n-(t-h));return r=this,a=arguments,e<=0?(clearTimeout(c),c=null,h=t,l=i.apply(r,a),r=a=null):c||!1===s.trailing||(c=setTimeout(o,e)),l}},_hasMethods:function(t){var e,i=[];for(e in t)this._isFunction(t[e])&&i.push(e);return 0<i.length},createCanvasElement:function(){var t=Kinetic.document.createElement("canvas");return t.style=t.style||{},t},isBrowser:function(){return"object"!=typeof exports},_isInDocument:function(t){for(;t=t.parentNode;)if(t==Kinetic.document)return!0;return!1},_simplifyArray:function(t){for(var e,i=[],n=t.length,s=Kinetic.Util,o=0;o<n;o++)e=t[o],s._isNumber(e)?e=Math.round(1e3*e)/1e3:s._isString(e)||(e=e.toString()),i.push(e);return i},_getImage:function(t,e){var i,n;t?this._isElement(t)?e(t):this._isString(t)?((i=new Kinetic.window.Image).onload=function(){e(i)},i.src=t):t.data?((n=Kinetic.Util.createCanvasElement()).width=t.width,n.height=t.height,n.getContext("2d").putImageData(t,0,0),this._getImage(n.toDataURL(),e)):e(null):e(null)},_getRGBAString:function(t){return["rgba(",t.red||0,",",t.green||0,",",t.blue||0,",",t.alpha||1,")"].join("")},_rgbToHex:function(t,e,i){return((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");t=parseInt(t,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in n?{r:(e=n[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=s.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},_merge:function(t,e){var i,n=this._clone(e);for(i in t)n[i]=this._isObject(t[i])?this._merge(t[i],n[i]):t[i];return n},cloneObject:function(t){var e,i={};for(e in t)i[e]=this._isObject(t[e])?this.cloneObject(t[e]):this._isArray(t[e])?this.cloneArray(t[e]):t[e];return i},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*e},_radToDeg:function(t){return t*i},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},error:function(t){throw new Error("Kinetic error: "+t)},warn:function(t){Kinetic.root.console&&console.warn&&console.warn("Kinetic warning: "+t)},extend:function(t,e){for(var i in e.prototype)i in t.prototype||(t.prototype[i]=e.prototype[i])},addMethods:function(t,e){for(var i in e)t.prototype[i]=e[i]},_getControlPoints:function(t,e,i,n,s,o,r){var a=Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2)),l=Math.sqrt(Math.pow(s-i,2)+Math.pow(o-n,2)),c=r*a/(a+l),r=r*l/(a+l);return[i-c*(s-t),n-c*(o-e),i+r*(s-t),n+r*(o-e)]},_expandPoints:function(t,e){for(var i,n=t.length,s=[],o=2;o<n-2;o+=2)i=Kinetic.Util._getControlPoints(t[o-2],t[o-1],t[o],t[o+1],t[o+2],t[o+3],e),s.push(i[0]),s.push(i[1]),s.push(t[o]),s.push(t[o+1]),s.push(i[2]),s.push(i[3]);return s},_removeLastLetter:function(t){return t.substring(0,t.length-1)}}}(),function(){var t=Kinetic.Util.createCanvasElement().getContext("2d"),e=Kinetic.UA.mobile?(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1):1;Kinetic.Canvas=function(t){this.init(t)},Kinetic.Canvas.prototype={init:function(t){t=(t=t||{}).pixelRatio||Kinetic.pixelRatio||e;this.pixelRatio=t,this._canvas=Kinetic.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){this.pixelRatio=t,this.setSize(this.getWidth(),this.getHeight())},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px"},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px"},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return Kinetic.Util.warn("Unable to get data URL. "+t.message),""}}}},Kinetic.SceneCanvas=function(t){var e=(t=t||{}).width||0,i=t.height||0;Kinetic.Canvas.call(this,t),this.context=new Kinetic.SceneContext(this),this.setSize(e,i)},Kinetic.SceneCanvas.prototype={setWidth:function(t){var e=this.pixelRatio,i=this.getContext()._context;Kinetic.Canvas.prototype.setWidth.call(this,t),i.scale(e,e)},setHeight:function(t){var e=this.pixelRatio,i=this.getContext()._context;Kinetic.Canvas.prototype.setHeight.call(this,t),i.scale(e,e)}},Kinetic.Util.extend(Kinetic.SceneCanvas,Kinetic.Canvas),Kinetic.HitCanvas=function(t){var e=(t=t||{}).width||0,i=t.height||0;Kinetic.Canvas.call(this,t),this.context=new Kinetic.HitContext(this),this.setSize(e,i)},Kinetic.Util.extend(Kinetic.HitCanvas,Kinetic.Canvas)}(),function(){var r=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];Kinetic.Context=function(t){this.init(t)},Kinetic.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),Kinetic.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){t.getFillEnabled()&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(t){for(var e,i,n,s=this.traceArr,o=s.length,r="",a=0;a<o;a++)(i=(e=s[a]).method)?(n=e.args,r=(r+=i)+(t?"()":Kinetic.Util._isArray(n[0])?"(["+n.join(",")+"])":"("+n.join(",")+")")):(r+=e.property,t||(r+="="+e.val)),r+=";";return r},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e=this.traceArr;e.push(t),e.length>=Kinetic.traceArrMax&&e.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(+t,0,0,+t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth(),e.getHeight())},_applyLineCap:function(t){t=t.getLineCap();t&&this.setAttr("lineCap",t)},_applyOpacity:function(t){t=t.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)},_applyLineJoin:function(t){t=t.getLineJoin();t&&this.setAttr("lineJoin",t)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},fill:function(){this._context.fill()},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){this._context.rotate(arguments[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){for(var n,s=this,t=r.length,o=Kinetic.Util._simplifyArray,e=this.setAttr,i=0;i<t;i++)!function(t){var e,i=s[t];s[t]=function(){return n=o(Array.prototype.slice.call(arguments,0)),e=i.apply(s,arguments),s._trace({method:t,args:n}),e}}(r[i]);s.setAttr=function(){e.apply(s,arguments),s._trace({property:arguments[0],val:arguments[1]})}}},Kinetic.SceneContext=function(t){Kinetic.Context.call(this,t)},Kinetic.SceneContext.prototype={_fillColor:function(t){var e=t.fill()||Kinetic.Util._getRGBAString({red:t.fillRed(),green:t.fillGreen(),blue:t.fillBlue(),alpha:t.fillAlpha()});this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternImage(),i=t.getFillPatternX(),n=t.getFillPatternY(),s=t.getFillPatternScale(),o=Kinetic.getAngle(t.getFillPatternRotation()),r=t.getFillPatternOffset(),t=t.getFillPatternRepeat();(i||n)&&this.translate(i||0,n||0),o&&this.rotate(o),s&&this.scale(s.x,s.y),r&&this.translate(-1*r.x,-1*r.y),this.setAttr("fillStyle",this.createPattern(e,t||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),i=t.getFillLinearGradientEndPoint(),n=t.getFillLinearGradientColorStops(),s=this.createLinearGradient(e.x,e.y,i.x,i.y);if(n){for(var o=0;o<n.length;o+=2)s.addColorStop(n[o],n[o+1]);this.setAttr("fillStyle",s),this.fill()}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),i=t.getFillRadialGradientEndPoint(),n=t.getFillRadialGradientStartRadius(),s=t.getFillRadialGradientEndRadius(),o=t.getFillRadialGradientColorStops(),r=this.createRadialGradient(e.x,e.y,n,i.x,i.y,s),a=0;a<o.length;a+=2)r.addColorStop(o[a],o[a+1]);this.setAttr("fillStyle",r),this.fill()},_fill:function(t){var e=t.fill()||t.fillRed()||t.fillGreen()||t.fillBlue(),i=t.getFillPatternImage(),n=t.getFillLinearGradientColorStops(),s=t.getFillRadialGradientColorStops(),o=t.getFillPriority();e&&"color"===o?this._fillColor(t):i&&"pattern"===o?this._fillPattern(t):n&&"linear-gradient"===o?this._fillLinearGradient(t):s&&"radial-gradient"===o?this._fillRadialGradient(t):e?this._fillColor(t):i?this._fillPattern(t):n?this._fillLinearGradient(t):s&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),i=t.getStrokeScaleEnabled();t.hasStroke()&&(i||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&this.setLineDash(e),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()||Kinetic.Util._getRGBAString({red:t.strokeRed(),green:t.strokeGreen(),blue:t.strokeBlue(),alpha:t.strokeAlpha()})),t._strokeFunc(this),i||this.restore())},_applyShadow:function(t){var e=Kinetic.Util,i=t.getAbsoluteOpacity(),n=e.get(t.getShadowColor(),"black"),s=e.get(t.getShadowBlur(),5),o=e.get(t.getShadowOpacity(),1),e=e.get(t.getShadowOffset(),{x:0,y:0});o&&this.setAttr("globalAlpha",o*i),this.setAttr("shadowColor",n),this.setAttr("shadowBlur",s),this.setAttr("shadowOffsetX",e.x),this.setAttr("shadowOffsetY",e.y)}},Kinetic.Util.extend(Kinetic.SceneContext,Kinetic.Context),Kinetic.HitContext=function(t){Kinetic.Context.call(this,t)},Kinetic.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){t.hasStroke()&&(this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this))}},Kinetic.Util.extend(Kinetic.HitContext,Kinetic.Context)}(),Kinetic.Factory={addGetterSetter:function(t,e,i,n,s){this.addGetter(t,e,i),this.addSetter(t,e,n,s),this.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,i){var n="get"+Kinetic.Util._capitalize(e);t.prototype[n]=function(){var t=this.attrs[e];return void 0===t?i:t}},addSetter:function(t,e,i,n){var s="set"+Kinetic.Util._capitalize(e);t.prototype[s]=function(t){return i&&(t=i.call(this,t)),this._setAttr(e,t),n&&n.call(this),this}},addComponentsGetterSetter:function(t,n,e,s,o){var i,r,a=e.length,l=Kinetic.Util._capitalize,c="get"+l(n),h="set"+l(n);t.prototype[c]=function(){var t={};for(i=0;i<a;i++)t[r=e[i]]=this.getAttr(n+l(r));return t},t.prototype[h]=function(t){var e,i=this.attrs[n];for(e in t=s?s.call(this,t):t)this._setAttr(n+l(e),t[e]);return this._fireChangeEvent(n,i,t),o&&o.call(this),this},this.addOverloadedGetterSetter(t,n)},addOverloadedGetterSetter:function(t,e){var i=Kinetic.Util._capitalize(e),n="set"+i,s="get"+i;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[s]()}},backCompat:function(t,e){for(var i in e)t.prototype[i]=t.prototype[e[i]]},afterSetFilter:function(){this._filterUpToDate=!1}},Kinetic.Validators={RGBComponent:function(t){return 255<t?255:t<0?0:Math.round(t)},alphaComponent:function(t){return 1<t?1:t<1e-4?1e-4:t}},function(){var i="absoluteOpacity",n="absoluteTransform",s="listening",o="transform",r="visible",h=["id"],a=["xChange.kinetic","yChange.kinetic","scaleXChange.kinetic","scaleYChange.kinetic","skewXChange.kinetic","skewYChange.kinetic","rotationChange.kinetic","offsetXChange.kinetic","offsetYChange.kinetic","transformsEnabledChange.kinetic"].join(" ");Kinetic.Util.addMethods(Kinetic.Node,{_init:function(t){var e=this;this._id=Kinetic.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this.setAttrs(t),this.on(a,function(){this._clearCache(o),e._clearSelfAndDescendantCache(n)}),this.on("visibleChange.kinetic",function(){e._clearSelfAndDescendantCache(r)}),this.on("listeningChange.kinetic",function(){e._clearSelfAndDescendantCache(s)}),this.on("opacityChange.kinetic",function(){e._clearSelfAndDescendantCache(i)})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){return void 0===this._cache[t]&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(e){this._clearCache(e),this.children&&this.getChildren().each(function(t){t._clearSelfAndDescendantCache(e)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(t){var e,i,n,s,o,t=t||{},r=t.x||0,a=t.y||0,l=t.width||this.width(),c=t.height||this.height(),t=t.drawBorder||!1;if(this.getLayer(),0!==l&&0!==c)return e=new Kinetic.SceneCanvas({pixelRatio:1,width:l,height:c}),i=new Kinetic.SceneCanvas({pixelRatio:1,width:l,height:c}),n=new Kinetic.HitCanvas({width:l,height:c}),this.transformsEnabled(),this.x(),this.y(),s=e.getContext(),o=n.getContext(),this.clearCache(),s.save(),o.save(),t&&(s.save(),s.beginPath(),s.rect(0,0,l,c),s.closePath(),s.setAttr("strokeStyle","red"),s.setAttr("lineWidth",5),s.stroke(),s.restore()),s.translate(-1*r,-1*a),o.translate(-1*r,-1*a),"Shape"===this.nodeType&&(s.translate(-1*this.x(),-1*this.y()),o.translate(-1*this.x(),-1*this.y())),this.drawScene(e,this),this.drawHit(n,this),s.restore(),o.restore(),this._cache.canvas={scene:e,filter:i,hit:n},this;Kinetic.Util.warn("Width or height of caching configuration equals 0. Cache is ignored.")},_drawCachedSceneCanvas:function(t){t.save(),this.getLayer()._applyTransform(this,t),t.drawImage(this._getCachedSceneCanvas()._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var t,e,i,n=this.filters(),s=this._cache.canvas,o=s.scene,s=s.filter,r=s.getContext();if(n){if(!this._filterUpToDate){try{for(t=n.length,r.clear(),r.drawImage(o._canvas,0,0),e=r.getImageData(0,0,s.getWidth(),s.getHeight()),i=0;i<t;i++)n[i].call(this,e),r.putImageData(e,0,0)}catch(t){Kinetic.Util.warn("Unable to apply filter. "+t.message)}this._filterUpToDate=!0}return s}return o},_drawCachedHitCanvas:function(t){var e=this._cache.canvas.hit;t.save(),this.getLayer()._applyTransform(this,t),t.drawImage(e._canvas,0,0),t.restore()},on:function(t,e){for(var i,n,s=t.split(" "),o=s.length,r=0;r<o;r++)i=(n=s[r].split("."))[0],n=n[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:n,handler:e});return this},off:function(t){for(var e,i,n,s,o=t.split(" "),r=o.length,a=0;a<r;a++)if(n=(i=o[a].split("."))[0],s=i[1],n)this.eventListeners[n]&&this._off(n,s);else for(e in this.eventListeners)this._off(e,s);return this},dispatchEvent:function(t){var e={target:this,type:t.type,evt:t};this.fire(t.type,e)},addEventListener:function(t,e){this.on(t,function(t){e.call(this,t.evt)})},remove:function(){var t=this.getParent();return t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(r),this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(i),this},destroy:function(){Kinetic._removeId(this.getId()),Kinetic._removeName(this.getName(),this._id),this.remove()},getAttr:function(t){var e="get"+Kinetic.Util._capitalize(t);return Kinetic.Util._isFunction(this[e])?this[e]():this.attrs[t]},getAncestors:function(){for(var t=this.getParent(),e=new Kinetic.Collection;t;)e.push(t),t=t.getParent();return e},getAttrs:function(){return this.attrs||{}},setAttrs:function(t){var e,i;if(t)for(e in t)"children"!==e&&(i="set"+Kinetic.Util._capitalize(e),Kinetic.Util._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]));return this},isListening:function(){return this._getCache(s,this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},isVisible:function(){return this._getCache(r,this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?!e||e.isVisible():t},shouldDrawHit:function(){var t=this.getLayer();return t&&t.hitGraphEnabled()&&this.isListening()&&this.isVisible()&&!Kinetic.isDragging()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){var i,n,s,o,r=this.getDepth(),a=this,l=0;return"Stage"!==a.nodeType&&function t(e){for(i=[],n=e.length,s=0;s<n;s++)o=e[s],l++,"Shape"!==o.nodeType&&(i=i.concat(o.getChildren().toArray())),o._id===a._id&&(s=n);0<i.length&&i[0].getDepth()<=r&&t(i)}(a.getStage().getChildren()),l},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(){var t=this.getAbsoluteTransform().getMatrix(),e=new Kinetic.Transform,i=this.offset();return e.m=t.slice(),e.translate(i.x,i.y),e.getTranslation()},setAbsolutePosition:function(t){var e,i=this._clearTransform();return this.attrs.x=i.x,this.attrs.y=i.y,delete i.x,delete i.y,(e=this.getAbsoluteTransform()).invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(i),this},_setTransform:function(t){for(var e in t)this.attrs[e]=t[e];this._clearCache(o),this._clearSelfAndDescendantCache(n)},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(o),this._clearSelfAndDescendantCache(n),t},move:function(t){var e=t.x,t=t.y,i=this.getX(),n=this.getY();return void 0!==e&&(i+=e),void 0!==t&&(n+=t),this.setPosition({x:i,y:n}),this},_eachAncestorReverse:function(t,e){var i,n,s=[],o=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(s.unshift(this);o&&(!e||o._id!==e._id);)s.unshift(o),o=o.parent;for(i=s.length,n=0;n<i;n++)t(s[n])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){var t;if(this.parent)return t=this.index,this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0;Kinetic.Util.warn("Node has no parent. moveToTop function is ignored.")},moveUp:function(){var t;if(this.parent)return(t=this.index)<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0);Kinetic.Util.warn("Node has no parent. moveUp function is ignored.")},moveDown:function(){var t;if(this.parent)return 0<(t=this.index)&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0);Kinetic.Util.warn("Node has no parent. moveDown function is ignored.")},moveToBottom:function(){var t;if(this.parent)return 0<(t=this.index)&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0);Kinetic.Util.warn("Node has no parent. moveToBottom function is ignored.")},setZIndex:function(t){var e;if(this.parent)return e=this.index,this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this;Kinetic.Util.warn("Node has no parent. zIndex parameter is ignored.")},getAbsoluteOpacity:function(){return this._getCache(i,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity();return this.getParent()&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return Kinetic.Node.prototype.remove.call(this),t.add(this),this},toObject:function(){var t,e,i,n=Kinetic.Util,s={},o=this.getAttrs();for(t in s.attrs={},o)e=o[t],n._isFunction(e)||n._isElement(e)||n._isObject(e)&&n._hasMethods(e)||(i=this[t],delete o[t],i=i?i.call(this):null,o[t]=e,i!==e&&(s.attrs[t]=e));return s.className=this.getClassName(),s},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache("stage",this._getStage)},_getStage:function(){var t=this.getParent();return t?t.getStage():void 0},fire:function(t,e,i){return i?this._fireAndBubble(t,e||{}):this._fire(t,e||{}),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache(n,this._getAbsoluteTransform)},_getAbsoluteTransform:function(t){var e,i,n=new Kinetic.Transform;return this._eachAncestorReverse(function(t){e=t.transformsEnabled(),i=t.getTransform(),"all"===e?n.multiply(i):"position"===e&&n.translate(t.x(),t.y())},t),n},getTransform:function(){return this._getCache(o,this._getTransform)},_getTransform:function(){var t=new Kinetic.Transform,e=this.getX(),i=this.getY(),n=Kinetic.getAngle(this.getRotation()),s=this.getScaleX(),o=this.getScaleY(),r=this.getSkewX(),a=this.getSkewY(),l=this.getOffsetX(),c=this.getOffsetY();return 0===e&&0===i||t.translate(e,i),0!==n&&t.rotate(n),0===r&&0===a||t.skew(r,a),1===s&&1===o||t.scale(s,o),0===l&&0===c||t.translate(-1*l,-1*c),t},clone:function(t){var e,i,n,s,o,r,a=this.getClassName(),l=Kinetic.Util.cloneObject(this.attrs);for(r in h)delete l[h[r]];for(e in t)l[e]=t[e];var c=new Kinetic[a](l);for(e in this.eventListeners)for(i=this.eventListeners[e],n=i.length,s=0;s<n;s++)o=i[s],o.name.indexOf("kinetic")<0&&(c.eventListeners[e]||(c.eventListeners[e]=[]),c.eventListeners[e].push(o));return c},toDataURL:function(t){var e=(t=t||{}).mimeType||null,i=t.quality||null,n=this.getStage(),s=t.x||0,o=t.y||0,t=new Kinetic.SceneCanvas({width:t.width||this.getWidth()||(n?n.getWidth():0),height:t.height||this.getHeight()||(n?n.getHeight():0),pixelRatio:1}),n=t.getContext();return n.save(),(s||o)&&n.translate(-1*s,-1*o),this.drawScene(t),n.restore(),t.toDataURL(e,i)},toImage:function(e){Kinetic.Util._getImage(this.toDataURL(e),function(t){e.callback(t)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Kinetic.dragDistance},_get:function(t){return this.nodeType===t?[this]:[]},_off:function(t,e){for(var i,n=this.eventListeners[t],s=0;s<n.length;s++)if(!("kinetic"===(i=n[s].name)&&"kinetic"!==e||e&&i!==e)){if(n.splice(s,1),0===n.length){delete this.eventListeners[t];break}s--}},_fireChangeEvent:function(t,e,i){this._fire(t+"Change",{oldVal:e,newVal:i})},setId:function(t){var e=this.getId();return Kinetic._removeId(e),Kinetic._addId(this,t),this._setAttr("id",t),this},setName:function(t){var e=this.getName();return Kinetic._removeName(e,this._id),Kinetic._addName(this,t),this._setAttr("name",t),this},setAttr:function(){var t=Array.prototype.slice.call(arguments),e=t[0],t=t[1],i=this["set"+Kinetic.Util._capitalize(e)];return Kinetic.Util._isFunction(i)?i.call(this,t):this._setAttr(e,t),this},_setAttr:function(t,e){var i;void 0!==e&&(i=this.attrs[t],this.attrs[t]=e,this._fireChangeEvent(t,i,e))},_setComponentAttr:function(t,e,i){var n;void 0!==i&&((n=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,n,i))},_fireAndBubble:function(t,e,i){var n=!0;e&&"Shape"===this.nodeType&&(e.target=this),(n="mouseenter"===t&&i&&this._id===i._id||"mouseleave"===t&&i&&this._id===i._id?!1:n)&&(this._fire(t,e),e)&&!e.cancelBubble&&this.parent&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i.parent):this._fireAndBubble.call(this.parent,t,e))},_fire:function(t,e){var i,n=this.eventListeners[t];if(e.type=t,n)for(i=0;i<n.length;i++)n[i].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),Kinetic.Node.create=function(t,e){return this._createNode(JSON.parse(t),e)},Kinetic.Node._createNode=function(t,e){var i,n,s,o=Kinetic.Node.prototype.getClassName.call(t),r=t.children;if(e&&(t.attrs.container=e),i=new Kinetic[o](t.attrs),r)for(n=r.length,s=0;s<n;s++)i.add(this._createNode(r[s]));return i},Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"position"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"x",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"y",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"opacity",1),Kinetic.Factory.addGetter(Kinetic.Node,"name"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"name"),Kinetic.Factory.addGetter(Kinetic.Node,"id"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"id"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"rotation",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"scale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Node,"scaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"skew",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"skewY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Node,"offset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Node,"offsetY",0),Kinetic.Factory.addSetter(Kinetic.Node,"dragDistance"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"dragDistance"),Kinetic.Factory.addSetter(Kinetic.Node,"width",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"width"),Kinetic.Factory.addSetter(Kinetic.Node,"height",0),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"height"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"listening","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"visible","inherit"),Kinetic.Factory.addGetterSetter(Kinetic.Node,"transformsEnabled","all"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"size"),Kinetic.Factory.backCompat(Kinetic.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Kinetic.Collection.mapMethods(Kinetic.Node)}(),Kinetic.Filters.Grayscale=function(t){for(var e,i=t.data,n=i.length,s=0;s<n;s+=4)e=.34*i[s]+.5*i[s+1]+.16*i[s+2],i[s]=e,i[s+1]=e,i[s+2]=e},Kinetic.Filters.Brighten=function(t){for(var e=255*this.brightness(),i=t.data,n=i.length,s=0;s<n;s+=4)i[s]+=e,i[s+1]+=e,i[s+2]+=e},Kinetic.Factory.addGetterSetter(Kinetic.Node,"brightness",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Invert=function(t){for(var e=t.data,i=e.length,n=0;n<i;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]},function(){function W(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var R=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],q=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Kinetic.Filters.Blur=function(t){var L=Math.round(this.blurRadius());if(0<L){for(var e,i,n,s,o,z,r,a,l,c,h,d,u,p,f,g,m,v,y,w,b,x,_,C=L,S=t.data,k=t.width,O=t.height,j=C+C+1,T=k-1,H=O-1,D=C+1,F=D*(D+1)/2,M=new W,N=null,P=M,E=null,K=null,I=R[C],A=q[C],$=1;$<j;$++)P=P.next=new W,$==D&&(N=P);for(P.next=M,i=z=o=0;i<O;i++){for(f=g=m=v=r=a=l=c=0,h=D*(y=S[o]),d=D*(w=S[o+1]),u=D*(b=S[o+2]),p=D*(x=S[o+3]),r+=F*y,a+=F*w,l+=F*b,c+=F*x,P=M,$=0;$<D;$++)P.r=y,P.g=w,P.b=b,P.a=x,P=P.next;for($=1;$<D;$++)r+=(P.r=y=S[n=o+((T<$?T:$)<<2)])*(_=D-$),a+=(P.g=w=S[n+1])*_,l+=(P.b=b=S[n+2])*_,c+=(P.a=x=S[n+3])*_,f+=y,g+=w,m+=b,v+=x,P=P.next;for(E=M,K=N,e=0;e<k;e++)S[o+3]=x=c*I>>A,0!==x?(S[o]=(r*I>>A)*(x=255/x),S[o+1]=(a*I>>A)*x,S[o+2]=(l*I>>A)*x):S[o]=S[o+1]=S[o+2]=0,r-=h,a-=d,l-=u,c-=p,h-=E.r,d-=E.g,u-=E.b,p-=E.a,n=z+((n=e+C+1)<T?n:T)<<2,r+=f+=E.r=S[n],a+=g+=E.g=S[n+1],l+=m+=E.b=S[n+2],c+=v+=E.a=S[n+3],E=E.next,h+=y=K.r,d+=w=K.g,u+=b=K.b,p+=x=K.a,f-=y,g-=w,m-=b,v-=x,K=K.next,o+=4;z+=k}for(e=0;e<k;e++){for(g=m=v=f=a=l=c=r=0,h=D*(y=S[o=e<<2]),d=D*(w=S[o+1]),u=D*(b=S[o+2]),p=D*(x=S[o+3]),r+=F*y,a+=F*w,l+=F*b,c+=F*x,P=M,$=0;$<D;$++)P.r=y,P.g=w,P.b=b,P.a=x,P=P.next;for(s=k,$=1;$<=C;$++)r+=(P.r=y=S[o=s+e<<2])*(_=D-$),a+=(P.g=w=S[o+1])*_,l+=(P.b=b=S[o+2])*_,c+=(P.a=x=S[o+3])*_,f+=y,g+=w,m+=b,v+=x,P=P.next,$<H&&(s+=k);for(o=e,E=M,K=N,i=0;i<O;i++)S[(n=o<<2)+3]=x=c*I>>A,0<x?(S[n]=(r*I>>A)*(x=255/x),S[n+1]=(a*I>>A)*x,S[n+2]=(l*I>>A)*x):S[n]=S[n+1]=S[n+2]=0,r-=h,a-=d,l-=u,c-=p,h-=E.r,d-=E.g,u-=E.b,p-=E.a,n=e+((n=i+D)<H?n:H)*k<<2,r+=f+=E.r=S[n],a+=g+=E.g=S[n+1],l+=m+=E.b=S[n+2],c+=v+=E.a=S[n+3],E=E.next,h+=y=K.r,d+=w=K.g,u+=b=K.b,p+=x=K.a,f-=y,g-=w,m-=b,v-=x,K=K.next,o+=k}}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"blurRadius",0,null,Kinetic.Factory.afterSetFilter)}(),function(){function d(t,e,i){i=4*(i*t.width+e),e=[];return e.push(t.data[i++],t.data[i++],t.data[i++],t.data[+i]),e}function u(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function o(t,e){var i=d(t,0,0),n=d(t,t.width-1,0),s=d(t,0,t.height-1),o=d(t,t.width-1,t.height-1),r=e||10;if(u(i,n)<r&&u(n,o)<r&&u(o,s)<r&&u(s,i)<r){for(var a=function(t){for(var e=[0,0,0],i=0;i<t.length;i++)e[0]+=t[i][0],e[1]+=t[i][1],e[2]+=t[i][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([n,i,o,s]),l=[],c=0;c<t.width*t.height;c++){var h=u(a,[t.data[4*c],t.data[4*c+1],t.data[4*c+2]]);l[c]=h<r?0:255}return l}}Kinetic.Filters.Mask=function(t){var e=o(t,this.threshold());if(e)for(var e=function(t,e,i){for(var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],s=Math.round(Math.sqrt(n.length)),o=Math.floor(s/2),r=[],a=0;a<i;a++)for(var l=0;l<e;l++){for(var c=a*e+l,h=0,d=0;d<s;d++)for(var u=0;u<s;u++){var p=a+d-o,f=l+u-o;0<=p&&p<i&&0<=f&&f<e&&(h+=t[p*e+f]*n[d*s+u])}r[c]=h}return r}(e=function(t,e,i){for(var n=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(n.length)),o=Math.floor(s/2),r=[],a=0;a<i;a++)for(var l=0;l<e;l++){for(var c=a*e+l,h=0,d=0;d<s;d++)for(var u=0;u<s;u++){var p=a+d-o,f=l+u-o;0<=p&&p<i&&0<=f&&f<e&&(h+=t[p*e+f]*n[d*s+u])}r[c]=1020<=h?255:0}return r}(e=function(t,e,i){for(var n=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(n.length)),o=Math.floor(s/2),r=[],a=0;a<i;a++)for(var l=0;l<e;l++){for(var c=a*e+l,h=0,d=0;d<s;d++)for(var u=0;u<s;u++){var p=a+d-o,f=l+u-o;0<=p&&p<i&&0<=f&&f<e&&(h+=t[p*e+f]*n[d*s+u])}r[c]=2040===h?255:0}return r}(e,t.width,t.height),t.width,t.height),t.width,t.height),i=t,n=e,s=0;s<i.width*i.height;s++)i.data[4*s+3]=n[s];return t},Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",0,null,Kinetic.Factory.afterSetFilter)}(),Kinetic.Filters.RGB=function(t){for(var e,i=t.data,n=i.length,s=this.red(),o=this.green(),r=this.blue(),a=0;a<n;a+=4)e=(.34*i[a]+.5*i[a+1]+.16*i[a+2])/255,i[a]=e*s,i[a+1]=e*o,i[a+2]=e*r,i[a+3]=i[a+3]},Kinetic.Factory.addGetterSetter(Kinetic.Node,"red",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"green",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),Kinetic.Factory.addGetterSetter(Kinetic.Node,"blue",0,Kinetic.Validators.RGBComponent,Kinetic.Factory.afterSetFilter),Kinetic.Filters.HSV=function(t){for(var e,i,n,s,o=t.data,r=o.length,t=Math.pow(2,this.value()),a=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,c=t*a*Math.cos(l*Math.PI/180),a=t*a*Math.sin(l*Math.PI/180),h=.299*t+.701*c+.167*a,d=.587*t-.587*c+.33*a,u=.114*t-.114*c-.497*a,p=.299*t-.299*c-.328*a,f=.587*t+.413*c+.035*a,g=.114*t-.114*c+.293*a,m=.299*t-.3*c+1.25*a,v=.587*t-.586*c-1.05*a,y=.114*t+.886*c-.2*a,w=0;w<r;w+=4)e=o[w+0],i=o[w+1],n=o[w+2],s=o[w+3],o[w+0]=h*e+d*i+u*n,o[w+1]=p*e+f*i+g*n,o[w+2]=m*e+v*i+y*n,o[w+3]=s},Kinetic.Factory.addGetterSetter(Kinetic.Node,"hue",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"saturation",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"value",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"hue",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"saturation",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"luminance",0,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.HSL=function(t){for(var e,i,n,s,o=t.data,r=o.length,t=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,l=127*this.luminance(),c=+t*Math.cos(a*Math.PI/180),t=+t*Math.sin(a*Math.PI/180),h=.299+.701*c+.167*t,d=.587-.587*c+.33*t,u=.114-.114*c-.497*t,p=.299-.299*c-.328*t,f=.587+.413*c+.035*t,g=.114-.114*c+.293*t,m=.299-.3*c+1.25*t,v=.587-.586*c-1.05*t,y=.114+.886*c-.2*t,w=0;w<r;w+=4)e=o[w+0],i=o[w+1],n=o[w+2],s=o[w+3],o[w+0]=h*e+d*i+u*n+l,o[w+1]=p*e+f*i+g*n+l,o[w+2]=m*e+v*i+y*n+l,o[w+3]=s},Kinetic.Filters.Emboss=function(t){var e=10*this.embossStrength(),i=255*this.embossWhiteLevel(),n=this.embossDirection(),s=this.embossBlend(),o=0,r=0,a=t.data,l=t.width,c=t.height,h=4*l,d=c;switch(n){case"top-left":r=o=-1;break;case"top":o=-1,r=0;break;case"top-right":o=-1,r=1;break;case"right":o=0,r=1;break;case"bottom-right":r=o=1;break;case"bottom":o=1,r=0;break;case"bottom-left":r=-(o=1);break;case"left":o=0,r=-1}do{var u=(d-1)*h,p=o,f=(d-1+(p=c<d+(p=d+o<1?0:o)?0:p))*l*4,g=l;do{var m=u+4*(g-1),v=r,v=f+4*(g-1+(v=l<g+(v=g+r<1?0:r)?0:v)),y=a[m]-a[v],w=a[1+m]-a[1+v],v=a[2+m]-a[2+v],b=0<y?y:-y}while(b<(0<w?w:-w)&&(y=w),b<(0<v?v:-v)&&(y=v),y*=e,s?(w=a[m]+y,b=a[1+m]+y,v=a[2+m]+y,a[m]=255<w?255:w<0?0:w,a[1+m]=255<b?255:b<0?0:b,a[2+m]=255<v?255:v<0?0:v):((w=i-y)<0?w=0:255<w&&(w=255),a[m]=a[1+m]=a[2+m]=w),--g)}while(--d)},Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossStrength",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossWhiteLevel",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossDirection","top-left",null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"embossBlend",!1,null,Kinetic.Factory.afterSetFilter),function(){function b(t,e,i,n,s){i-=e,s-=n;return 0==i?n+s/2:0==s?n:s*((t-e)/i)+n}Kinetic.Filters.Enhance=function(t){var e,i,n,s,o,r,a,l,c,h=t.data,d=h.length,u=h[0],p=u,f=h[1],g=f,m=h[2],v=m,t=h[3],y=t,w=this.enhance();if(0!==w){for(i=0;i<d;i+=4)(e=h[i+0])<u?u=e:p<e&&(p=e),(e=h[i+1])<f?f=e:g<e&&(g=e),(e=h[i+2])<m?m=e:v<e&&(v=e);for(p===u&&(p=255,u=0),g===f&&(g=255,f=0),v===m&&(v=255,m=0),y===t&&(y=255,t=0),0<w?(n=p+w*(255-p),s=u-w*+u,o=g+w*(255-g),r=f-w*+f,l=v+w*(255-v),c=m-w*+m,0):(n=p+w*(p-(a=.5*(p+u))),s=u+w*(u-a),o=g+w*(g-(a=.5*(g+f))),r=f+w*(f-a),l=v+w*(v-(a=.5*(v+m))),c=m+w*(m-a),0),i=0;i<d;i+=4)h[i+0]=b(h[i+0],u,p,s,n),h[i+1]=b(h[i+1],f,g,r,o),h[i+2]=b(h[i+2],m,v,c,l)}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"enhance",0,null,Kinetic.Factory.afterSetFilter)}(),Kinetic.Filters.Posterize=function(t){for(var e=Math.round(254*this.levels())+1,i=t.data,n=i.length,s=255/e,o=0;o<n;o+=1)i[o]=Math.floor(i[o]/s)*s},Kinetic.Factory.addGetterSetter(Kinetic.Node,"levels",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Noise=function(t){for(var e=255*this.noise(),i=t.data,n=i.length,s=e/2,o=0;o<n;o+=4)i[o+0]+=s-2*s*Math.random(),i[o+1]+=s-2*s*Math.random(),i[o+2]+=s-2*s*Math.random()},Kinetic.Factory.addGetterSetter(Kinetic.Node,"noise",.2,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Pixelate=function(t){var e,i,n,s,o,r,a,l,c,h,d,u,p,f,g=Math.ceil(this.pixelSize()),m=t.width,v=t.height,y=Math.ceil(m/g),w=Math.ceil(v/g);for(t=t.data,u=0;u<y;u+=1)for(p=0;p<w;p+=1){for(c=(l=u*g)+g,d=(h=p*g)+g,f=a=r=o=s=0,e=l;e<c;e+=1)if(!(m<=e))for(i=h;i<d;i+=1)v<=i||(s+=t[(n=4*(m*i+e))+0],o+=t[n+1],r+=t[n+2],a+=t[n+3],f+=1);for(s/=f,o/=f,r/=f,e=l;e<c;e+=1)if(!(m<=e))for(i=h;i<d;i+=1)v<=i||(t[(n=4*(m*i+e))+0]=s,t[n+1]=o,t[n+2]=r,t[n+3]=a)}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"pixelSize",8,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Threshold=function(t){for(var e=255*this.threshold(),i=t.data,n=i.length,s=0;s<n;s+=1)i[s]=i[s]<e?0:255},Kinetic.Factory.addGetterSetter(Kinetic.Node,"threshold",.5,null,Kinetic.Factory.afterSetFilter),Kinetic.Filters.Sepia=function(t){var e,i,n,s,o,r,a,l,c=t.data,h=t.width,d=t.height,u=4*h;do{for(e=(d-1)*u,i=h;a=.349*(r=c[n=e+4*(i-1)])+.686*(s=c[1+n])+.168*(o=c[2+n]),l=.272*r+.534*s+.131*o,c[n]=255<(r=.393*r+.769*s+.189*o)?255:r,c[1+n]=255<a?255:a,c[2+n]=255<l?255:l,c[3+n]=c[3+n],--i;);}while(--d)},Kinetic.Filters.Solarize=function(t){var e=t.data,i=t.width,n=4*i,s=t.height;do{var o=(s-1)*n,r=i;do{var a=o+4*(r-1),l=e[a],c=e[1+a],h=e[2+a]}while(127<l&&(l=255-l),127<c&&(c=255-c),127<h&&(h=255-h),e[a]=l,e[1+a]=c,e[2+a]=h,--r)}while(--s)},function(){var rt=Kinetic.Util.createCanvasElement();Kinetic.Filters.Kaleidoscope=function(t){var e,i,L,z,n,s,o,r,a,l,c=t.width,h=t.height,d=Math.round(this.kaleidoscopePower()),u=Math.round(this.kaleidoscopeAngle()),O=Math.floor(c*(u%360)/360);if(!(d<1)){rt.width=c,rt.height=h;for(var p,j,H,N,W,f,R,q,g=rt.getContext("2d").getImageData(0,0,c,h),u=g,m={polarCenterX:c/2,polarCenterY:h/2},v=(S=t).data,y=u.data,w=S.width,u=S.height,b=m.polarCenterX||w/2,x=m.polarCenterY||u/2,_=Math.sqrt(b*b+x*x),C=w-b,S=u-x,m=Math.sqrt(C*C+S*S),_=_<m?m:_,B=u,G=w,U=360/G*Math.PI/180,k=0;k<G;k+=1)for(R=Math.sin(k*U),q=Math.cos(k*U),f=0;f<B;f+=1)C=Math.floor(b+_*f/B*q),j=v[0+(p=4*(Math.floor(x+_*f/B*R)*w+C))],H=v[1+p],N=v[2+p],W=v[3+p],y[0+(p=4*(k+f*w))]=j,y[1+p]=H,y[2+p]=N,y[3+p]=W;for(var T=c/Math.pow(2,d);T<=8;)T*=2,--d;var D=T=Math.ceil(T),Y=0,X=D,V=1;for(c<O+T&&(Y=D,X=0,V=-1),i=0;i<h;i+=1)for(e=Y;e!==X;e+=V)L=Math.round(e+O)%c,n=g.data[(a=4*(c*i+L))+0],s=g.data[a+1],o=g.data[a+2],r=g.data[a+3],g.data[(l=4*(c*i+e))+0]=n,g.data[l+1]=s,g.data[l+2]=o,g.data[l+3]=r;for(i=0;i<h;i+=1)for(D=Math.floor(T),z=0;z<d;z+=1){for(e=0;e<D+1;e+=1)n=g.data[(a=4*(c*i+e))+0],s=g.data[a+1],o=g.data[a+2],r=g.data[a+3],g.data[(l=4*(c*i+2*D-e-1))+0]=n,g.data[l+1]=s,g.data[l+2]=o,g.data[l+3]=r;D*=2}var Q,Z,F,M,P,S=g,m=t,u={polarRotation:0},E=S.data,K=m.data,I=S.width,J=S.height,tt=u.polarCenterX||I/2,et=u.polarCenterY||J/2,it=Math.sqrt(tt*tt+et*et),A=I-tt,$=J-et,m=Math.sqrt(A*A+$*$),it=it<m?m:it,nt=J,st=I,ot=u.polarRotation||0;for(A=0;A<I;A+=1)for($=0;$<J;$+=1)P=A-tt,M=$-et,F=Math.sqrt(P*P+M*M)*nt/it,M=(180*Math.atan2(M,P)/Math.PI+360+ot)%360,P=Math.floor(M*st/360),F=E[0+(M=4*(Math.floor(F)*I+P))],P=E[1+M],Q=E[2+M],Z=E[3+M],K[0+(M=4*($*I+A))]=F,K[1+M]=P,K[2+M]=Q,K[3+M]=Z}},Kinetic.Factory.addGetterSetter(Kinetic.Node,"kaleidoscopePower",2,null,Kinetic.Factory.afterSetFilter),Kinetic.Factory.addGetterSetter(Kinetic.Node,"kaleidoscopeAngle",0,null,Kinetic.Factory.afterSetFilter)}(),function(){function t(t){Kinetic.root.setTimeout(t,1e3/60)}var h=Kinetic.root.performance&&Kinetic.root.performance.now?function(){return Kinetic.root.performance.now()}:function(){return(new Date).getTime()},e=Kinetic.root.requestAnimationFrame||Kinetic.root.webkitRequestAnimationFrame||Kinetic.root.mozRequestAnimationFrame||Kinetic.root.oRequestAnimationFrame||Kinetic.root.msRequestAnimationFrame||t,i=(Kinetic.Animation=function(t,e){var i=Kinetic.Animation;this.func=t,this.setLayers(e),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:h()}},Kinetic.Animation.prototype={setLayers:function(t){t=t?0<t.length?t:[t]:[];this.layers=t},getLayers:function(){return this.layers},addLayer:function(t){var e,i,n=this.layers;if(n){for(e=n.length,i=0;i<e;i++)if(n[i]._id===t._id)return!1}else this.layers=[];return this.layers.push(t),!0},isRunning:function(){for(var t=Kinetic.Animation.animations,e=t.length,i=0;i<e;i++)if(t[i].id===this.id)return!0;return!1},start:function(){var t=Kinetic.Animation;this.stop(),this.frame.timeDiff=0,this.frame.lastTime=h(),t._addAnimation(this)},stop:function(){Kinetic.Animation._removeAnimation(this)},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},Kinetic.Animation.animations=[],Kinetic.Animation.animIdCounter=0,Kinetic.Animation.animRunning=!1,Kinetic.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},Kinetic.Animation._removeAnimation=function(t){for(var e=t.id,i=this.animations,n=i.length,s=0;s<n;s++)if(i[s].id===e){this.animations.splice(s,1);break}},Kinetic.Animation._runFrames=function(){for(var t,e,i,n,s,o,r,a={},l=this.animations,c=0;c<l.length;c++){for(e=(t=l[c]).layers,i=t.func,t._updateFrameObject(h()),s=e.length,n=0;n<s;n++)void 0!==(o=e[n])._id&&(a[o._id]=o);i&&i.call(t,t.frame)}for(r in a)a[r].draw()},Kinetic.Animation._animationLoop=function(){var t=Kinetic.Animation;t.animations.length?(function(){e.apply(Kinetic.root,arguments)}(t._animationLoop),t._runFrames()):t.animRunning=!1},Kinetic.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,this._animationLoop())},Kinetic.Node.prototype.moveTo);Kinetic.Node.prototype.moveTo=function(t){i.call(this,t)},Kinetic.Layer.prototype.batchDraw=function(){var t=this,e=Kinetic.Animation;this.batchAnim||(this.batchAnim=new e(function(){t.lastBatchDrawTime&&500<h()-t.lastBatchDrawTime&&t.batchAnim.stop()},this)),this.lastBatchDrawTime=h(),this.batchAnim.isRunning()||(this.draw(),this.batchAnim.start())},Kinetic.Stage.prototype.batchDraw=function(){this.getChildren().each(function(t){t.batchDraw()})}}((0,eval)("this")),function(){var l={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=0,h=(Kinetic.Tween=function(t){var e,i=this,n=t.node,s=n._id,o=t.duration||1,r=t.easing||Kinetic.Easings.Linear,a=!!t.yoyo;for(e in this.node=n,this._id=c++,this.anim=new Kinetic.Animation(function(){i.tween.onEnterFrame()},n.getLayer()),this.tween=new h(e,function(t){i._tweenFunc(t)},r,0,1,1e3*o,a),this._addListeners(),Kinetic.Tween.attrs[s]||(Kinetic.Tween.attrs[s]={}),Kinetic.Tween.attrs[s][this._id]||(Kinetic.Tween.attrs[s][this._id]={}),Kinetic.Tween.tweens[s]||(Kinetic.Tween.tweens[s]={}),t)void 0===l[e]&&this._addAttr(e,t[e]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset},Kinetic.Tween.attrs={},Kinetic.Tween.tweens={},Kinetic.Tween.prototype={_addAttr:function(t,e){var i,n,s,o,r=this.node,a=r._id,l=Kinetic.Tween.tweens[a][t];if(l&&delete Kinetic.Tween.attrs[a][l][t],i=r.getAttr(t),Kinetic.Util._isArray(e))for(n=[],o=e.length,s=0;s<o;s++)n.push(e[s]-i[s]);else n=e-i;Kinetic.Tween.attrs[a][this._id][t]={start:i,diff:n},Kinetic.Tween.tweens[a][t]=this._id},_tweenFunc:function(t){var e,i,n,s,o,r,a,l=this.node,c=Kinetic.Tween.attrs[l._id][this._id];for(e in c){if(n=(i=c[e]).start,s=i.diff,Kinetic.Util._isArray(n))for(o=[],a=n.length,r=0;r<a;r++)o.push(n[r]+s[r]*t);else o=n+s*t;l.setAttr(e,o)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){t.onFinish&&t.onFinish()},this.tween.onReset=function(){t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.node,this.tween.reset(),this},seek:function(t){return this.node,this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.node,this.tween.finish(),this},destroy:function(){var t,e=this.node._id,i=this._id,n=Kinetic.Tween.tweens[e];for(t in this.pause(),n)delete Kinetic.Tween.tweens[e][t];delete Kinetic.Tween.attrs[e][i]}},function(t,e,i,n,s,o,r){this.prop=t,this.propFunc=e,this.begin=n,this._pos=n,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=r,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=s-this.begin,this.pause()});h.prototype={fire:function(t){t=this[t];t&&t()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},pause:function(){this.state=1,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Kinetic.Easings={BackEaseIn:function(t,e,i,n){return i*(t/=n)*t*(2.70158*t-1.70158)+e},BackEaseOut:function(t,e,i,n){return i*((t=t/n-1)*t*(2.70158*t+1.70158)+1)+e},BackEaseInOut:function(t,e,i,n){var s=1.70158;return(t/=n/2)<1?i/2*t*t*((1+(s*=1.525))*t-s)+e:i/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+e},ElasticEaseIn:function(t,e,i,n,s,o){var r=0;return 0===t?e:1==(t/=n)?e+i:(o=o||.3*n,r=!s||s<Math.abs(i)?(s=i,o/4):o/(2*Math.PI)*Math.asin(i/s),-(s*Math.pow(2,10*--t)*Math.sin(2*(t*n-r)*Math.PI/o))+e)},ElasticEaseOut:function(t,e,i,n,s,o){var r=0;return 0===t?e:1==(t/=n)?e+i:(o=o||.3*n,r=!s||s<Math.abs(i)?(s=i,o/4):o/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin(2*(t*n-r)*Math.PI/o)+i+e)},ElasticEaseInOut:function(t,e,i,n,s,o){var r=0;return 0===t?e:2==(t/=n/2)?e+i:(o=o||.3*n*1.5,r=!s||s<Math.abs(i)?(s=i,o/4):o/(2*Math.PI)*Math.asin(i/s),t<1?-.5*s*Math.pow(2,10*--t)*Math.sin(2*(t*n-r)*Math.PI/o)+e:s*Math.pow(2,-10*--t)*Math.sin(2*(t*n-r)*Math.PI/o)*.5+i+e)},BounceEaseOut:function(t,e,i,n){return(t/=n)<1/2.75?7.5625*i*t*t+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,i,n){return i-Kinetic.Easings.BounceEaseOut(n-t,0,i,n)+e},BounceEaseInOut:function(t,e,i,n){return t<n/2?.5*Kinetic.Easings.BounceEaseIn(2*t,0,i,n)+e:.5*Kinetic.Easings.BounceEaseOut(2*t-n,0,i,n)+.5*i+e},EaseIn:function(t,e,i,n){return i*(t/=n)*t+e},EaseOut:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},EaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},StrongEaseOut:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,i,n){return i*t/n+e}}}(),function(){Kinetic.DD={anim:new Kinetic.Animation,isDragging:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=Kinetic.DD,i=e.node;if(i){if(!e.isDragging){var n=i.getStage().getPointerPosition(),s=i.dragDistance();if(Math.max(Math.abs(n.x-e.startPointerPos.x),Math.abs(n.y-e.startPointerPos.y))<s)return}i._setDragPosition(t),e.isDragging||(e.isDragging=!0,i.fire("dragstart",{type:"dragstart",target:i,evt:t},!0)),i.fire("dragmove",{type:"dragmove",target:i,evt:t},!0)}},_endDragBefore:function(t){var e,i=Kinetic.DD,n=i.node;n&&(n.nodeType,e=n.getLayer(),i.anim.stop(),i.isDragging&&(i.isDragging=!1,Kinetic.listenClickTap=!1,t)&&(t.dragEndNode=n),delete i.node,(e||n).draw())},_endDragAfter:function(t){var e=(t=t||{}).dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},Kinetic.Node.prototype.startDrag=function(){var t=Kinetic.DD,e=this.getStage(),i=this.getLayer(),e=e.getPointerPosition(),n=this.getAbsolutePosition();e&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=e,t.offset.x=e.x-n.x,t.offset.y=e.y-n.y,t.anim.setLayers(i||this.getLayers()),t.anim.start(),this._setDragPosition())},Kinetic.Node.prototype._setDragPosition=function(t){var e=Kinetic.DD,i=this.getStage().getPointerPosition(),n=this.getDragBoundFunc();i&&(i={x:i.x-e.offset.x,y:i.y-e.offset.y},void 0!==n&&(i=n.call(this,i,t)),this.setAbsolutePosition(i))},Kinetic.Node.prototype.stopDrag=function(){var t=Kinetic.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},Kinetic.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var e=Kinetic.Node.prototype.destroy,t=(Kinetic.Node.prototype.destroy=function(){var t=Kinetic.DD;t.node&&t.node._id===this._id&&this.stopDrag(),e.call(this)},Kinetic.Node.prototype.isDragging=function(){var t=Kinetic.DD;return t.node&&t.node._id===this._id&&t.isDragging},Kinetic.Node.prototype._listenDrag=function(){var e=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.kinetic contentTouchstart.kinetic",function(t){Kinetic.DD.node||e.startDrag(t)}):this.on("mousedown.kinetic touchstart.kinetic",function(t){Kinetic.DD.node||e.startDrag(t)})},Kinetic.Node.prototype._dragChange=function(){var t,e;this.attrs.draggable?this._listenDrag():(this._dragCleanup(),t=this.getStage(),e=Kinetic.DD,t&&e.node&&e.node._id===this._id&&e.node.stopDrag())},Kinetic.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.kinetic"),this.off("contentTouchstart.kinetic")):(this.off("mousedown.kinetic"),this.off("touchstart.kinetic"))},Kinetic.Factory.addGetterSetter(Kinetic.Node,"dragBoundFunc"),Kinetic.Factory.addGetter(Kinetic.Node,"draggable",!1),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Node,"draggable"),Kinetic.document.documentElement);t.addEventListener("mouseup",Kinetic.DD._endDragBefore,!0),t.addEventListener("touchend",Kinetic.DD._endDragBefore,!0),t.addEventListener("mouseup",Kinetic.DD._endDragAfter,!1),t.addEventListener("touchend",Kinetic.DD._endDragAfter,!1)}(),Kinetic.Util.addMethods(Kinetic.Container,{__init:function(t){this.children=new Kinetic.Collection,Kinetic.Node.call(this,t)},getChildren:function(e){var i;return e?(i=new Kinetic.Collection,this.children.each(function(t){e(t)&&i.push(t)}),i):this.children},hasChildren:function(){return 0<this.getChildren().length},removeChildren:function(){for(var t,e=Kinetic.Collection.toCollection(this.children),i=0;i<e.length;i++)delete(t=e[i]).parent,t.index=0,t.hasChildren()&&t.removeChildren(),t.remove();return e=null,this.children=new Kinetic.Collection,this},destroyChildren:function(){for(var t,e=Kinetic.Collection.toCollection(this.children),i=0;i<e.length;i++)delete(t=e[i]).parent,t.index=0,t.destroy();return e=null,this.children=new Kinetic.Collection,this},add:function(t){var e;if(!(1<arguments.length))return t.getParent()?void t.moveTo(this):(e=this.children,this._validateAdd(t),t.index=e.length,t.parent=this,e.push(t),this._fire("add",{child:t}),this);for(var i=0;i<arguments.length;i++)this.add(arguments[i])},destroy:function(){this.hasChildren()&&this.destroyChildren(),Kinetic.Node.prototype.destroy.call(this)},find:function(t){for(var e,i,n,s,o,r=[],a=t.replace(/ /g,"").split(","),l=a.length,c=0;c<l;c++)if("#"===(i=a[c]).charAt(0))(n=this._getNodeById(i.slice(1)))&&r.push(n);else if("."===i.charAt(0))n=this._getNodesByName(i.slice(1)),r=r.concat(n);else for(o=(s=this.getChildren()).length,e=0;e<o;e++)r=r.concat(s[e]._get(i));return Kinetic.Collection.toCollection(r)},_getNodeById:function(t){t=Kinetic.ids[t];return void 0!==t&&this.isAncestorOf(t)?t:null},_getNodesByName:function(t){t=Kinetic.names[t]||[];return this._getDescendants(t)},_get:function(t){for(var e=Kinetic.Node.prototype._get.call(this,t),i=this.getChildren(),n=i.length,s=0;s<n;s++)e=e.concat(i[s]._get(t));return e},toObject:function(){var t=Kinetic.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),i=e.length,n=0;n<i;n++){var s=e[n];t.children.push(s.toObject())}return t},_getDescendants:function(t){for(var e=[],i=t.length,n=0;n<i;n++){var s=t[n];this.isAncestorOf(s)&&e.push(s)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=Kinetic.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(e){var i=[];return this.find("Shape").each(function(t){t.isVisible()&&t.intersects(e)&&i.push(t)}),i},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e){var i=this.getLayer(),t=t||i&&i.getCanvas(),i=t&&t.getContext(),n=this._cache.canvas,n=n&&n.scene;return this.isVisible()&&(n?this._drawCachedSceneCanvas(i):this._drawChildren(t,"drawScene",e)),this},drawHit:function(t,e){var i=this.getLayer(),t=t||i&&i.hitCanvas,i=t&&t.getContext(),n=this._cache.canvas,n=n&&n.hit;return this.shouldDrawHit()&&(n?this._drawCachedHitCanvas(i):this._drawChildren(t,"drawHit",e)),this},_drawChildren:function(e,i,n){var t,s,o=this.getLayer(),r=e&&e.getContext(),a=this.getClipWidth(),l=this.getClipHeight(),c=a&&l;c&&o&&(t=this.getClipX(),s=this.getClipY(),r.save(),o._applyTransform(this,r),r.beginPath(),r.rect(t,s,a,l),r.clip(),r.reset()),this.children.each(function(t){t[i](e,n)}),c&&r.restore()}}),Kinetic.Util.extend(Kinetic.Container,Kinetic.Node),Kinetic.Container.prototype.get=Kinetic.Container.prototype.find,Kinetic.Factory.addComponentsGetterSetter(Kinetic.Container,"clip",["x","y","width","height"]),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipX"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipY"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipWidth"),Kinetic.Factory.addGetterSetter(Kinetic.Container,"clipHeight"),Kinetic.Collection.mapMethods(Kinetic.Container),function(){function n(t){t.fill()}function s(t){t.stroke()}function o(t){t.fill()}function r(t){t.stroke()}function a(){this._clearCache("hasShadow")}Kinetic.Util.addMethods(Kinetic.Shape,{__init:function(t){this.nodeType="Shape",this._fillFunc=n,this._strokeFunc=s,this._fillFuncHit=o,this._strokeFuncHit=r;for(var e,i=Kinetic.shapes;!(e=Kinetic.Util.getRandomColor())||e in i;);i[this.colorKey=e]=this,Kinetic.Node.call(this,t),this.on("shadowColorChange.kinetic shadowBlurChange.kinetic shadowOffsetChange.kinetic shadowOpacityChange.kinetic shadowEnabledChange.kinetic",a)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache("hasShadow",this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return!!(this.stroke()||this.strokeRed()||this.strokeGreen()||this.strokeBlue())},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},intersects:function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawScene(e),0<e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]},destroy:function(){Kinetic.Node.prototype.destroy.call(this),delete Kinetic.shapes[this.colorKey]},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasFill()&&this.hasStroke()&&this.getStage()},drawScene:function(t,e){var i,n=this.getLayer(),t=(t||n.getCanvas()).getContext(),s=this._cache.canvas,o=this.sceneFunc(),r=this.hasShadow();return this.isVisible()&&(s?this._drawCachedSceneCanvas(t):o&&(t.save(),this._useBufferCanvas()?((i=(s=this.getStage().bufferCanvas).getContext()).clear(),i.save(),i._applyLineJoin(this),n._applyTransform(this,i,e),o.call(this,i),i.restore(),r&&(t.save(),t._applyShadow(this),t.drawImage(s._canvas,0,0),t.restore()),t._applyOpacity(this),t.drawImage(s._canvas,0,0)):(t._applyLineJoin(this),n._applyTransform(this,t,e),r&&(t.save(),t._applyShadow(this),o.call(this,t),t.restore()),t._applyOpacity(this),o.call(this,t)),t.restore())),this},drawHit:function(t,e){var i=this.getLayer(),t=(t||i.hitCanvas).getContext(),n=this.hitFunc()||this.sceneFunc(),s=this._cache.canvas,s=s&&s.hit;return this.shouldDrawHit()&&(s?this._drawCachedHitCanvas(t):n&&(t.save(),t._applyLineJoin(this),i._applyTransform(this,t,e),n.call(this,t),t.restore())),this},drawHitFromCache:function(t){var e,i,n,s,o,r,a=t||0,t=this._cache.canvas,l=this._getCachedSceneCanvas(),c=l.getContext(),t=t.hit.getContext(),h=l.getWidth(),l=l.getHeight();t.clear();try{for(e=c.getImageData(0,0,h,l).data,n=(i=t.getImageData(0,0,h,l)).data,s=e.length,o=Kinetic.Util._hexToRgb(this.colorKey),r=0;r<s;r+=4)a<e[r+3]&&(n[r]=o.r,n[r+1]=o.g,n[r+2]=o.b,n[r+3]=255);t.putImageData(i,0,0)}catch(t){Kinetic.Util.warn("Unable to draw hit graph from cached scene canvas. "+t.message)}return this}}),Kinetic.Util.extend(Kinetic.Shape,Kinetic.Node),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"stroke"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeWidth",2),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineJoin"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"lineCap"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"sceneFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"hitFunc"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dash"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowColor"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowBlur"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOpacity"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"shadowOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowOffsetY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternImage"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fill"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRed",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillGreen",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillBlue",0,Kinetic.Validators.RGBComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillAlpha",1,Kinetic.Validators.alphaComponent),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientColorStops"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRepeat","repeat"),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"shadowEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"dashEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"strokeScaleEnabled",!0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPriority","color"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternOffset",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternOffsetY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillPatternScale",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleX",1),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternScaleY",1),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillLinearGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillLinearGradientEndPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientStartPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientStartPointY",0),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Shape,"fillRadialGradientEndPoint",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointX",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillRadialGradientEndPointY",0),Kinetic.Factory.addGetterSetter(Kinetic.Shape,"fillPatternRotation",0),Kinetic.Factory.backCompat(Kinetic.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),Kinetic.Collection.mapMethods(Kinetic.Shape)}(),function(){var n="mouseout",s="mouseleave",i="touchstart",e=["mousedown","mousemove","mouseup",n,i,"touchmove","touchend","mouseover"],o=e.length;Kinetic.Util.addMethods(Kinetic.Stage,{___init:function(t){this.nodeType="Stage",Kinetic.Container.call(this,t),this._id=Kinetic.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Kinetic.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&Kinetic.Util.error("You may only add layers to the stage.")},setContainer:function(t){if("string"==typeof t){var e=t;if(!(t=Kinetic.document.getElementById(t)))throw"Can not find container in document with id "+e}return this._setAttr("container",t),this},shouldDrawHit:function(){return!0},draw:function(){return Kinetic.Node.prototype.draw.call(this),this},setHeight:function(t){return Kinetic.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return Kinetic.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){for(var t=this.children,e=t.length,i=0;i<e;i++)t[i].clear();return this},clone:function(t){return(t=t||{}).container=Kinetic.document.createElement("div"),Kinetic.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content,t=(Kinetic.Container.prototype.destroy.call(this),t&&Kinetic.Util._isInDocument(t)&&this.getContainer().removeChild(t),Kinetic.stages.indexOf(this));-1<t&&Kinetic.stages.splice(t,1)},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(s){var o=(s=s||{}).mimeType||null,r=s.quality||null,t=s.x||0,e=s.y||0,a=new Kinetic.SceneCanvas({width:s.width||this.getWidth(),height:s.height||this.getHeight(),pixelRatio:1}),l=a.getContext()._context,c=this.children;(t||e)&&l.translate(-1*t,-1*e),function t(e){var i=c[e].toDataURL(),n=new Kinetic.window.Image;n.onload=function(){l.drawImage(n,0,0),e<c.length-1?t(e+1):s.callback(a.toDataURL(o,r))},n.src=i}(0)},toImage:function(t){var e=t.callback;t.callback=function(t){Kinetic.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t){for(var e,i=this.getChildren(),n=i.length-1;0<=n;n--)if(e=i[n].getIntersection(t))return e;return null},_resizeDOM:function(){if(this.content){var t,e,i=this.getWidth(),n=this.getHeight(),s=this.getChildren(),o=s.length;for(this.content.style.width=i+"px",this.content.style.height=n+"px",this.bufferCanvas.setSize(i,n),this.bufferHitCanvas.setSize(i,n),t=0;t<o;t++)(e=s[t]).getCanvas().setSize(i,n),e.hitCanvas.setSize(i,n),e.draw()}},add:function(t){if(!(1<arguments.length))return Kinetic.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this;for(var e=0;e<arguments.length;e++)this.add(arguments[e])},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var t=0;t<o;t++)!function(e,i){e.content.addEventListener(i,function(t){e["_"+i](t)},!1)}(this,e[t])},_mouseover:function(t){Kinetic.UA.mobile||(this._setPointerPosition(t),this._fire("contentMouseover",{evt:t}))},_mouseout:function(t){var e;Kinetic.UA.mobile||(this._setPointerPosition(t),(e=this.targetShape)&&!Kinetic.isDragging()&&(e._fireAndBubble(n,{evt:t}),e._fireAndBubble(s,{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire("contentMouseout",{evt:t}))},_mousemove:function(t){var e,i;Kinetic.UA.mobile||(this._setPointerPosition(t),e=Kinetic.DD,(i=this.getIntersection(this.getPointerPosition()))&&i.isListening()?Kinetic.isDragging()||this.targetShape&&this.targetShape._id===i._id?i._fireAndBubble("mousemove",{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble(n,{evt:t},i),this.targetShape._fireAndBubble(s,{evt:t},i)),i._fireAndBubble("mouseover",{evt:t},this.targetShape),i._fireAndBubble("mouseenter",{evt:t},this.targetShape),this.targetShape=i):this.targetShape&&!Kinetic.isDragging()&&(this.targetShape._fireAndBubble(n,{evt:t}),this.targetShape._fireAndBubble(s,{evt:t}),this.targetShape=null),this._fire("contentMousemove",{evt:t}),e&&e._drag(t)),t.preventDefault&&t.preventDefault()},_mousedown:function(t){var e;Kinetic.UA.mobile||(this._setPointerPosition(t),e=this.getIntersection(this.getPointerPosition()),Kinetic.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e)._fireAndBubble("mousedown",{evt:t}),this._fire("contentMousedown",{evt:t})),t.preventDefault&&t.preventDefault()},_mouseup:function(t){var e,i,n;Kinetic.UA.mobile||(this._setPointerPosition(t),e=this.getIntersection(this.getPointerPosition()),i=this.clickStartShape,n=!1,Kinetic.inDblClickWindow?Kinetic.inDblClickWindow=!(n=!0):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble("mouseup",{evt:t}),Kinetic.listenClickTap)&&i&&i._id===e._id&&(e._fireAndBubble("click",{evt:t}),n)&&e._fireAndBubble("dblclick",{evt:t}),this._fire("contentMouseup",{evt:t}),Kinetic.listenClickTap&&(this._fire("contentClick",{evt:t}),n)&&this._fire("contentDblclick",{evt:t}),Kinetic.listenClickTap=!1),t.preventDefault&&t.preventDefault()},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Kinetic.listenClickTap=!0,e&&e.isListening()&&((this.tapStartShape=e)._fireAndBubble(i,{evt:t}),e.isListening())&&t.preventDefault&&t.preventDefault(),this._fire("contentTouchstart",{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),i=!1;Kinetic.inDblClickWindow?Kinetic.inDblClickWindow=!(i=!0):Kinetic.inDblClickWindow=!0,setTimeout(function(){Kinetic.inDblClickWindow=!1},Kinetic.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble("touchend",{evt:t}),Kinetic.listenClickTap&&e._id===this.tapStartShape._id&&(e._fireAndBubble("tap",{evt:t}),i)&&e._fireAndBubble("dbltap",{evt:t}),e.isListening())&&t.preventDefault&&t.preventDefault(),Kinetic.listenClickTap&&(this._fire("contentTouchend",{evt:t}),i)&&this._fire("contentDbltap",{evt:t}),Kinetic.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e=Kinetic.DD,i=this.getIntersection(this.getPointerPosition());i&&i.isListening()&&(i._fireAndBubble("touchmove",{evt:t}),i.isListening())&&t.preventDefault&&t.preventDefault(),this._fire("contentTouchmove",{evt:t}),e&&e._drag(t)},_setPointerPosition:function(t){var e,i=this._getContentPosition(),n=t.offsetX,s=t.clientX,o=null,r=null;void 0!==(t=t||window.event).touches?0<t.touches.length&&(o=(e=t.touches[0]).clientX-i.left,r=e.clientY-i.top):void 0!==n?(o=n,r=t.offsetY):"mozilla"===Kinetic.UA.browser?(o=t.layerX,r=t.layerY):void 0!==s&&i&&(o=s-i.left,r=t.clientY-i.top),null!==o&&null!==r&&(this.pointerPos={x:o,y:r})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(Kinetic.Util.isBrowser())throw"Stage has not container. But container is required";t=Kinetic.document.createElement("div")}t.innerHTML="",this.content=Kinetic.document.createElement("div"),this.content.style.position="relative",this.content.style.display="inline-block",this.content.className="kineticjs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new Kinetic.SceneCanvas({pixelRatio:1}),this.bufferHitCanvas=new Kinetic.HitCanvas,this._resizeDOM()},_onContent:function(t,e){for(var i,n=t.split(" "),s=n.length,o=0;o<s;o++)i=n[o],this.content.addEventListener(i,e,!1)},cache:function(){Kinetic.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Kinetic.Util.extend(Kinetic.Stage,Kinetic.Container),Kinetic.Factory.addGetter(Kinetic.Stage,"container"),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Stage,"container")}(),Kinetic.Util.addMethods(Kinetic.BaseLayer,{___init:function(t){this.nodeType="Layer",Kinetic.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},setZIndex:function(t){Kinetic.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Kinetic.Node.prototype.moveToTop.call(this);var t=this.getStage();t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas))},moveUp:function(){var t;Kinetic.Node.prototype.moveUp.call(this)&&(t=this.getStage())&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.getChildren().length-1?t.content.insertBefore(this.getCanvas()._canvas,t.getChildren()[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas))},moveDown:function(){var t,e;Kinetic.Node.prototype.moveDown.call(this)&&(t=this.getStage())&&(e=t.getChildren(),t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas))},moveToBottom:function(){var t,e;Kinetic.Node.prototype.moveToBottom.call(this)&&(t=this.getStage())&&(e=t.getChildren(),t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas))},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return Kinetic.Node.prototype.remove.call(this),t&&t.parentNode&&Kinetic.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent}}),Kinetic.Util.extend(Kinetic.BaseLayer,Kinetic.Container),Kinetic.Factory.addGetterSetter(Kinetic.BaseLayer,"clearBeforeDraw",!0),Kinetic.Collection.mapMethods(Kinetic.BaseLayer),function(){var s=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],o=s.length;Kinetic.Util.addMethods(Kinetic.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,this.hitCanvas=new Kinetic.HitCanvas,Kinetic.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){t=t.getType();"Group"!==t&&"Shape"!==t&&Kinetic.Util.error("You may only add groups and shapes to a layer.")},getIntersection:function(t){var e,i,n;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(e=0;e<o;e++){if(n=(i=this._getIntersection({x:t.x+(i=s[e]).x,y:t.y+i.y})).shape)return n;if(!i.antialiased)return null}},_getIntersection:function(t){var t=this.hitCanvas.context._context.getImageData(t.x,t.y,1,1).data,e=t[3];return 255===e?(t=Kinetic.Util._rgbToHex(t[0],t[1],t[2]),{shape:Kinetic.shapes["#"+t]}):0<e?{antialiased:!0}:{}},drawScene:function(t,e){var i=this.getLayer(),t=t||i&&i.getCanvas();return this._fire("beforeDraw",{node:this}),this.getClearBeforeDraw()&&t.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,t,e),this._fire("draw",{node:this}),this},_applyTransform:function(t,e,i){t=t.getAbsoluteTransform(i).getMatrix();e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},drawHit:function(t,e){var i=this.getLayer(),t=t||i&&i.hitCanvas;return i&&i.getClearBeforeDraw()&&i.getHitCanvas().getContext().clear(),Kinetic.Container.prototype.drawHit.call(this,t,e),this},clear:function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},setVisible:function(t){return Kinetic.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),this}}),Kinetic.Util.extend(Kinetic.Layer,Kinetic.BaseLayer),Kinetic.Factory.addGetterSetter(Kinetic.Layer,"hitGraphEnabled",!0),Kinetic.Collection.mapMethods(Kinetic.Layer)}(),Kinetic.Util.addMethods(Kinetic.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new Kinetic.SceneCanvas,Kinetic.BaseLayer.call(this,t)},_validateAdd:function(t){"Shape"!==t.getType()&&Kinetic.Util.error("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),t=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&t.getContext().clear(),Kinetic.Container.prototype.drawScene.call(this,t),this},_applyTransform:function(t,e,i){i&&i._id===this._id||(i=t.getTransform().getMatrix(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]))},draw:function(){return this.drawScene(),this},clear:function(t){return this.getContext().clear(t),this},setVisible:function(t){return Kinetic.Node.prototype.setVisible.call(this,t),this.getCanvas()._canvas.style.display=t?"block":"none",this}}),Kinetic.Util.extend(Kinetic.FastLayer,Kinetic.BaseLayer),Kinetic.Collection.mapMethods(Kinetic.FastLayer),Kinetic.Util.addMethods(Kinetic.Group,{___init:function(t){this.nodeType="Group",Kinetic.Container.call(this,t)},_validateAdd:function(t){t=t.getType();"Group"!==t&&"Shape"!==t&&Kinetic.Util.error("You may only add groups and shapes to groups.")}}),Kinetic.Util.extend(Kinetic.Group,Kinetic.Container),Kinetic.Collection.mapMethods(Kinetic.Group),Kinetic.Rect=function(t){this.___init(t)},Kinetic.Rect.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),i=this.getWidth(),n=this.getHeight();t.beginPath(),e?(t.moveTo(e,0),t.lineTo(i-e,0),t.arc(i-e,e,e,3*Math.PI/2,0,!1),t.lineTo(i,n-e),t.arc(i-e,n-e,e,0,Math.PI/2,!1),t.lineTo(e,n),t.arc(e,n-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,i,n),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Rect,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Rect,"cornerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Rect),function(){var e=2*Math.PI-1e-4;Kinetic.Circle=function(t){this.___init(t)},Kinetic.Circle.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Circle",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,e,!1),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.setRadius(t/2)},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.setRadius(t/2)}},Kinetic.Util.extend(Kinetic.Circle,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Circle,"radius",0),Kinetic.Collection.mapMethods(Kinetic.Circle)}(),function(){var n=2*Math.PI-1e-4;Kinetic.Ellipse=function(t){this.___init(t)},Kinetic.Ellipse.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Ellipse",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getRadius(),i=e.x,e=e.y;t.beginPath(),t.save(),i!==e&&t.scale(1,e/i),t.arc(0,0,i,0,n,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius().x},getHeight:function(){return 2*this.getRadius().y},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},Kinetic.Util.extend(Kinetic.Ellipse,Kinetic.Shape),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Ellipse,"radius",["x","y"]),Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusX",0),Kinetic.Factory.addGetterSetter(Kinetic.Ellipse,"radiusY",0),Kinetic.Collection.mapMethods(Kinetic.Ellipse)}(),function(){var e=2*Math.PI-1e-4;Kinetic.Ring=function(t){this.___init(t)},Kinetic.Ring.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getInnerRadius(),0,e,!1),t.moveTo(this.getOuterRadius(),0),t.arc(0,0,this.getOuterRadius(),e,0,!0),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Kinetic.Node.prototype.setWidth.call(this,t),this.setOuterRadius(t/2)},setHeight:function(t){Kinetic.Node.prototype.setHeight.call(this,t),this.setOuterRadius(t/2)}},Kinetic.Util.extend(Kinetic.Ring,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Ring,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Ring,"outerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Ring)}(),Kinetic.Wedge=function(t){this.___init(t)},Kinetic.Wedge.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,Kinetic.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Wedge,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"radius",0),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"angle",0),Kinetic.Factory.addGetterSetter(Kinetic.Wedge,"clockwise",!1),Kinetic.Factory.backCompat(Kinetic.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Kinetic.Collection.mapMethods(Kinetic.Wedge),Math.PI,Kinetic.Arc=function(t){this.___init(t)},Kinetic.Arc.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=Kinetic.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,i),t.arc(0,0,this.getInnerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Arc,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"outerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"angle",0),Kinetic.Factory.addGetterSetter(Kinetic.Arc,"clockwise",!1),Kinetic.Collection.mapMethods(Kinetic.Arc),Kinetic.Image=function(t){this.___init(t)},Kinetic.Image.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Image",this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_sceneFunc:function(t){var e,i,n,s=this.getWidth(),o=this.getHeight(),r=this.getImage();r&&(e=(n=this.getCrop()).width,i=n.height,n=e&&i?[r,n.x,n.y,e,i,0,0,s,o]:[r,0,0,s,o]),t.beginPath(),t.rect(0,0,s,o),t.closePath(),t.fillStrokeShape(this),r&&t.drawImage.apply(t,n)},_hitFunc:function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},Kinetic.Util.extend(Kinetic.Image,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Image,"image"),Kinetic.Factory.addComponentsGetterSetter(Kinetic.Image,"crop",["x","y","width","height"]),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropX",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropY",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropWidth",0),Kinetic.Factory.addGetterSetter(Kinetic.Image,"cropHeight",0),Kinetic.Collection.mapMethods(Kinetic.Image),function(){function i(t){t.fillText(this.partialText,0,0)}function n(t){t.strokeText(this.partialText,0,0)}var T="auto",s=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap"],o=s.length,D=Kinetic.Util.createCanvasElement().getContext("2d");Kinetic.Text=function(t){this.___init(t)},Kinetic.Text.prototype={___init:function(t){void 0===t.width&&(t.width=T),void 0===t.height&&(t.height=T),Kinetic.Shape.call(this,t),this._fillFunc=i,this._strokeFunc=n,this.className="Text";for(var e=0;e<o;e++)this.on(s[e]+"Change.kinetic",this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,i=this.getPadding(),n=this.getTextHeight(),s=this.getLineHeight()*n,o=this.textArr,r=o.length,a=this.getWidth();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save(),t.translate(i,0),t.translate(0,i+n/2),e=0;e<r;e++){var l=o[e],c=l.text,l=l.width;t.save(),"right"===this.getAlign()?t.translate(a-l-2*i,0):"center"===this.getAlign()&&t.translate((a-l-2*i)/2,0),this.partialText=c,t.fillStrokeShape(this),t.restore(),t.translate(0,s)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)},setText:function(t){t=Kinetic.Util._isString(t)?t:t.toString();return this._setAttr("text",t),this},getWidth:function(){return this.attrs.width===T?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){return this.attrs.height===T?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e=D,i=this.getFontSize();return e.save(),e.font=this._getContextFont(),t=e.measureText(t),e.restore(),{width:t.width,height:parseInt(i,10)}},_getContextFont:function(){return this.getFontStyle()+" "+this.getFontVariant()+" "+this.getFontSize()+"px "+this.getFontFamily()},_addTextLine:function(t,e){return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){return D.measureText(t).width},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),i=0,n=this.getLineHeight()*e,s=this.attrs.width,o=this.attrs.height,r=s!==T,a=o!==T,l=this.getPadding(),c=s-2*l,h=o-2*l,d=0,s=this.getWrap(),u="none"!==s,p="char"!==s&&u;this.textArr=[],D.save(),D.font=this._getContextFont();for(var f=0,g=t.length;f<g;++f){var m=t[f],v=this._getTextWidth(m);if(r&&c<v)for(;0<m.length;){for(var y,w=0,b=m.length,x="",_=0;w<b;){var C=w+b>>>1,S=m.slice(0,1+C),k=this._getTextWidth(S);k<=c?(w=1+C,x=S,_=k):b=C}if(!x)break;if(p&&0<(y=Math.max(x.lastIndexOf(" "),x.lastIndexOf("-"))+1)&&(x=x.slice(0,w=y),_=this._getTextWidth(x)),this._addTextLine(x,_),i=Math.max(i,_),d+=n,!u||a&&h<d+n)break;if(0<(m=m.slice(w)).length&&(v=this._getTextWidth(m))<=c){this._addTextLine(m,v),d+=n,i=Math.max(i,v);break}}else this._addTextLine(m,v),d+=n,i=Math.max(i,v);if(a&&h<d+n)break}D.restore(),this.textHeight=e,this.textWidth=i}},Kinetic.Util.extend(Kinetic.Text,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Text,"fontVariant","normal"),Kinetic.Factory.addGetterSetter(Kinetic.Text,"padding",0),Kinetic.Factory.addGetterSetter(Kinetic.Text,"align","left"),Kinetic.Factory.addGetterSetter(Kinetic.Text,"lineHeight",1),Kinetic.Factory.addGetterSetter(Kinetic.Text,"wrap","word"),Kinetic.Factory.addGetter(Kinetic.Text,"text",""),Kinetic.Factory.addOverloadedGetterSetter(Kinetic.Text,"text"),Kinetic.Collection.mapMethods(Kinetic.Text)}(),Kinetic.Line=function(t){this.___init(t)},Kinetic.Line.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Line",this.on("pointsChange.kinetic tensionChange.kinetic closedChange.kinetic",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,i,n,s=this.getPoints(),o=s.length,r=this.getTension(),a=this.getClosed();if(t.beginPath(),t.moveTo(s[0],s[1]),0!==r&&4<o){for(i=(e=this.getTensionPoints()).length,n=a?0:4,a||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);n<i-2;)t.bezierCurveTo(e[n++],e[n++],e[n++],e[n++],e[n++],e[n++]);a||t.quadraticCurveTo(e[i-2],e[i-1],s[o-2],s[o-1])}else for(n=2;n<o;n+=2)t.lineTo(s[n],s[n+1]);a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Kinetic.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,i=this.getTension(),n=Kinetic.Util,s=n._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),n=n._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),i=Kinetic.Util._expandPoints(t,i);return[s[2],s[3]].concat(i).concat([n[0],n[1],t[e-2],t[e-1],n[2],n[3],s[0],s[1],t[0],t[1]])}},Kinetic.Util.extend(Kinetic.Line,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Line,"closed",!1),Kinetic.Factory.addGetterSetter(Kinetic.Line,"tension",0),Kinetic.Factory.addGetterSetter(Kinetic.Line,"points"),Kinetic.Collection.mapMethods(Kinetic.Line),Kinetic.Sprite=function(t){this.___init(t)},Kinetic.Sprite.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Sprite",this.anim=new Kinetic.Animation,this.on("animationChange.kinetic",function(){this.frameIndex(0)}),this.on("frameRateChange.kinetic",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),i=4*this.frameIndex(),e=this.getAnimations()[e],n=e[0+i],s=e[1+i],o=e[2+i],e=e[3+i],i=this.getImage();i&&t.drawImage(i,n,s,o,e,0,0,o,e)},_hitFunc:function(t){var e=this.getAnimation(),i=4*this.frameIndex(),e=this.getAnimations()[e],n=e[2+i],e=e[3+i];t.beginPath(),t.rect(0,0,n,e),t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation(),e=this.getAnimations()[e].length/4;this.frameIndex(t<e-1?t+1:0)}},Kinetic.Util.extend(Kinetic.Sprite,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animation"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"animations"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"image"),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameIndex",0),Kinetic.Factory.addGetterSetter(Kinetic.Sprite,"frameRate",17),Kinetic.Factory.backCompat(Kinetic.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Kinetic.Collection.mapMethods(Kinetic.Sprite),Kinetic.Path=function(t){this.___init(t)},Kinetic.Path.prototype={___init:function(t){this.dataArray=[];var e=this;Kinetic.Shape.call(this,t),this.className="Path",this.dataArray=Kinetic.Path.parsePathData(this.getData()),this.on("dataChange.kinetic",function(){e.dataArray=Kinetic.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray,i=!1;t.beginPath();for(var n=0;n<e.length;n++){var s=e[n].command,o=e[n].points;switch(s){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var r=o[0],a=o[1],l=o[2],c=o[3],h=o[4],d=o[5],u=o[6],p=o[7],f=c<l?l:c,g=c<l?1:l/c,c=c<l?c/l:1;t.translate(r,a),t.rotate(u),t.scale(g,c),t.arc(0,0,f,h,h+d,1-p),t.scale(1/g,1/c),t.rotate(-u),t.translate(-r,-a);break;case"z":t.closePath(),i=!0}}i?t.fillStrokeShape(this):t.strokeShape(this)}},Kinetic.Util.extend(Kinetic.Path,Kinetic.Shape),Kinetic.Path.getLineLength=function(t,e,i,n){return Math.sqrt((i-t)*(i-t)+(n-e)*(n-e))},Kinetic.Path.getPointOnLine=function(t,e,i,n,s,o,r){void 0===o&&(o=e),void 0===r&&(r=i);var a=(s-i)/(n-e+1e-8),l=Math.sqrt(t*t/(1+a*a));n<e&&(l*=-1);var c,h=a*l;if(n===e)c={x:o,y:r+h};else if((r-i)/(o-e+1e-8)==a)c={x:o+l,y:r+h};else{h=this.getLineLength(e,i,n,s);if(h<1e-8)return;var d=(o-e)*(n-e)+(r-i)*(s-i),h=this.getLineLength(o,r,o=e+(d/=h*h)*(n-e),r=i+d*(s-i)),d=Math.sqrt(t*t-h*h),l=Math.sqrt(d*d/(1+a*a));n<e&&(l*=-1),c={x:o+l,y:r+a*l}}return c},Kinetic.Path.getPointOnCubicBezier=function(t,e,i,n,s,o,r,a,l){function c(t){return t*t*t}function h(t){return 3*t*t*(1-t)}function d(t){return 3*t*(1-t)*(1-t)}function u(t){return(1-t)*(1-t)*(1-t)}return{x:a*c(t)+o*h(t)+n*d(t)+e*u(t),y:l*c(t)+r*h(t)+s*d(t)+i*u(t)}},Kinetic.Path.getPointOnQuadraticBezier=function(t,e,i,n,s,o,r){function a(t){return t*t}function l(t){return 2*t*(1-t)}function c(t){return(1-t)*(1-t)}return{x:o*a(t)+n*l(t)+e*c(t),y:r*a(t)+s*l(t)+i*c(t)}},Kinetic.Path.getPointOnEllipticalArc=function(t,e,i,n,s,o){var r=Math.cos(o),o=Math.sin(o),i=i*Math.cos(s),n=n*Math.sin(s);return{x:t+(i*r-n*o),y:e+(i*o+n*r)}},Kinetic.Path.parsePathData=function(t){if(!t)return[];for(var e=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],i=(i=t).replace(new RegExp(" ","g"),","),n=0;n<e.length;n++)i=i.replace(new RegExp(e[n],"g"),"|"+e[n]);for(var s=i.split("|"),o=[],r=0,a=0,n=1;n<s.length;n++){var l=s[n],c=l.charAt(0),h=(l=(l=(l=(l=l.slice(1)).replace(new RegExp(",-","g"),"-")).replace(new RegExp("-","g"),",-")).replace(new RegExp("e,-","g"),"e-")).split(",");0<h.length&&""===h[0]&&h.shift();for(var d=0;d<h.length;d++)h[d]=parseFloat(h[d]);for(;0<h.length&&!isNaN(h[0]);){var u,p,f,g,m,v,y,w,b,x,_=null,C=[],S=r,k=a;switch(c){case"l":r+=h.shift(),a+=h.shift(),_="L",C.push(r,a);break;case"L":r=h.shift(),a=h.shift(),C.push(r,a);break;case"m":var T=h.shift(),D=h.shift();if(r+=T,a+=D,_="M",2<o.length&&"z"===o[o.length-1].command)for(var F=o.length-2;0<=F;F--)if("M"===o[F].command){r=o[F].points[0]+T,a=o[F].points[1]+D;break}C.push(r,a),c="l";break;case"M":r=h.shift(),a=h.shift(),_="M",C.push(r,a),c="L";break;case"h":r+=h.shift(),_="L",C.push(r,a);break;case"H":r=h.shift(),_="L",C.push(r,a);break;case"v":a+=h.shift(),_="L",C.push(r,a);break;case"V":a=h.shift(),_="L",C.push(r,a);break;case"C":C.push(h.shift(),h.shift(),h.shift(),h.shift()),r=h.shift(),a=h.shift(),C.push(r,a);break;case"c":C.push(r+h.shift(),a+h.shift(),r+h.shift(),a+h.shift()),r+=h.shift(),a+=h.shift(),_="C",C.push(r,a);break;case"S":p=r,f=a,"C"===(u=o[o.length-1]).command&&(p=r+(r-u.points[2]),f=a+(a-u.points[3])),C.push(p,f,h.shift(),h.shift()),r=h.shift(),a=h.shift(),_="C",C.push(r,a);break;case"s":p=r,f=a,"C"===(u=o[o.length-1]).command&&(p=r+(r-u.points[2]),f=a+(a-u.points[3])),C.push(p,f,r+h.shift(),a+h.shift()),r+=h.shift(),a+=h.shift(),_="C",C.push(r,a);break;case"Q":C.push(h.shift(),h.shift()),r=h.shift(),a=h.shift(),C.push(r,a);break;case"q":C.push(r+h.shift(),a+h.shift()),r+=h.shift(),a+=h.shift(),_="Q",C.push(r,a);break;case"T":p=r,f=a,"Q"===(u=o[o.length-1]).command&&(p=r+(r-u.points[0]),f=a+(a-u.points[1])),r=h.shift(),a=h.shift(),_="Q",C.push(p,f,r,a);break;case"t":p=r,f=a,"Q"===(u=o[o.length-1]).command&&(p=r+(r-u.points[0]),f=a+(a-u.points[1])),r+=h.shift(),a+=h.shift(),_="Q",C.push(p,f,r,a);break;case"A":g=h.shift(),m=h.shift(),v=h.shift(),y=h.shift(),w=h.shift(),b=r,x=a,r=h.shift(),a=h.shift(),_="A",C=this.convertEndpointToCenterParameterization(b,x,r,a,y,w,g,m,v);break;case"a":g=h.shift(),m=h.shift(),v=h.shift(),y=h.shift(),w=h.shift(),b=r,x=a,r+=h.shift(),a+=h.shift(),_="A",C=this.convertEndpointToCenterParameterization(b,x,r,a,y,w,g,m,v)}o.push({command:_||c,points:C,start:{x:S,y:k},pathLength:this.calcLength(S,k,_||c,C)})}"z"!==c&&"Z"!==c||o.push({command:"z",points:[],start:void 0,pathLength:0})}return o},Kinetic.Path.calcLength=function(t,e,i,n){var s,o,r,a=Kinetic.Path;switch(i){case"L":return a.getLineLength(t,e,n[0],n[1]);case"C":for(s=a.getPointOnCubicBezier(l=0,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),r=.01;r<=1;r+=.01)o=a.getPointOnCubicBezier(r,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),l+=a.getLineLength(s.x,s.y,o.x,o.y),s=o;return l;case"Q":for(s=a.getPointOnQuadraticBezier(l=0,t,e,n[0],n[1],n[2],n[3]),r=.01;r<=1;r+=.01)o=a.getPointOnQuadraticBezier(r,t,e,n[0],n[1],n[2],n[3]),l+=a.getLineLength(s.x,s.y,o.x,o.y),s=o;return l;case"A":var l=0,c=n[4],h=n[5],d=n[4]+h,u=Math.PI/180;if(Math.abs(c-d)<u&&(u=Math.abs(c-d)),s=a.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),h<0)for(r=c-u;d<r;r-=u)o=a.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],r,0),l+=a.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(r=c+u;r<d;r+=u)o=a.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],r,0),l+=a.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=a.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],d,0),l+a.getLineLength(s.x,s.y,o.x,o.y)}return 0},Kinetic.Path.convertEndpointToCenterParameterization=function(t,e,i,n,s,o,r,a,l){function c(t,e){return(t[0]*e[0]+t[1]*e[1])/(f(t)*f(e))}function h(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(c(t,e))}var l=l*(Math.PI/180),d=Math.cos(l)*(t-i)/2+Math.sin(l)*(e-n)/2,u=-1*Math.sin(l)*(t-i)/2+Math.cos(l)*(e-n)/2,p=d*d/(r*r)+u*u/(a*a),p=(1<p&&(r*=Math.sqrt(p),a*=Math.sqrt(p)),Math.sqrt((r*r*a*a-r*r*u*u-a*a*d*d)/(r*r*u*u+a*a*d*d))),s=(s===o&&(p*=-1),(p=isNaN(p)?0:p)*r*u/a),p=p*-a*d/r,t=(t+i)/2+Math.cos(l)*s-Math.sin(l)*p,i=(e+n)/2+Math.sin(l)*s+Math.cos(l)*p,f=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},e=h([1,0],[(d-s)/r,(u-p)/a]),n=[(d-s)/r,(u-p)/a],d=[(-1*d-s)/r,(-1*u-p)/a],s=h(n,d);return c(n,d)<=-1&&(s=Math.PI),1<=c(n,d)&&(s=0),0===o&&0<s&&(s-=2*Math.PI),1===o&&s<0&&(s+=2*Math.PI),[t,i,r,a,e,s,l,o]},Kinetic.Factory.addGetterSetter(Kinetic.Path,"data"),Kinetic.Collection.mapMethods(Kinetic.Path),function(){function i(t){t.fillText(this.partialText,0,0)}function n(t){t.strokeText(this.partialText,0,0)}Kinetic.TextPath=function(t){this.___init(t)},Kinetic.TextPath.prototype={___init:function(t){var e=this;this.dummyCanvas=Kinetic.Util.createCanvasElement(),this.dataArray=[],Kinetic.Shape.call(this,t),this._fillFunc=i,this._strokeFunc=n,this._fillFuncHit=i,this._strokeFuncHit=n,this.className="TextPath",this.dataArray=Kinetic.Path.parsePathData(this.attrs.data),this.on("dataChange.kinetic",function(){e.dataArray=Kinetic.Path.parsePathData(this.attrs.data)}),this.on("textChange.kinetic textStroke.kinetic textStrokeWidth.kinetic",e._setTextData),e._setTextData(),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),t.save();for(var e=this.glyphInfo,i=0;i<e.length;i++){t.save();var n=e[i].p0;t.translate(n.x,n.y),t.rotate(e[i].rotation),this.partialText=e[i].text,t.fillStrokeShape(this),t.restore()}t.restore()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){Kinetic.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas.getContext("2d"),t=(e.save(),e.font=this._getContextFont(),e.measureText(t));return e.restore(),{width:t.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var c=this,t=this._getTextSize(this.attrs.text);this.textWidth=t.width,this.textHeight=t.height,this.glyphInfo=[];for(var h,d,u,e=this.attrs.text.split(""),i=-1,p=0,f=function(){p=0;for(var t=c.dataArray,e=i+1;e<t.length;e++){if(0<t[e].pathLength)return t[i=e];"M"==t[e].command&&(h={x:t[e].points[0],y:t[e].points[1]})}return{}},n=0;n<e.length&&(function(t){var e=c._getTextSize(t).width,i=0,n=0;for(d=void 0;.01<Math.abs(e-i)/e&&n<25;){n++;for(var s=i;void 0===u;)(u=f())&&s+u.pathLength<e&&(s+=u.pathLength,u=void 0);if(u==={}||void 0===h)return;var o=!1;switch(u.command){case"L":Kinetic.Path.getLineLength(h.x,h.y,u.points[0],u.points[1])>e?d=Kinetic.Path.getPointOnLine(e,h.x,h.y,u.points[0],u.points[1],h.x,h.y):u=void 0;break;case"A":var r=u.points[4],a=u.points[5],l=u.points[4]+a;0===p?p=r+1e-8:i<e?p+=Math.PI/180*a/Math.abs(a):p-=Math.PI/360*a/Math.abs(a),(a<0&&p<l||0<=a&&l<p)&&(p=l,o=!0),d=Kinetic.Path.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],p,u.points[6]);break;case"C":0===p?p=e>u.pathLength?1e-8:e/u.pathLength:i<e?p+=(e-i)/u.pathLength:p-=(i-e)/u.pathLength,1<p&&(p=1,o=!0),d=Kinetic.Path.getPointOnCubicBezier(p,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);break;case"Q":0===p?p=e/u.pathLength:i<e?p+=(e-i)/u.pathLength:p-=(i-e)/u.pathLength,1<p&&(p=1,o=!0),d=Kinetic.Path.getPointOnQuadraticBezier(p,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3])}void 0!==d&&(i=Kinetic.Path.getLineLength(h.x,h.y,d.x,d.y)),o&&(o=!1,u=void 0)}}(e[n]),void 0!==h)&&void 0!==d;n++){var s=Kinetic.Path.getLineLength(h.x,h.y,d.x,d.y),s=Kinetic.Path.getPointOnLine(0+s/2,h.x,h.y,d.x,d.y),o=Math.atan2(d.y-h.y,d.x-h.x);this.glyphInfo.push({transposeX:s.x,transposeY:s.y,text:e[n],rotation:o,p0:h,p1:d}),h=d}}},Kinetic.TextPath.prototype._getContextFont=Kinetic.Text.prototype._getContextFont,Kinetic.Util.extend(Kinetic.TextPath,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontFamily","Arial"),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontSize",12),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontStyle","normal"),Kinetic.Factory.addGetterSetter(Kinetic.TextPath,"fontVariant","normal"),Kinetic.Factory.addGetter(Kinetic.TextPath,"text",""),Kinetic.Collection.mapMethods(Kinetic.TextPath)}(),Kinetic.RegularPolygon=function(t){this.___init(t)},Kinetic.RegularPolygon.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,i,n,s=this.attrs.sides,o=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-o),e=1;e<s;e++)i=o*Math.sin(2*e*Math.PI/s),n=-1*o*Math.cos(2*e*Math.PI/s),t.lineTo(i,n);t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.RegularPolygon,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"radius",0),Kinetic.Factory.addGetterSetter(Kinetic.RegularPolygon,"sides",0),Kinetic.Collection.mapMethods(Kinetic.RegularPolygon),Kinetic.Star=function(t){this.___init(t)},Kinetic.Star.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),i=this.outerRadius(),n=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var s=1;s<2*n;s++){var o=s%2==0?i:e,r=o*Math.sin(s*Math.PI/n),o=-1*o*Math.cos(s*Math.PI/n);t.lineTo(r,o)}t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Star,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Star,"numPoints",5),Kinetic.Factory.addGetterSetter(Kinetic.Star,"innerRadius",0),Kinetic.Factory.addGetterSetter(Kinetic.Star,"outerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Star),function(){var s=["fontFamily","fontSize","fontStyle","padding","lineHeight","text"],o=s.length;Kinetic.Label=function(t){this.____init(t)},Kinetic.Label.prototype={____init:function(t){var e=this;this.className="Label",Kinetic.Group.call(this,t),this.on("add.kinetic",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(t){function e(){i._sync()}for(var i=this,n=0;n<o;n++)t.on(s[n]+"Change.kinetic",e)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,i,n,s,o,r,a=this.getText(),l=this.getTag();if(a&&l){switch(t=a.getWidth(),e=a.getHeight(),i=l.getPointerDirection(),n=l.getPointerWidth(),r=l.getPointerHeight(),o=s=0,i){case"up":s=t/2,o=-1*r;break;case"right":s=t+n,o=e/2;break;case"down":s=t/2,o=e+r;break;case"left":s=-1*n,o=e/2}l.setAttrs({x:-1*s,y:-1*o,width:t,height:e}),a.setAttrs({x:-1*s,y:-1*o})}}},Kinetic.Util.extend(Kinetic.Label,Kinetic.Group),Kinetic.Collection.mapMethods(Kinetic.Label),Kinetic.Tag=function(t){this.___init(t)},Kinetic.Tag.prototype={___init:function(t){Kinetic.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getWidth(),i=this.getHeight(),n=this.getPointerDirection(),s=this.getPointerWidth(),o=this.getPointerHeight();t.beginPath(),t.moveTo(0,0),"up"===n&&(t.lineTo((e-s)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+s)/2,0)),t.lineTo(e,0),"right"===n&&(t.lineTo(e,(i-o)/2),t.lineTo(e+s,i/2),t.lineTo(e,(i+o)/2)),t.lineTo(e,i),"down"===n&&(t.lineTo((e+s)/2,i),t.lineTo(e/2,i+o),t.lineTo((e-s)/2,i)),t.lineTo(0,i),"left"===n&&(t.lineTo(0,(i+o)/2),t.lineTo(-1*s,i/2),t.lineTo(0,(i-o)/2)),t.closePath(),t.fillStrokeShape(this)}},Kinetic.Util.extend(Kinetic.Tag,Kinetic.Shape),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerDirection","none"),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerWidth",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"pointerHeight",0),Kinetic.Factory.addGetterSetter(Kinetic.Tag,"cornerRadius",0),Kinetic.Collection.mapMethods(Kinetic.Tag)}(),!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ScrollMagic=e()}(this,function(){"use strict";function A(){}A.version="2.0.5",window.addEventListener("mousewheel",function(){});var $="data-scrollmagic-pin-spacer",D=(A.Controller=function(t){function i(t){return t.length<=1||(t=t.slice(0)).sort(function(t,e){return t.scrollOffset()>e.scrollOffset()?1:-1}),t}var n,s,e,o="ScrollMagic.Controller",r="FORWARD",a="REVERSE",l="PAUSED",c=D.defaults,h=this,d=z.extend({},c,t),u=[],p=!1,f=0,g=l,m=!0,v=0,y=!0,w=function(){0<d.refreshInterval&&(s=window.setTimeout(T,d.refreshInterval))},b=function(){return d.vertical?z.get.scrollTop(d.container):z.get.scrollLeft(d.container)},x=function(){return d.vertical?z.get.height(d.container):z.get.width(d.container)},_=this._setScrollPos=function(t){d.vertical?m?window.scrollTo(z.get.scrollLeft(),t):d.container.scrollTop=t:m?window.scrollTo(t,z.get.scrollTop()):d.container.scrollLeft=t},C=function(){var t,e;y&&p&&(t=z.type.Array(p)?p:u.slice(0),p=!1,e=f,e=(f=h.scrollPos())-e,(g=0!=e?0<e?r:a:g)===a&&t.reverse(),t.forEach(function(t){t.update(!0)}))},S=function(){n=z.rAF(C)},k=function(t){"resize"==t.type&&(v=x(),g=l),!0!==p&&(p=!0,S())},T=function(){if(!m&&v!=x()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){(e=document.createEvent("Event")).initEvent("resize",!1,!1)}d.container.dispatchEvent(e)}u.forEach(function(t){t.refresh()}),w()};this._options=d;for(e in this.addScene=function(t){if(z.type.Array(t))t.forEach(function(t){h.addScene(t)});else if(t instanceof A.Scene)if(t.controller()!==h)t.addTo(h);else if(u.indexOf(t)<0)for(var e in u.push(t),u=i(u),t.on("shift.controller_sort",function(){u=i(u)}),d.globalSceneOptions)t[e]&&t[e].call(t,d.globalSceneOptions[e]);return h},this.removeScene=function(t){var e;return z.type.Array(t)?t.forEach(function(t){h.removeScene(t)}):-1<(e=u.indexOf(t))&&(t.off("shift.controller_sort"),u.splice(e,1),t.remove()),h},this.updateScene=function(t,e){return z.type.Array(t)?t.forEach(function(t){h.updateScene(t,e)}):e?t.update(!0):!0!==p&&t instanceof A.Scene&&(-1==(p=p||[]).indexOf(t)&&p.push(t),p=i(p),S()),h},this.update=function(t){return k({type:"resize"}),t&&C(),h},this.scrollTo=function(t,e){if(z.type.Number(t))_.call(d.container,t,e);else if(t instanceof A.Scene)t.controller()===h&&h.scrollTo(t.scrollOffset(),e);else if(z.type.Function(t))_=t;else{var i=z.get.elements(t)[0];if(i){for(;i.parentNode.hasAttribute($);)i=i.parentNode;var t=d.vertical?"top":"left",n=z.get.offset(d.container),s=z.get.offset(i);m||(n[t]-=h.scrollPos()),h.scrollTo(s[t]-n[t],e)}}return h},this.scrollPos=function(t){return arguments.length?(z.type.Function(t)&&(b=t),h):b.call(h)},this.info=function(t){var e={size:v,vertical:d.vertical,scrollPos:f,scrollDirection:g,container:d.container,isDocument:m};return arguments.length?void 0!==e[t]?e[t]:void 0:e},this.loglevel=function(){return h},this.enabled=function(t){return arguments.length?(y!=t&&(y=!!t,h.updateScene(u,!0)),h):y},this.destroy=function(t){window.clearTimeout(s);for(var e=u.length;e--;)u[e].destroy(t);return d.container.removeEventListener("resize",k),d.container.removeEventListener("scroll",k),z.cAF(n),null},d)c.hasOwnProperty(e)||delete d[e];if(d.container=z.get.elements(d.container)[0],d.container)return(m=d.container===window||d.container===document.body||!document.body.contains(d.container))&&(d.container=window),v=x(),d.container.addEventListener("resize",k),d.container.addEventListener("scroll",k),d.refreshInterval=parseInt(d.refreshInterval)||c.refreshInterval,w(),h;throw o+" init failed."},{defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}}),L=(A.Controller.addOption=function(t,e){D.defaults[t]=e},A.Controller.extend=function(t){var e=this;A.Controller=function(){return e.apply(this,arguments),this.$super=z.extend({},this),t.apply(this,arguments)||this},z.extend(A.Controller,e),A.Controller.prototype=e.prototype,A.Controller.prototype.constructor=A.Controller},{defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(t){if(t=parseFloat(t),z.type.Number(t))return t;throw 0},triggerElement:function(t){if(t=t||void 0){var e=z.get.elements(t)[0];if(!e)throw 0;t=e}return t},triggerHook:function(t){var e={onCenter:.5,onEnter:1,onLeave:0};if(z.type.Number(t))t=Math.max(0,Math.min(parseFloat(t),1));else{if(!(t in e))throw 0;t=e[t]}return t},reverse:function(t){return!!t}},shifts:["duration","offset","triggerHook"]}),z=((A.Scene=function(t){function l(){a&&d&&v===p&&!a.info("isDocument")&&F()}function c(){a&&d&&v===p&&((u.relSize.width||u.relSize.autoFullWidth)&&z.get.width(window)!=z.get.width(u.spacer.parentNode)||u.relSize.height&&z.get.height(window)!=z.get.height(u.spacer.parentNode))&&M()}function h(t){a&&d&&v===p&&!a.info("isDocument")&&(t.preventDefault(),a._setScrollPos(a.info("scrollPos")-((t.wheelDelta||t[a.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-t.detail)))}var i,a,d,u,r="BEFORE",p="DURING",f="AFTER",n=L.defaults,g=this,m=z.extend({},n,t),v=r,y=0,s={start:0,end:0},w=0,o=!0,b={},e=(this.on=function(t,i){return z.type.Function(i)&&(t=t.trim().split(" ")).forEach(function(t){var t=t.split("."),e=t[0],t=t[1];"*"!=e&&(b[e]||(b[e]=[]),b[e].push({namespace:t||"",callback:i}))}),g},this.off=function(t,o){return t&&(t=t.trim().split(" ")).forEach(function(t){var t=t.split("."),e=t[0],s=t[1]||"";("*"===e?Object.keys(b):[e]).forEach(function(t){for(var e=b[t]||[],i=e.length;i--;){var n=e[i];!n||s!==n.namespace&&"*"!==s||o&&o!=n.callback||e.splice(i,1)}e.length||delete b[t]})}),g},this.trigger=function(t,e){var i,n;return t&&(t=t.trim().split("."),i=t[0],n=t[1],t=b[i])&&t.forEach(function(t){n&&n!==t.namespace||t.callback.call(g,new A.Event(i,t.namespace,g,e))}),g},g.on("change.internal",function(t){"loglevel"!==t.what&&"tweenChanges"!==t.what&&("triggerElement"===t.what?_():"reverse"===t.what&&g.update())}).on("shift.internal",function(){e(),g.update()}),this.addTo=function(t){return t instanceof A.Controller&&a!=t&&(a&&a.removeScene(g),a=t,k(),x(!0),_(!0),e(),a.info("container").addEventListener("resize",C),t.addScene(g),g.trigger("add",{controller:a}),g.update()),g},this.enabled=function(t){return arguments.length?(o!=t&&(o=!!t,g.update(!0)),g):o},this.remove=function(){var t;return a&&(a.info("container").removeEventListener("resize",C),t=a,a=void 0,t.removeScene(g),g.trigger("remove")),g},this.destroy=function(t){return g.trigger("destroy",{reset:t}),g.remove(),g.off("*.*"),null},this.update=function(t){var e;return a&&(t?a.enabled()&&o?(t=a.info("scrollPos"),e=0<m.duration?(t-s.start)/(s.end-s.start):t>=s.start?1:0,g.trigger("update",{startPos:s.start,endPos:s.end,scrollPos:t}),g.progress(e)):d&&v===p&&F(!0):a.updateScene(g,!1)),g},this.refresh=function(){return x(),_(),g},this.progress=function(t){var e,i,n,s,o;return arguments.length?(e=!1,i=v,n=a?a.info("scrollDirection"):"PAUSED",o=m.reverse||y<=t,0===m.duration?(e=y!=t,v=0===(y=t<1&&o?0:1)?r:p):t<0&&v!==r&&o?(v=r,e=!(y=0)):0<=t&&t<1&&o?(y=t,v=p,e=!0):1<=t&&v!==f?(y=1,v=f,e=!0):v!==p||o||F(),e&&(s={progress:y,state:v,scrollDirection:n},t=function(t){g.trigger(t,s)},(o=v!=i)&&i!==p&&(t("enter"),t(i===r?"start":"end")),t("progress"),o)&&v!==p&&(t(v===r?"start":"end"),t("leave")),g):y},function(){s={start:w+m.offset},a&&m.triggerElement&&(s.start-=a.info("size")*m.triggerHook),s.end=s.start+m.duration}),x=function(t){var e;i&&T(e="duration",i.call(g))&&!t&&(g.trigger("change",{what:e,newval:m[e]}),g.trigger("shift",{reason:e}))},_=function(t){var e=0,i=m.triggerElement;if(a&&i){for(var n=a.info(),s=z.get.offset(n.container),o=n.vertical?"top":"left";i.parentNode.hasAttribute($);)i=i.parentNode;var r=z.get.offset(i);n.isDocument||(s[o]-=a.scrollPos()),e=r[o]-s[o]}n=e!=w;w=e,n&&!t&&g.trigger("shift",{reason:"triggerElementPosition"})},C=function(){0<m.triggerHook&&g.trigger("shift",{reason:"containerResize"})},S=z.extend(L.validate,{duration:function(e){var t;if(z.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)&&(t=parseFloat(e)/100,e=function(){return a?a.info("size")*t:0}),z.type.Function(e)){i=e;try{e=parseFloat(i())}catch(t){e=-1}}if(e=parseFloat(e),!z.type.Number(e)||e<0)throw i=i&&void 0,0;return e}}),k=function(t){(t=arguments.length?[t]:Object.keys(S)).forEach(function(e){var i;if(S[e])try{i=S[e](m[e])}catch(t){i=n[e]}finally{m[e]=i}})},T=function(t,e){var i=!1,n=m[t];return m[t]!=e&&(m[t]=e,k(t),i=n!=m[t]),i},D=function(e){g[e]||(g[e]=function(t){return arguments.length?("duration"===e&&(i=void 0),T(e,t)&&(g.trigger("change",{what:e,newval:m[e]}),-1<L.shifts.indexOf(e))&&g.trigger("shift",{reason:e}),g):m[e]})},F=(this.controller=function(){return a},this.state=function(){return v},this.scrollOffset=function(){return s.start},this.triggerPosition=function(){var t=m.offset;return a&&(t+=m.triggerElement?w:a.info("size")*g.triggerHook()),t},g.on("shift.internal",function(t){t="duration"===t.reason;(v===f&&t||v===p&&0===m.duration)&&F(),t&&M()}).on("progress.internal",function(){F()}).on("add.internal",function(){M()}).on("destroy.internal",function(t){g.removePin(t.reset)}),function(t){var e,i,n;d&&a&&(e=a.info(),i=u.spacer.firstChild,t||v!==p?(t={position:u.inFlow?"relative":"absolute",top:0,left:0},n=z.css(i,"position")!=t.position,u.pushFollowers?0<m.duration&&(v===f&&0===parseFloat(z.css(u.spacer,"padding-top"))||v===r&&0===parseFloat(z.css(u.spacer,"padding-bottom")))&&(n=!0):t[e.vertical?"top":"left"]=m.duration*y,z.css(i,t),n&&M()):("fixed"!=z.css(i,"position")&&(z.css(i,{position:"fixed"}),M()),t=z.get.offset(u.spacer,!0),n=m.reverse||0===m.duration?e.scrollPos-s.start:Math.round(y*m.duration*10)/10,t[e.vertical?"top":"left"]+=n,z.css(u.spacer.firstChild,{top:t.top,left:t.left})))}),M=function(){var t,e,i,n,s;d&&a&&u.inFlow&&(t=v===p,e=a.info("vertical"),i=u.spacer.firstChild,n=z.isMarginCollapseType(z.css(u.spacer,"display")),s={},u.relSize.width||u.relSize.autoFullWidth?t?z.css(d,{width:z.get.width(u.spacer)}):z.css(d,{width:"100%"}):(s["min-width"]=z.get.width(e?d:i,!0,!0),s.width=t?s["min-width"]:"auto"),u.relSize.height?t?z.css(d,{height:z.get.height(u.spacer)-(u.pushFollowers?m.duration:0)}):z.css(d,{height:"100%"}):(s["min-height"]=z.get.height(e?i:d,!0,!n),s.height=t?s["min-height"]:"auto"),u.pushFollowers&&(s["padding"+(e?"Top":"Left")]=m.duration*y,s["padding"+(e?"Bottom":"Right")]=m.duration*(1-y)),z.css(u.spacer,s))};this.setPin=function(t,e){if(e=z.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},e),(t=z.get.elements(t)[0])&&"fixed"!==z.css(t,"position")){if(d){if(d===t)return g;g.removePin()}var i,t=(d=t).parentNode.style.display,n=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"],s=(d.parentNode.style.display="none","absolute"!=z.css(d,"position")),o=z.css(d,n.concat(["display"])),r=z.css(d,["width","height"]),t=(d.parentNode.style.display=t,!s&&e.pushFollowers&&(e.pushFollowers=!1),d.parentNode.insertBefore(document.createElement("div"),d)),a=z.extend(o,{position:s?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});s||z.extend(a,z.css(d,["width","height"])),z.css(t,a),t.setAttribute($,""),z.addClass(t,e.spacerClass),u={spacer:t,relSize:{width:"%"===r.width.slice(-1),height:"%"===r.height.slice(-1),autoFullWidth:"auto"===r.width&&s&&z.isMarginCollapseType(o.display)},pushFollowers:e.pushFollowers,inFlow:s},d.___origStyle||(d.___origStyle={},i=d.style,n.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach(function(t){d.___origStyle[t]=i[t]||""})),u.relSize.width&&z.css(t,{width:r.width}),u.relSize.height&&z.css(t,{height:r.height}),t.appendChild(d),z.css(d,{position:s?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(u.relSize.width||u.relSize.autoFullWidth)&&z.css(d,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",l),window.addEventListener("resize",l),window.addEventListener("resize",c),d.addEventListener("mousewheel",h),d.addEventListener("DOMMouseScroll",h),F()}return g},this.removePin=function(t){var e;return d&&(v===p&&F(!0),!t&&a||((t=u.spacer.firstChild).hasAttribute($)&&(e=u.spacer.style,margins={},["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach(function(t){margins[t]=e[t]||""}),z.css(t,margins)),u.spacer.parentNode.insertBefore(t,u.spacer),u.spacer.parentNode.removeChild(u.spacer),d.parentNode.hasAttribute($))||(z.css(d,d.___origStyle),delete d.___origStyle),window.removeEventListener("scroll",l),window.removeEventListener("resize",l),window.removeEventListener("resize",c),d.removeEventListener("mousewheel",h),d.removeEventListener("DOMMouseScroll",h),d=void 0),g};var P,E,K,I=[];for(E in g.on("destroy.internal",function(t){g.removeClassToggle(t.reset)}),this.setClassToggle=function(t,e){t=z.get.elements(t);return 0!==t.length&&z.type.String(e)&&(0<I.length&&g.removeClassToggle(),P=e,I=t,g.on("enter.internal_class leave.internal_class",function(t){var e="enter"===t.type?z.addClass:z.removeClass;I.forEach(function(t){e(t,P)})})),g},this.removeClassToggle=function(t){return t&&I.forEach(function(t){z.removeClass(t,P)}),g.off("start.internal_class end.internal_class"),P=void 0,I=[],g},m)n.hasOwnProperty(E)||delete m[E];for(K in n)D(K);return k(),g}).addOption=function(t,e,i,n){t in L.defaults||(L.defaults[t]=e,L.validate[t]=i,n&&L.shifts.push(t))},A.Scene.extend=function(t){var e=this;A.Scene=function(){return e.apply(this,arguments),this.$super=z.extend({},this),t.apply(this,arguments)||this},z.extend(A.Scene,e),A.Scene.prototype=e.prototype,A.Scene.prototype.constructor=A.Scene},A.Event=function(t,e,i,n){for(var s in n=n||{})this[s]=n[s];return this.type=t,this.target=this.currentTarget=i,this.namespace=e||"",this.timeStamp=this.timestamp=Date.now(),this},A._util=function(o){for(var t={},r=function(t){return parseFloat(t)||0},a=function(t){return t.currentStyle||o.getComputedStyle(t)},n=function(t,e,i,n){if((e=e===document?o:e)===o)n=!1;else if(!d.DomElement(e))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var s=(i?e["offset"+t]||e["outer"+t]:e["client"+t]||e["inner"+t])||0;return i&&n&&(i=a(e),s+="Height"===t?r(i.marginTop)+r(i.marginBottom):r(i.marginLeft)+r(i.marginRight)),s},l=function(t){return t.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},s=(t.extend=function(t){for(t=t||{},h=1;h<arguments.length;h++)if(arguments[h])for(var e in arguments[h])arguments[h].hasOwnProperty(e)&&(t[e]=arguments[h][e]);return t},t.isMarginCollapseType=function(t){return-1<["block","flex","list-item","table","-webkit-box"].indexOf(t)},0),e=["ms","moz","webkit","o"],i=o.requestAnimationFrame,c=o.cancelAnimationFrame,h=0;!i&&h<e.length;++h)i=o[e[h]+"RequestAnimationFrame"],c=o[e[h]+"CancelAnimationFrame"]||o[e[h]+"CancelRequestAnimationFrame"];c=c||function(t){o.clearTimeout(t)},t.rAF=(i=i||function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-s)),n=o.setTimeout(function(){t(e+i)},i);return s=e+i,n}).bind(o),t.cAF=c.bind(o);var d=t.type=function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},u=(d.String=function(t){return"string"===d(t)},d.Function=function(t){return"function"===d(t)},d.Array=function(t){return Array.isArray(t)},d.Number=function(t){return!d.Array(t)&&0<=t-parseFloat(t)+1},d.DomElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},t.get={});return u.elements=function(t){var e=[];if(d.String(t))try{t=document.querySelectorAll(t)}catch(t){return e}if("nodelist"===d(t)||d.Array(t))for(var i=0,n=e.length=t.length;i<n;i++){var s=t[i];e[i]=d.DomElement(s)?s:u.elements(s)}else!d.DomElement(t)&&t!==document&&t!==o||(e=[t]);return e},u.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:o.pageYOffset||0},u.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:o.pageXOffset||0},u.width=function(t,e,i){return n("width",t,e,i)},u.height=function(t,e,i){return n("height",t,e,i)},u.offset=function(t,e){var i={top:0,left:0};return t&&t.getBoundingClientRect&&(t=t.getBoundingClientRect(),i.top=t.top,i.left=t.left,e||(i.top+=u.scrollTop(),i.left+=u.scrollLeft())),i},t.addClass=function(t,e){e&&(t.classList?t.classList.add(e):t.className+=" "+e)},t.removeClass=function(t,e){e&&(t.classList?t.classList.remove(e):t.className=t.className.replace(RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},t.css=function(t,e){if(d.String(e))return a(t)[l(e)];var i,n,s;if(d.Array(e))return i={},n=a(t),e.forEach(function(t){i[t]=n[l(t)]}),i;for(s in e){var o=e[s];o==parseFloat(o)&&(o+="px"),t.style[l(s)]=o}},t}(window||{}));return A}),!function(){var P=window.jQuery,E=P(window);P.fn.stick_in_parent=function(t){var x,e,i,n,_,C=(t=null==t?{}:t).sticky_class,S=t.inner_scrolling,k=t.recalc_every,T=t.parent,D=t.offset_top,F=t.spacer,M=t.bottoming;for(null==D&&(D=0),null==T&&(T=void 0),null==S&&(S=!0),null==C&&(C="is_stuck"),x=P(document),null==M&&(M=!0),_=function(t){var e;return window.getComputedStyle?(t=window.getComputedStyle(t[0]),e=parseFloat(t.getPropertyValue("width"))+parseFloat(t.getPropertyValue("margin-left"))+parseFloat(t.getPropertyValue("margin-right")),"border-box"!==t.getPropertyValue("box-sizing")&&(e+=parseFloat(t.getPropertyValue("border-left-width"))+parseFloat(t.getPropertyValue("border-right-width"))+parseFloat(t.getPropertyValue("padding-left"))+parseFloat(t.getPropertyValue("padding-right"))),e):t.outerWidth(!0)},e=function(s,o,r,a,l,c,h,d){var u,t,p,f,g,m,v,y,e,w,b,n;if(!s.data("sticky_kit")){if(s.data("sticky_kit",!0),g=x.height(),v=s.parent(),!(v=null!=T?v.closest(T):v).length)throw"failed to find stick parent";if(u=p=!1,(b=null!=F?F&&s.closest(F):P("<div />"))&&b.css("position",s.css("position")),(y=function(){var t,e,i;if(!d&&(g=x.height(),t=parseInt(v.css("border-top-width"),10),e=parseInt(v.css("padding-top"),10),o=parseInt(v.css("padding-bottom"),10),r=v.offset().top+t+e,a=v.height(),p&&(u=p=!1,null==F&&(s.insertAfter(b),b.detach()),s.css({position:"",top:"",width:"",bottom:""}).removeClass(C),i=!0),l=s.offset().top-(parseInt(s.css("margin-top"),10)||0)-D,c=s.outerHeight(!0),h=s.css("float"),b&&b.css({width:_(s),height:c,display:s.css("display"),"vertical-align":s.css("vertical-align"),float:h}),i))return n()})(),c!==a)return f=void 0,m=D,w=k,n=function(){var t,e,i,n;if(!d&&(i=!1,null!=w&&--w<=0&&(w=k,y(),i=!0),i||x.height()===g||y(),i=E.scrollTop(),null!=f&&(e=i-f),f=i,p?(M&&(n=a+r<i+c+m,u)&&!n&&(u=!1,s.css({position:"fixed",bottom:"",top:m}).trigger("sticky_kit:unbottom")),i<l&&(p=!1,m=D,null==F&&("left"!==h&&"right"!==h||s.insertAfter(b),b.detach()),s.css(t={position:"",width:"",top:""}).removeClass(C).trigger("sticky_kit:unstick")),S&&(t=E.height())<c+D&&!u&&(m-=e,m=Math.max(t-c,m),m=Math.min(D,m),p)&&s.css({top:m+"px"})):l<i&&(p=!0,(t={position:"fixed",top:m}).width="border-box"===s.css("box-sizing")?s.outerWidth()+"px":s.width()+"px",s.css(t).addClass(C),null==F&&(s.after(b),"left"!==h&&"right"!==h||b.append(s)),s.trigger("sticky_kit:stick")),p)&&M&&(null==n&&(n=a+r<i+c+m),!u)&&n)return u=!0,"static"===v.css("position")&&v.css({position:"relative"}),s.css({position:"absolute",bottom:o,top:"auto"}).trigger("sticky_kit:bottom")},e=function(){return y(),n()},t=function(){if(d=!0,E.off("touchmove",n),E.off("scroll",n),E.off("resize",e),P(document.body).off("sticky_kit:recalc",e),s.off("sticky_kit:detach",t),s.removeData("sticky_kit"),s.css({position:"",bottom:"",top:"",width:""}),v.position("position",""),p)return null==F&&("left"!==h&&"right"!==h||s.insertAfter(b),b.remove()),s.removeClass(C)},E.on("touchmove",n),E.on("scroll",n),E.on("resize",e),P(document.body).on("sticky_kit:recalc",e),s.on("sticky_kit:detach",t),setTimeout(n,0)}},i=0,n=this.length;i<n;i++)t=this[i],e(P(t));return this}}.call(this),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),Base=(!function(i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),i(e),e}:i(jQuery)}(function(h){return h.fn.tilt=function(e){function i(){h(this).on("mousemove",n),h(this).on("mouseenter",t),this.settings.reset&&h(this).on("mouseleave",s),this.settings.glare&&h(window).on("resize",function(){this.glareElement.css({width:""+2*h(this).outerWidth(),height:""+2*h(this).outerWidth()})}.bind(this))}function t(t){this.ticking=!1,h(this).css({"will-change":"transform"}),r.call(this),h(this).trigger("tilt.mouseEnter")}function n(t){this.mousePositions=a(t),o.call(this)}function s(){r.call(this),this.reset=!0,o.call(this),h(this).trigger("tilt.mouseLeave")}var o=function(){this.ticking||(requestAnimationFrame(c.bind(this)),this.ticking=!0)},r=function(){var t=this;void 0!==this.timeout&&clearTimeout(this.timeout),h(this).css({transition:this.settings.speed+"ms "+this.settings.easing}),this.settings.glare&&this.glareElement.css({transition:"opacity "+this.settings.speed+"ms "+this.settings.easing}),this.timeout=setTimeout(function(){h(t).css({transition:""}),t.settings.glare&&t.glareElement.css({transition:""})},this.settings.speed)},a=function(t){return{x:(t=void 0===t?{pageX:h(this).offset().left+h(this).outerWidth()/2,pageY:h(this).offset().top+h(this).outerHeight()/2}:t).pageX,y:t.pageY}},l=function(){var t=h(this).outerWidth(),e=h(this).outerHeight(),i=h(this).offset().left,n=h(this).offset().top,s=(this.mousePositions.x-i)/t,o=(this.mousePositions.y-n)/e;return{tiltX:(this.settings.maxTilt/2-s*this.settings.maxTilt).toFixed(2),tiltY:(o*this.settings.maxTilt-this.settings.maxTilt/2).toFixed(2),percentageX:100*s,percentageY:100*o,angle:Math.atan2(this.mousePositions.x-(i+t/2),-(this.mousePositions.y-(n+e/2)))*(180/Math.PI)}},c=function(){return this.transforms=l.call(this),this.reset?(this.reset=!1,h(this).css("transform","perspective("+this.settings.perspective+"px) rotateX(0deg) rotateY(0deg)"),void(this.settings.glare&&(this.glareElement.css("transform","rotate(180deg) translate(-50%, -50%)"),this.glareElement.css("opacity","0")))):(h(this).css("transform","perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.disableAxis?0:this.transforms.tiltY)+"deg) rotateY("+("y"===this.settings.disableAxis?0:this.transforms.tiltX)+"deg) scale3d("+this.settings.scale+","+this.settings.scale+","+this.settings.scale+")"),this.settings.glare&&(this.glareElement.css("transform","rotate("+this.transforms.angle+"deg) translate(-50%, -50%)"),this.glareElement.css("opacity",""+this.transforms.percentageY*this.settings.maxGlare/100)),h(this).trigger("change",[this.transforms]),void(this.ticking=!1))};return h.fn.tilt.destroy=function(){h(this).each(function(){h(this).find(".js-tilt-glare").remove(),h(this).css({"will-change":"",transform:""}),h(this).off("mousemove mouseenter mouseleave")})},h.fn.tilt.getValues=function(){var t=[];return h(this).each(function(){this.mousePositions=a.call(this),t.push(l.call(this))}),t},h.fn.tilt.reset=function(){h(this).each(function(){var t=this;this.mousePositions=a.call(this),this.settings=h(this).data("settings"),s.call(this),setTimeout(function(){t.reset=!1},this.settings.transition)})},this.each(function(){var t=this;this.settings=h.extend({maxTilt:h(this).is("[data-tilt-max]")?h(this).data("tilt-max"):20,perspective:h(this).is("[data-tilt-perspective]")?h(this).data("tilt-perspective"):300,easing:h(this).is("[data-tilt-easing]")?h(this).data("tilt-easing"):"cubic-bezier(.03,.98,.52,.99)",scale:h(this).is("[data-tilt-scale]")?h(this).data("tilt-scale"):"1",speed:h(this).is("[data-tilt-speed]")?h(this).data("tilt-speed"):"400",transition:!h(this).is("[data-tilt-transition]")||h(this).data("tilt-transition"),disableAxis:h(this).is("[data-tilt-disable-axis]")?h(this).data("tilt-disable-axis"):null,axis:h(this).is("[data-tilt-axis]")?h(this).data("tilt-axis"):null,reset:!h(this).is("[data-tilt-reset]")||h(this).data("tilt-reset"),glare:!!h(this).is("[data-tilt-glare]")&&h(this).data("tilt-glare"),maxGlare:h(this).is("[data-tilt-maxglare]")?h(this).data("tilt-maxglare"):1},e),null!==this.settings.axis&&(console.warn("Tilt.js: the axis setting has been renamed to disableAxis. See https://github.com/gijsroge/tilt.js/pull/26 for more information"),this.settings.disableAxis=this.settings.axis),this.init=function(){h(t).data("settings",t.settings),t.settings.glare&&function(){var t=this.settings.glarePrerender;t||h(this).append('<div class="js-tilt-glare"><div class="js-tilt-glare-inner"></div></div>'),this.glareElementWrapper=h(this).find(".js-tilt-glare"),this.glareElement=h(this).find(".js-tilt-glare-inner"),t||(this.glareElementWrapper.css({position:"absolute",top:"0",left:"0",width:"100%",height:"100%"}).css({overflow:"hidden","pointer-events":"none"}),this.glareElement.css({position:"absolute",top:"50%",left:"50%","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:""+2*h(this).outerWidth(),height:""+2*h(this).outerWidth(),transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}))}.call(t),i.call(t)},this.init()})},h("[data-tilt]").tilt(),!0}),!function(n){"use strict";function s(t,e){this.el=n(t),this.options=n.extend({},n.fn.typed.defaults,e),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=!this.isInput&&this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()}s.prototype={constructor:s,init:function(){var e=this;e.timeout=setTimeout(function(){for(var t=0;t<e.strings.length;++t)e.sequence[t]=t;e.shuffle&&(e.sequence=e.shuffleArray(e.sequence)),e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos)},e.startDelay)},build:function(){var t,i=this;!0===this.showCursor&&(this.cursor=n('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement&&(i.strings=[],this.stringsElement.hide(),t=this.stringsElement.find("p"),n.each(t,function(t,e){i.strings.push(n(e).html())})),this.init()},typewrite:function(s,o){var t,r;!0!==this.stop&&(t=Math.round(70*Math.random())+this.typeSpeed,(r=this).timeout=setTimeout(function(){var t,e=0,i=s.substr(o);if("^"===i.charAt(0)&&(t=1,/^\^\d+/.test(i)&&(t+=(i=/\d+/.exec(i)[0]).length,e=parseInt(i)),s=s.substring(0,o)+s.substring(o+t)),"html"===r.contentType){i=s.substr(o).charAt(0);if("<"===i||"&"===i){for(var n="<"===i?">":";";s.substr(o).charAt(0)!==n;)s.substr(o).charAt(0),o++;o++,0}}r.timeout=setTimeout(function(){var t;o===s.length?(r.options.onStringTyped(r.arrayPos),r.arrayPos===r.strings.length-1&&(r.options.callback(),r.curLoop++,!1===r.loop||r.curLoop===r.loopCount)||(r.timeout=setTimeout(function(){r.backspace(s,o)},r.backDelay))):(0===o&&r.options.preStringTyped(r.arrayPos),t=s.substr(0,o+1),r.attr?r.el.attr(r.attr,t):r.isInput?r.el.val(t):"html"===r.contentType?r.el.html(t):r.el.text(t),o++,r.typewrite(s,o))},e)},t))},backspace:function(e,i){var t,n;!0!==this.stop&&(t=Math.round(70*Math.random())+this.backSpeed,(n=this).timeout=setTimeout(function(){if("html"===n.contentType&&">"===e.substr(i).charAt(0)){for(;"<"!==e.substr(i).charAt(0);)e.substr(i).charAt(0),i--;i--,0}var t=e.substr(0,i);n.attr?n.el.attr(n.attr,t):n.isInput?n.el.val(t):"html"===n.contentType?n.el.html(t):n.el.text(t),i>n.stopNum?(i--,n.backspace(e,i)):i<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.shuffle&&(n.sequence=n.shuffleArray(n.sequence)),n.init()):n.typewrite(n.strings[n.sequence[n.arrayPos]],i))},t))},shuffleArray:function(t){var e,i,n=t.length;if(n)for(;--n;)e=t[i=Math.floor(Math.random()*(n+1))],t[i]=t[n],t[n]=e;return t},reset:function(){clearInterval(this.timeout);var t=this.el.attr("id");this.el.after('<span id="'+t+'"/>'),this.el.remove(),void 0!==this.cursor&&this.cursor.remove(),this.options.resetCallback()}},n.fn.typed=function(i){return this.each(function(){var t=n(this),e=t.data("typed");e||t.data("typed",e=new s(this,"object"==typeof i&&i)),"string"==typeof i&&e[i]()})},n.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery),!function(){function e(t,e){return function(){return t.apply(e,arguments)}}var n,t,i,l,s,r=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};function o(t){null==t&&(t={}),this.scrollCallback=e(this.scrollCallback,this),this.scrollHandler=e(this.scrollHandler,this),this.resetAnimation=e(this.resetAnimation,this),this.start=e(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),null!=t.scrollContainer&&(this.config.scrollContainer=document.querySelector(t.scrollContainer)),this.animationNameCache=new i,this.wowEvent=this.util().createEvent(this.config.boxClass)}function a(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}function c(){this.keys=[],this.values=[]}function h(){}h.prototype.extend=function(t,e){var i,n;for(i in e)n=e[i],null==t[i]&&(t[i]=n);return t},h.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},h.prototype.createEvent=function(t,e,i,n){var s;return null==e&&(e=!1),null==i&&(i=!1),null==n&&(n=null),null!=document.createEvent?(s=document.createEvent("CustomEvent")).initCustomEvent(t,e,i,n):null!=document.createEventObject?(s=document.createEventObject()).eventType=t:s.eventName=t,s},h.prototype.emitEvent=function(t,e){return null!=t.dispatchEvent?t.dispatchEvent(e):e in(null!=t)?t[e]():"on"+e in(null!=t)?t["on"+e]():void 0},h.prototype.addEvent=function(t,e,i){return null!=t.addEventListener?t.addEventListener(e,i,!1):null!=t.attachEvent?t.attachEvent("on"+e,i):t[e]=i},h.prototype.removeEvent=function(t,e,i){return null!=t.removeEventListener?t.removeEventListener(e,i,!1):null!=t.detachEvent?t.detachEvent("on"+e,i):delete t[e]},h.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t=h,i=this.WeakMap||this.MozWeakMap||(c.prototype.get=function(t){for(var e,i=this.keys,n=e=0,s=i.length;e<s;n=++e)if(i[n]===t)return this.values[n]},c.prototype.set=function(t,e){for(var i,n=this.keys,s=i=0,o=n.length;i<o;s=++i)if(n[s]===t)return void(this.values[s]=e);return this.keys.push(t),this.values.push(e)},c),n=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(a.notSupported=!0,a.prototype.observe=function(){},a),l=this.getComputedStyle||function(i,t){return this.getPropertyValue=function(t){var e;return s.test(t="float"===t?"styleFloat":t)&&t.replace(s,function(t,e){return e.toUpperCase()}),(null!=(e=i.currentStyle)?e[t]:void 0)||null},this},s=/(\-([a-z]){1})/g,this.WOW=(o.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null},o.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},o.prototype.start=function(){var s,t,e,i,r;if(this.stopped=!1,this.boxes=function(){for(var t=this.element.querySelectorAll("."+this.config.boxClass),e=[],i=0,n=t.length;i<n;i++)s=t[i],e.push(s);return e}.call(this),this.all=function(){for(var t=this.boxes,e=[],i=0,n=t.length;i<n;i++)s=t[i],e.push(s);return e}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(t=0,e=(i=this.boxes).length;t<e;t++)s=i[t],this.applyStyle(s,!0);return this.disabled()||(this.util().addEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new n((r=this,function(t){for(var s,o,e=[],i=0,n=t.length;i<n;i++)o=t[i],e.push(function(){for(var t=o.addedNodes||[],e=[],i=0,n=t.length;i<n;i++)s=t[i],e.push(this.doSync(s));return e}.call(r));return e})).observe(document.body,{childList:!0,subtree:!0}):void 0},o.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},o.prototype.sync=function(t){return n.notSupported?this.doSync(this.element):void 0},o.prototype.doSync=function(t){var e,i,n,s,o;if(1===(t=null==t?this.element:t).nodeType){for(o=[],i=0,n=(s=(t=t.parentNode||t).querySelectorAll("."+this.config.boxClass)).length;i<n;i++)e=s[i],r.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),o.push(this.scrolled=!0)):o.push(void 0);return o}},o.prototype.show=function(t){return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(t),this.util().emitEvent(t,this.wowEvent),this.util().addEvent(t,"animationend",this.resetAnimation),this.util().addEvent(t,"oanimationend",this.resetAnimation),this.util().addEvent(t,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(t,"MSAnimationEnd",this.resetAnimation),t},o.prototype.applyStyle=function(t,e){var i,n=t.getAttribute("data-wow-duration"),s=t.getAttribute("data-wow-delay"),o=t.getAttribute("data-wow-iteration");return this.animate((i=this,function(){return i.customStyle(t,e,n,s,o)}))},o.prototype.animate="requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()},o.prototype.resetStyle=function(){for(var t,e=this.boxes,i=[],n=0,s=e.length;n<s;n++)t=e[n],i.push(t.style.visibility="visible");return i},o.prototype.resetAnimation=function(t){return 0<=t.type.toLowerCase().indexOf("animationend")?(t=t.target||t.srcElement).className=t.className.replace(this.config.animateClass,"").trim():void 0},o.prototype.customStyle=function(t,e,i,n,s){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",i&&this.vendorSet(t.style,{animationDuration:i}),n&&this.vendorSet(t.style,{animationDelay:n}),s&&this.vendorSet(t.style,{animationIterationCount:s}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},o.prototype.vendors=["moz","webkit"],o.prototype.vendorSet=function(s,t){var o,r,a,e=[];for(o in t)r=t[o],s[""+o]=r,e.push(function(){for(var t=this.vendors,e=[],i=0,n=t.length;i<n;i++)a=t[i],e.push(s[""+a+o.charAt(0).toUpperCase()+o.substr(1)]=r);return e}.call(this));return e},o.prototype.vendorCSS=function(t,e){for(var i,n=l(t),s=n.getPropertyCSSValue(e),o=this.vendors,r=0,a=o.length;r<a;r++)i=o[r],s=s||n.getPropertyCSSValue("-"+i+"-"+e);return s},o.prototype.animationName=function(e){var i;try{i=this.vendorCSS(e,"animation-name").cssText}catch(t){i=l(e).getPropertyValue("animation-name")}return"none"===i?"":i},o.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},o.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},o.prototype.scrollHandler=function(){return this.scrolled=!0},o.prototype.scrollCallback=function(){var s;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){for(var t=this.boxes,e=[],i=0,n=t.length;i<n;i++)(s=t[i])&&(this.isVisible(s)?this.show(s):e.push(s));return e}.call(this),this.boxes.length)||this.config.live?void 0:this.stop()},o.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},o.prototype.isVisible=function(t){var e=t.getAttribute("data-wow-offset")||this.config.offset,i=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,e=i+Math.min(this.element.clientHeight,this.util().innerHeight())-e,n=this.offsetTop(t),t=n+t.clientHeight;return n<=e&&i<=t},o.prototype.util=function(){return null!=this._util?this._util:this._util=new t},o.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},o)}.call(this),!function(q){var B={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};q.fn.bxSlider=function(e){var c,h,n,s,o,t,r,a,l,d,u,p,f,g,m,v,y,w,b,x,_,C,S,k,z,O,T,D,F,M,j,H,P,N,E,W,R,K,I,A,$,L;return 0===this.length?this:1<this.length?(this.each(function(){q(this).bxSlider(e)}),this):(c={},h=this,n=q(window).width(),s=q(window).height(),q(h).data("bxSlider")?void 0:(o=function(){q(h).data("bxSlider")||(c.settings=q.extend({},B,e),c.settings.slideWidth=parseInt(c.settings.slideWidth),c.children=h.children(c.settings.slideSelector),c.children.length<c.settings.minSlides&&(c.settings.minSlides=c.children.length),c.children.length<c.settings.maxSlides&&(c.settings.maxSlides=c.children.length),c.settings.randomStart&&(c.settings.startSlide=Math.floor(Math.random()*c.children.length)),c.active={index:c.settings.startSlide},c.carousel=1<c.settings.minSlides||1<c.settings.maxSlides,c.carousel&&(c.settings.preloadImages="all"),c.minThreshold=c.settings.minSlides*c.settings.slideWidth+(c.settings.minSlides-1)*c.settings.slideMargin,c.maxThreshold=c.settings.maxSlides*c.settings.slideWidth+(c.settings.maxSlides-1)*c.settings.slideMargin,c.working=!1,c.controls={},c.interval=null,c.animProp="vertical"===c.settings.mode?"top":"left",c.usingCSS=c.settings.useCSS&&"fade"!==c.settings.mode&&function(){for(var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<e.length;i++)if(void 0!==t.style[e[i]])return c.cssPrefix=e[i].replace("Perspective","").toLowerCase(),c.animProp="-"+c.cssPrefix+"-transform",!0;return!1}(),"vertical"===c.settings.mode&&(c.settings.maxSlides=c.settings.minSlides),h.data("origStyle",h.attr("style")),h.children(c.settings.slideSelector).each(function(){q(this).data("origStyle",q(this).attr("style"))}),t())},t=function(){var t=c.children.eq(c.settings.startSlide);h.wrap('<div class="'+c.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),c.viewport=h.parent(),c.settings.ariaLive&&!c.settings.ticker&&c.viewport.attr("aria-live","polite"),c.loader=q('<div class="bx-loading" />'),c.viewport.prepend(c.loader),h.css({width:"horizontal"===c.settings.mode?1e3*c.children.length+215+"%":"auto",position:"relative"}),c.usingCSS&&c.settings.easing?h.css("-"+c.cssPrefix+"-transition-timing-function",c.settings.easing):c.settings.easing||(c.settings.easing="swing"),c.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),c.viewport.parent().css({maxWidth:d()}),c.children.css({float:"horizontal"===c.settings.mode?"left":"none",listStyle:"none",position:"relative"}),c.children.css("width",u()),"horizontal"===c.settings.mode&&0<c.settings.slideMargin&&c.children.css("marginRight",c.settings.slideMargin),"vertical"===c.settings.mode&&0<c.settings.slideMargin&&c.children.css("marginBottom",c.settings.slideMargin),"fade"===c.settings.mode&&(c.children.css({position:"absolute",zIndex:0,display:"none"}),c.children.eq(c.settings.startSlide).css({zIndex:c.settings.slideZIndex,display:"block"})),c.controls.el=q('<div class="bx-controls" />'),c.settings.captions&&_(),c.active.last=c.settings.startSlide===f()-1,c.settings.video&&h.fitVids(),"all"!==c.settings.preloadImages&&!c.settings.ticker||(t=c.children),c.settings.ticker?c.settings.pager=!1:(c.settings.controls&&b(),c.settings.auto&&c.settings.autoControls&&x(),c.settings.pager&&w(),(c.settings.controls||c.settings.autoControls||c.settings.pager)&&c.viewport.after(c.controls.el)),r(t,a)},r=function(t,e){var i=t.find('img:not([src=""]), iframe').length,n=0;return 0===i?void e():void t.find('img:not([src=""]), iframe').each(function(){q(this).one("load error",function(){++n===i&&e()}).each(function(){this.complete&&q(this).trigger("load")})})},a=function(){var t,e;c.settings.infiniteLoop&&"fade"!==c.settings.mode&&!c.settings.ticker&&(e="vertical"===c.settings.mode?c.settings.minSlides:c.settings.maxSlides,t=c.children.slice(0,e).clone(!0).addClass("bx-clone"),e=c.children.slice(-e).clone(!0).addClass("bx-clone"),c.settings.ariaHidden&&(t.attr("aria-hidden",!0),e.attr("aria-hidden",!0)),h.append(t).prepend(e)),c.loader.remove(),m(),"vertical"===c.settings.mode&&(c.settings.adaptiveHeight=!0),c.viewport.height(l()),h.redrawSlider(),c.settings.onSliderLoad.call(h,c.active.index),c.initialized=!0,c.settings.responsive&&q(window).bind("resize",$),c.settings.auto&&c.settings.autoStart&&(1<f()||c.settings.autoSlideForOnePage)&&j(),c.settings.ticker&&H(),c.settings.pager&&T(c.settings.startSlide),c.settings.controls&&M(),c.settings.touchEnabled&&!c.settings.ticker&&W(),c.settings.keyboardEnabled&&!c.settings.ticker&&q(document).keydown(E)},l=function(){var e=0,t=q();if("vertical"===c.settings.mode||c.settings.adaptiveHeight)if(c.carousel){var n=1===c.settings.moveSlides?c.active.index:c.active.index*g(),t=c.children.eq(n);for(i=1;i<=c.settings.maxSlides-1;i++)t=n+i>=c.children.length?t.add(c.children.eq(i-1)):t.add(c.children.eq(n+i))}else t=c.children.eq(c.active.index);else t=c.children;return"vertical"===c.settings.mode?(t.each(function(t){e+=q(this).outerHeight()}),0<c.settings.slideMargin&&(e+=c.settings.slideMargin*(c.settings.minSlides-1))):e=Math.max.apply(Math,t.map(function(){return q(this).outerHeight(!1)}).get()),"border-box"===c.viewport.css("box-sizing")?e+=parseFloat(c.viewport.css("padding-top"))+parseFloat(c.viewport.css("padding-bottom"))+parseFloat(c.viewport.css("border-top-width"))+parseFloat(c.viewport.css("border-bottom-width")):"padding-box"===c.viewport.css("box-sizing")&&(e+=parseFloat(c.viewport.css("padding-top"))+parseFloat(c.viewport.css("padding-bottom"))),e},d=function(){var t="100%";return t=0<c.settings.slideWidth?"horizontal"===c.settings.mode?c.settings.maxSlides*c.settings.slideWidth+(c.settings.maxSlides-1)*c.settings.slideMargin:c.settings.slideWidth:t},u=function(){var t=c.settings.slideWidth,e=c.viewport.width();if(0===c.settings.slideWidth||c.settings.slideWidth>e&&!c.carousel||"vertical"===c.settings.mode)t=e;else if(1<c.settings.maxSlides&&"horizontal"===c.settings.mode){if(e>c.maxThreshold)return t;e<c.minThreshold?t=(e-c.settings.slideMargin*(c.settings.minSlides-1))/c.settings.minSlides:c.settings.shrinkItems&&(t=Math.floor((e+c.settings.slideMargin)/Math.ceil((e+c.settings.slideMargin)/(t+c.settings.slideMargin))-c.settings.slideMargin))}return t},p=function(){var t,e=1;return"horizontal"===c.settings.mode&&0<c.settings.slideWidth?e=c.viewport.width()<c.minThreshold?c.settings.minSlides:c.viewport.width()>c.maxThreshold?c.settings.maxSlides:(t=c.children.first().width()+c.settings.slideMargin,Math.floor((c.viewport.width()+c.settings.slideMargin)/t)):"vertical"===c.settings.mode&&(e=c.settings.minSlides),e},f=function(){var t=0,e=0,i=0;if(0<c.settings.moveSlides)if(c.settings.infiniteLoop)t=Math.ceil(c.children.length/g());else for(;e<c.children.length;)++t,e=i+p(),i+=c.settings.moveSlides<=p()?c.settings.moveSlides:p();else t=Math.ceil(c.children.length/p());return t},g=function(){return 0<c.settings.moveSlides&&c.settings.moveSlides<=p()?c.settings.moveSlides:p()},m=function(){var t,e;c.children.length>c.settings.maxSlides&&c.active.last&&!c.settings.infiniteLoop?"horizontal"===c.settings.mode?(t=(e=c.children.last()).position(),v(-(t.left-(c.viewport.width()-e.outerWidth())),"reset",0)):"vertical"===c.settings.mode&&(e=c.children.length-c.settings.minSlides,t=c.children.eq(e).position(),v(-t.top,"reset",0)):(t=c.children.eq(c.active.index*g()).position(),c.active.index===f()-1&&(c.active.last=!0),void 0!==t&&("horizontal"===c.settings.mode?v(-t.left,"reset",0):"vertical"===c.settings.mode&&v(-t.top,"reset",0)))},v=function(t,e,i,n){var s;c.usingCSS?(s="vertical"===c.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",h.css("-"+c.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"===e?(h.css(c.animProp,s),0!==i?h.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){q(t.target).is(h)&&(h.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),D())}):D()):"reset"===e?h.css(c.animProp,s):"ticker"===e&&(h.css("-"+c.cssPrefix+"-transition-timing-function","linear"),h.css(c.animProp,s),0!==i?h.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){q(t.target).is(h)&&(h.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),v(n.resetValue,"reset",0),P())}):(v(n.resetValue,"reset",0),P()))):((s={})[c.animProp]=t,"slide"===e?h.animate(s,i,c.settings.easing,function(){D()}):"reset"===e?h.css(c.animProp,t):"ticker"===e&&h.animate(s,i,"linear",function(){v(n.resetValue,"reset",0),P()}))},y=function(){for(var t="",e="",i=f(),n=0;n<i;n++)e="",c.settings.buildPager&&q.isFunction(c.settings.buildPager)||c.settings.pagerCustom?(e=c.settings.buildPager(n),c.pagerEl.addClass("bx-custom-pager")):(e=n+1,c.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+e+"</a></div>";c.pagerEl.html(t)},w=function(){c.settings.pagerCustom?c.pagerEl=q(c.settings.pagerCustom):(c.pagerEl=q('<div class="bx-pager" />'),c.settings.pagerSelector?q(c.settings.pagerSelector).html(c.pagerEl):c.controls.el.addClass("bx-has-pager").append(c.pagerEl),y()),c.pagerEl.on("click touchend","a",O)},b=function(){c.controls.next=q('<a class="bx-next" href="">'+c.settings.nextText+"</a>"),c.controls.prev=q('<a class="bx-prev" href="">'+c.settings.prevText+"</a>"),c.controls.next.bind("click touchend",C),c.controls.prev.bind("click touchend",S),c.settings.nextSelector&&q(c.settings.nextSelector).append(c.controls.next),c.settings.prevSelector&&q(c.settings.prevSelector).append(c.controls.prev),c.settings.nextSelector||c.settings.prevSelector||(c.controls.directionEl=q('<div class="bx-controls-direction" />'),c.controls.directionEl.append(c.controls.prev).append(c.controls.next),c.controls.el.addClass("bx-has-controls-direction").append(c.controls.directionEl))},x=function(){c.controls.start=q('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+c.settings.startText+"</a></div>"),c.controls.stop=q('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+c.settings.stopText+"</a></div>"),c.controls.autoEl=q('<div class="bx-controls-auto" />'),c.controls.autoEl.on("click",".bx-start",k),c.controls.autoEl.on("click",".bx-stop",z),c.settings.autoControlsCombine?c.controls.autoEl.append(c.controls.start):c.controls.autoEl.append(c.controls.start).append(c.controls.stop),c.settings.autoControlsSelector?q(c.settings.autoControlsSelector).html(c.controls.autoEl):c.controls.el.addClass("bx-has-controls-auto").append(c.controls.autoEl),F(c.settings.autoStart?"stop":"start")},_=function(){c.children.each(function(t){var e=q(this).find("img:first").attr("title");void 0!==e&&(""+e).length&&q(this).append('<div class="bx-caption"><span>'+e+"</span></div>")})},C=function(t){t.preventDefault(),c.controls.el.hasClass("disabled")||(c.settings.auto&&c.settings.stopAutoOnClick&&h.stopAuto(),h.goToNextSlide())},S=function(t){t.preventDefault(),c.controls.el.hasClass("disabled")||(c.settings.auto&&c.settings.stopAutoOnClick&&h.stopAuto(),h.goToPrevSlide())},k=function(t){h.startAuto(),t.preventDefault()},z=function(t){h.stopAuto(),t.preventDefault()},O=function(t){t.preventDefault(),c.controls.el.hasClass("disabled")||(c.settings.auto&&c.settings.stopAutoOnClick&&h.stopAuto(),void 0!==(t=q(t.currentTarget)).attr("data-slide-index")&&(t=parseInt(t.attr("data-slide-index")))!==c.active.index&&h.goToSlide(t))},T=function(i){var t=c.children.length;return"short"===c.settings.pagerType?(1<c.settings.maxSlides&&(t=Math.ceil(c.children.length/c.settings.maxSlides)),void c.pagerEl.html(i+1+c.settings.pagerShortSeparator+t)):(c.pagerEl.find("a").removeClass("active"),void c.pagerEl.each(function(t,e){q(e).find("a").eq(i).addClass("active")}))},D=function(){var t;c.settings.infiniteLoop&&(t="",0===c.active.index?t=c.children.eq(0).position():c.active.index===f()-1&&c.carousel?t=c.children.eq((f()-1)*g()).position():c.active.index===c.children.length-1&&(t=c.children.eq(c.children.length-1).position()),t)&&("horizontal"===c.settings.mode?v(-t.left,"reset",0):"vertical"===c.settings.mode&&v(-t.top,"reset",0)),c.working=!1,c.settings.onSlideAfter.call(h,c.children.eq(c.active.index),c.oldIndex,c.active.index)},F=function(t){c.settings.autoControlsCombine?c.controls.autoEl.html(c.controls[t]):(c.controls.autoEl.find("a").removeClass("active"),c.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},M=function(){1===f()?(c.controls.prev.addClass("disabled"),c.controls.next.addClass("disabled")):!c.settings.infiniteLoop&&c.settings.hideControlOnEnd&&(0===c.active.index?(c.controls.prev.addClass("disabled"),c.controls.next):c.active.index===f()-1?(c.controls.next.addClass("disabled"),c.controls.prev):(c.controls.prev.removeClass("disabled"),c.controls.next)).removeClass("disabled")},j=function(){0<c.settings.autoDelay?setTimeout(h.startAuto,c.settings.autoDelay):(h.startAuto(),q(window).focus(function(){h.startAuto()}).blur(function(){h.stopAuto()})),c.settings.autoHover&&h.hover(function(){c.interval&&(h.stopAuto(!0),c.autoPaused=!0)},function(){c.autoPaused&&(h.startAuto(!0),c.autoPaused=null)})},H=function(){var t,e,i,n,s,o,r,a,l=0;"next"===c.settings.autoDirection?h.append(c.children.clone().addClass("bx-clone")):(h.prepend(c.children.clone().addClass("bx-clone")),t=c.children.first().position(),l="horizontal"===c.settings.mode?-t.left:-t.top),v(l,"reset",0),c.settings.pager=!1,c.settings.controls=!1,c.settings.autoControls=!1,c.settings.tickerHover&&(c.usingCSS?(n="horizontal"===c.settings.mode?4:5,c.viewport.hover(function(){e=h.css("-"+c.cssPrefix+"-transform"),i=parseFloat(e.split(",")[n]),v(i,"reset",0)},function(){a=0,c.children.each(function(t){a+="horizontal"===c.settings.mode?q(this).outerWidth(!0):q(this).outerHeight(!0)}),s=c.settings.speed/a,o="horizontal"===c.settings.mode?"left":"top",r=s*(a-Math.abs(parseInt(i))),P(r)})):c.viewport.hover(function(){h.stop()},function(){a=0,c.children.each(function(t){a+="horizontal"===c.settings.mode?q(this).outerWidth(!0):q(this).outerHeight(!0)}),s=c.settings.speed/a,o="horizontal"===c.settings.mode?"left":"top",r=s*(a-Math.abs(parseInt(h.css(o)))),P(r)})),P()},P=function(t){var t=t||c.settings.speed,e={left:0,top:0},i={left:0,top:0};"next"===c.settings.autoDirection?e=h.find(".bx-clone").first().position():i=c.children.first().position(),e="horizontal"===c.settings.mode?-e.left:-e.top,i="horizontal"===c.settings.mode?-i.left:-i.top,v(e,"ticker",t,{resetValue:i})},N=function(t){var e=q(window),i={top:e.scrollTop(),left:e.scrollLeft()},n=t.offset();return i.right=i.left+e.width(),i.bottom=i.top+e.height(),n.right=n.left+t.outerWidth(),n.bottom=n.top+t.outerHeight(),!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)},E=function(t){var e=document.activeElement.tagName.toLowerCase();if(null==new RegExp(e,["i"]).exec("input|textarea")&&N(h))return 39===t.keyCode?(C(t),!1):37===t.keyCode?(S(t),!1):void 0},W=function(){c.touch={start:{x:0,y:0},end:{x:0,y:0}},c.viewport.bind("touchstart MSPointerDown pointerdown",R),c.viewport.on("click",".bxslider a",function(t){c.viewport.hasClass("click-disabled")&&(t.preventDefault(),c.viewport.removeClass("click-disabled"))})},R=function(t){var e;c.controls.el.addClass("disabled"),c.working?(t.preventDefault(),c.controls.el.removeClass("disabled")):(c.touch.originalPos=h.position(),e=void 0!==(t=t.originalEvent).changedTouches?t.changedTouches:[t],c.touch.start.x=e[0].pageX,c.touch.start.y=e[0].pageY,c.viewport.get(0).setPointerCapture&&(c.pointerId=t.pointerId,c.viewport.get(0).setPointerCapture(c.pointerId)),c.viewport.bind("touchmove MSPointerMove pointermove",I),c.viewport.bind("touchend MSPointerUp pointerup",A),c.viewport.bind("MSPointerCancel pointercancel",K))},K=function(t){v(c.touch.originalPos.left,"reset",0),c.controls.el.removeClass("disabled"),c.viewport.unbind("MSPointerCancel pointercancel",K),c.viewport.unbind("touchmove MSPointerMove pointermove",I),c.viewport.unbind("touchend MSPointerUp pointerup",A),c.viewport.get(0).releasePointerCapture&&c.viewport.get(0).releasePointerCapture(c.pointerId)},I=function(t){var e=t.originalEvent,e=void 0!==e.changedTouches?e.changedTouches:[e],i=Math.abs(e[0].pageX-c.touch.start.x),n=Math.abs(e[0].pageY-c.touch.start.y),s=0,o=0;(n<3*i&&c.settings.preventDefaultSwipeX||i<3*n&&c.settings.preventDefaultSwipeY)&&t.preventDefault(),"fade"!==c.settings.mode&&c.settings.oneToOneTouch&&(s="horizontal"===c.settings.mode?(o=e[0].pageX-c.touch.start.x,c.touch.originalPos.left+o):(o=e[0].pageY-c.touch.start.y,c.touch.originalPos.top+o),v(s,"reset",0))},A=function(t){c.viewport.unbind("touchmove MSPointerMove pointermove",I),c.controls.el.removeClass("disabled");var t=t.originalEvent,t=void 0!==t.changedTouches?t.changedTouches:[t],e=0,i=0;c.touch.end.x=t[0].pageX,c.touch.end.y=t[0].pageY,"fade"===c.settings.mode?(i=Math.abs(c.touch.start.x-c.touch.end.x))>=c.settings.swipeThreshold&&(c.touch.start.x>c.touch.end.x?h.goToNextSlide():h.goToPrevSlide(),h.stopAuto()):(e="horizontal"===c.settings.mode?(i=c.touch.end.x-c.touch.start.x,c.touch.originalPos.left):(i=c.touch.end.y-c.touch.start.y,c.touch.originalPos.top),(c.settings.infiniteLoop||!(0===c.active.index&&0<i||c.active.last&&i<0))&&Math.abs(i)>=c.settings.swipeThreshold?(i<0?h.goToNextSlide():h.goToPrevSlide(),h.stopAuto()):v(e,"reset",200)),c.viewport.unbind("touchend MSPointerUp pointerup",A),c.viewport.get(0).releasePointerCapture&&c.viewport.get(0).releasePointerCapture(c.pointerId)},$=function(t){var e,i;c.initialized&&(c.working?window.setTimeout($,10):(e=q(window).width(),i=q(window).height(),n===e&&s===i||(n=e,s=i,h.redrawSlider(),c.settings.onSliderResize.call(h,c.active.index))))},L=function(t){var e=p();c.settings.ariaHidden&&!c.settings.ticker&&(c.children.attr("aria-hidden","true"),c.children.slice(t,t+e).attr("aria-hidden","false"))},h.goToSlide=function(t,e){var i,n=!0,s=0,o={left:0,top:0},r=null;c.oldIndex=c.active.index,c.active.index=(i=t)<0?c.settings.infiniteLoop?f()-1:c.active.index:i>=f()?c.settings.infiniteLoop?0:c.active.index:i,c.working||c.active.index===c.oldIndex||(c.working=!0,void 0===(n=c.settings.onSlideBefore.call(h,c.children.eq(c.active.index),c.oldIndex,c.active.index))||n?("next"===e?c.settings.onSlideNext.call(h,c.children.eq(c.active.index),c.oldIndex,c.active.index)||(n=!1):"prev"!==e||c.settings.onSlidePrev.call(h,c.children.eq(c.active.index),c.oldIndex,c.active.index)||(n=!1),c.active.last=c.active.index>=f()-1,(c.settings.pager||c.settings.pagerCustom)&&T(c.active.index),c.settings.controls&&M(),"fade"===c.settings.mode?(c.settings.adaptiveHeight&&c.viewport.height()!==l()&&c.viewport.animate({height:l()},c.settings.adaptiveHeightSpeed),c.children.filter(":visible").fadeOut(c.settings.speed).css({zIndex:0}),c.children.eq(c.active.index).css("zIndex",c.settings.slideZIndex+1).fadeIn(c.settings.speed,function(){q(this).css("zIndex",c.settings.slideZIndex),D()})):(c.settings.adaptiveHeight&&c.viewport.height()!==l()&&c.viewport.animate({height:l()},c.settings.adaptiveHeightSpeed),!c.settings.infiniteLoop&&c.carousel&&c.active.last?"horizontal"===c.settings.mode?(o=(r=c.children.eq(c.children.length-1)).position(),s=c.viewport.width()-r.outerWidth()):(i=c.children.length-c.settings.minSlides,o=c.children.eq(i).position()):c.carousel&&c.active.last&&"prev"===e?(n=1===c.settings.moveSlides?c.settings.maxSlides-g():(f()-1)*g()-(c.children.length-c.settings.maxSlides),o=(r=h.children(".bx-clone").eq(n)).position()):"next"===e&&0===c.active.index?(o=h.find("> .bx-clone").eq(c.settings.maxSlides).position(),c.active.last=!1):0<=t&&(i=t*parseInt(g()),o=c.children.eq(i).position()),void 0!==o?(n="horizontal"===c.settings.mode?-(o.left-s):-o.top,v(n,"slide",c.settings.speed)):c.working=!1),c.settings.ariaHidden&&L(c.active.index*g())):(c.active.index=c.oldIndex,c.working=!1))},h.goToNextSlide=function(){var t;!c.settings.infiniteLoop&&c.active.last||(t=parseInt(c.active.index)+1,h.goToSlide(t,"next"))},h.goToPrevSlide=function(){var t;!c.settings.infiniteLoop&&0===c.active.index||(t=parseInt(c.active.index)-1,h.goToSlide(t,"prev"))},h.startAuto=function(t){c.interval||(c.interval=setInterval(function(){"next"===c.settings.autoDirection?h.goToNextSlide():h.goToPrevSlide()},c.settings.pause),c.settings.autoControls&&!0!==t&&F("stop"))},h.stopAuto=function(t){c.interval&&(clearInterval(c.interval),c.interval=null,c.settings.autoControls)&&!0!==t&&F("start")},h.getCurrentSlide=function(){return c.active.index},h.getCurrentSlideElement=function(){return c.children.eq(c.active.index)},h.getSlideElement=function(t){return c.children.eq(t)},h.getSlideCount=function(){return c.children.length},h.isWorking=function(){return c.working},h.redrawSlider=function(){c.children.add(h.find(".bx-clone")).outerWidth(u()),c.viewport.css("height",l()),c.settings.ticker||m(),c.active.last&&(c.active.index=f()-1),c.active.index>=f()&&(c.active.last=!0),c.settings.pager&&!c.settings.pagerCustom&&(y(),T(c.active.index)),c.settings.ariaHidden&&L(c.active.index*g())},h.destroySlider=function(){c.initialized&&(c.initialized=!1,q(".bx-clone",this).remove(),c.children.each(function(){void 0!==q(this).data("origStyle")?q(this).attr("style",q(this).data("origStyle")):q(this).removeAttr("style")}),void 0!==q(this).data("origStyle")?this.attr("style",q(this).data("origStyle")):q(this).removeAttr("style"),q(this).unwrap().unwrap(),c.controls.el&&c.controls.el.remove(),c.controls.next&&c.controls.next.remove(),c.controls.prev&&c.controls.prev.remove(),c.pagerEl&&c.settings.controls&&!c.settings.pagerCustom&&c.pagerEl.remove(),q(".bx-caption",this).remove(),c.controls.autoEl&&c.controls.autoEl.remove(),clearInterval(c.interval),c.settings.responsive&&q(window).unbind("resize",$),c.settings.keyboardEnabled&&q(document).unbind("keydown",E),q(this).removeData("bxSlider"))},h.reloadSlider=function(t){void 0!==t&&(e=t),h.destroySlider(),o(),q(h).data("bxSlider",this)},o(),q(h).data("bxSlider",this),this))}}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(x,_){function C(){return new Date(Date.UTC.apply(Date,arguments))}function S(){var t=new Date;return C(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function t(t,e){return function(){return e!==_&&x.fn.datepicker.deprecated(e),this[t].apply(this,arguments)}}function k(t,e){x.data(t,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(e),this.dates=new i,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=x(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=x(D.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return Number(e)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()}function l(t,e){x.data(t,"datepicker",this),this.element=x(t),this.inputs=x.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,this.keepEmptyValues=e.keepEmptyValues,delete e.keepEmptyValues,s.call(x(this.inputs),e).on("changeDate",x.proxy(this.dateUpdated,this)),this.pickers=x.map(this.inputs,function(t){return x.data(t,"datepicker")}),this.updateDates()}e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;i<n;i++)if(0<=this[i].valueOf()-e&&this[i].valueOf()-e<864e5)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(x.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new i;return t.replace(this),t}};var e,i=function(){var t=[];return t.push.apply(t,arguments),x.extend(t,e),t},n=(k.prototype={constructor:k,_resolveViewName:function(i){return x.each(D.viewModes,function(t,e){if(i===t||-1!==x.inArray(i,e.names))return i=t,!1}),i},_resolveDaysOfWeek:function(t){return x.isArray(t)||(t=t.split(/[,\s]*/)),x.map(t,Number)},_check_template:function(t){try{return t===_||""===t?!1:(t.match(/[<>]/g)||[]).length<=0||0<x(t).length}catch(t){return!1}},_process_options:function(t){this._o=x.extend({},this._o,t);var e,i,n=this.o=x.extend({},this._o),t=n.language,s=(T[t]||(t=t.split("-")[0],T[t])||(t=c.language),n.language=t,n.startView=this._resolveViewName(n.startView),n.minViewMode=this._resolveViewName(n.minViewMode),n.maxViewMode=this._resolveViewName(n.maxViewMode),n.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,n.startView)),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,!1!==n.multidate)&&(n.multidate=Math.max(0,n.multidate)),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7,D.parseFormat(n.format)),o=(n.startDate!==-1/0&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=D.parseDate(n.startDate,s,n.language,n.assumeNearbyYear):n.startDate=-1/0),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=D.parseDate(n.endDate,s,n.language,n.assumeNearbyYear):n.endDate=1/0),n.daysOfWeekDisabled=this._resolveDaysOfWeek(n.daysOfWeekDisabled||[]),n.daysOfWeekHighlighted=this._resolveDaysOfWeek(n.daysOfWeekHighlighted||[]),n.datesDisabled=n.datesDisabled||[],x.isArray(n.datesDisabled)||(n.datesDisabled=n.datesDisabled.split(",")),n.datesDisabled=x.map(n.datesDisabled,function(t){return D.parseDate(t,s,n.language,n.assumeNearbyYear)}),String(n.orientation).toLowerCase().split(/\s+/g)),t=n.orientation.toLowerCase(),o=x.grep(o,function(t){return/^auto|left|right|top|bottom$/.test(t)});if(n.orientation={x:"auto",y:"auto"},t&&"auto"!==t)if(1===o.length)switch(o[0]){case"top":case"bottom":n.orientation.y=o[0];break;case"left":case"right":n.orientation.x=o[0]}else t=x.grep(o,function(t){return/^left|right$/.test(t)}),n.orientation.x=t[0]||"auto",t=x.grep(o,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=t[0]||"auto";n.defaultViewDate instanceof Date||"string"==typeof n.defaultViewDate?n.defaultViewDate=D.parseDate(n.defaultViewDate,s,n.language,n.assumeNearbyYear):n.defaultViewDate?(t=n.defaultViewDate.year||(new Date).getFullYear(),e=n.defaultViewDate.month||0,i=n.defaultViewDate.day||1,n.defaultViewDate=C(t,e,i)):n.defaultViewDate=S()},_applyEvents:function(t){for(var e,i,n,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(i=_,n=t[s][1]):3===t[s].length&&(i=t[s][1],n=t[s][2]),e.on(n,i)},_unapplyEvents:function(t){for(var e,i,n,s=0;s<t.length;s++)e=t[s][0],2===t[s].length?(n=_,i=t[s][1]):3===t[s].length&&(n=t[s][1],i=t[s][2]),e.off(i,n)},_buildEvents:function(){var t={keyup:x.proxy(function(t){-1===x.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:x.proxy(this.keydown,this),paste:x.proxy(this.paste,this)};!0===this.o.showOnFocus&&(t.focus=x.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.inputField.length?this._events=[[this.inputField,t],[this.component,{click:x.proxy(this.show,this)}]]:this._events=[[this.element,{click:x.proxy(this.show,this),keydown:x.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:x.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:x.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":x.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:x.proxy(this.click,this)}],[this.picker,".prev, .next",{click:x.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:x.proxy(this.dayCellClick,this)}],[x(window),{resize:x.proxy(this.place,this)}],[x(document),{"mousedown touchstart":x.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){e=e||this.dates.get(-1),e=this._utc_to_local(e);this.element.trigger({type:t,date:e,viewMode:this.viewMode,dates:x.map(this.dates,this._utc_to_local),format:x.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return D.formatDate(i,e,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&x(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var e;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==x.inArray("text/plain",t.originalEvent.clipboardData.types))e=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;e=window.clipboardData.getData("Text")}this.setDate(e),this.update(),t.preventDefault()},_utc_to_local:function(t){var e;return t&&((e=new Date(t.getTime()+6e4*t.getTimezoneOffset())).getTimezoneOffset()!==t.getTimezoneOffset()?new Date(t.getTime()+6e4*e.getTimezoneOffset()):e)},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&C(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},getDates:function(){return x.map(this.dates,this._utc_to_local)},getUTCDates:function(){return x.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return t!==_?new Date(t):null},clearDates:function(){this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=x.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=x.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,x.map(t,this._utc_to_local)),this},setDate:t("setDates"),setUTCDate:t("setUTCDates"),remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var t=this.getFormattedDate();return this.inputField.val(t),this},getFormattedDate:function(e){e===_&&(e=this.o.format);var i=this.o.language;return x.map(this.dates,function(t){return D.formatDate(t,e,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){return this._process_options({datesDisabled:t}),this.update(),this},place:function(){var t,e,i,n,s,o,r,a,l,c,h;return this.isInline||(t=this.picker.outerWidth(),e=this.picker.outerHeight(),i=(c=x(this.o.container)).width(),n=("body"===this.o.container?x(document):c).scrollTop(),c=c.offset(),s=[0],this.element.parents().each(function(){var t=x(this).css("z-index");"auto"!==t&&0!==Number(t)&&s.push(Number(t))}),o=Math.max.apply(Math,s)+this.o.zIndexOffset,h=(this.component?this.component.parent():this.element).offset(),r=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),a=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),l=h.left-c.left,c=h.top-c.top,"body"!==this.o.container&&(c+=n),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(l-=t-a)):h.left<0?(this.picker.addClass("datepicker-orient-left"),l-=h.left-10):i<l+t?(this.picker.addClass("datepicker-orient-right"),l+=a-t):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left"),"auto"===(h=this.o.orientation.y)&&(h=-n+c-e<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+h),"top"===h?c-=e+parseInt(this.picker.css("padding-top")):c+=r,this.o.rtl?this.picker.css({top:c,right:i-(l+a),zIndex:o}):this.picker.css({top:c,left:l,zIndex:o})),this},_allow_update:!0,update:function(){var t,i,e;return this._allow_update&&(t=this.dates.copy(),e=!(i=[]),arguments.length?(x.each(arguments,x.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),e=!0):(i=(i=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=x.map(i,x.proxy(function(t){return D.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),i=x.grep(i,x.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(i),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),e?(this.setValue(),this.element.change()):this.dates.length&&String(t)!==String(this.dates)&&e&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&t.length&&(this._trigger("clearDate"),this.element.change()),this.fill()),this},fillDow:function(){if(this.o.showWeekDays){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow',-1!==x.inArray(t,this.o.daysOfWeekDisabled)&&(e+=" disabled"),e+='">'+T[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)}},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",i=0;i<12;i++)e+='<span class="month'+(t&&t.getMonth()===i?" focused":"")+'">'+T[this.o.language].monthsShort[i]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=x.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=S();return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<n?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>n)&&e.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&e.push("focused"),this.o.todayHighlight&&o(t,s)&&e.push("today"),-1!==this.dates.contains(t)&&e.push("active"),this.dateWithinRange(t)||e.push("disabled"),this.dateIsDisabled(t)&&e.push("disabled","disabled-date"),-1!==x.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&e.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!==x.inArray(t.valueOf(),this.range)&&e.push("selected"),t.valueOf()===this.range[0]&&e.push("range-start"),t.valueOf()===this.range[this.range.length-1])&&e.push("range-end"),e},_fill_yearsView:function(t,e,i,n,s,o,r){for(var a,l,c,h="",d=i/10,t=this.picker.find(t),u=Math.floor(n/i)*i,p=u+9*d,f=Math.floor(this.viewDate.getFullYear()/d)*d,g=x.map(this.dates,function(t){return Math.floor(t.getUTCFullYear()/d)*d}),m=u-d;m<=p+d;m+=d)a=[e],l=null,m===u-d?a.push("old"):m===p+d&&a.push("new"),-1!==x.inArray(m,g)&&a.push("active"),(m<s||o<m)&&a.push("disabled"),m===f&&a.push("focused"),r!==x.noop&&((c=r(new Date(m,0,1)))===_?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),!1===c.enabled&&a.push("disabled"),c.classes&&(a=a.concat(c.classes.split(/\s+/))),c.tooltip)&&(l=c.tooltip),h+='<span class="'+a.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+m+"</span>";t.find(".datepicker-switch").text(u+"-"+p),t.find("td").html(h)},fill:function(){var t,e,i=new Date(this.viewDate),n=i.getUTCFullYear(),s=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=T[this.o.language].today||T.en.today||"",h=T[this.o.language].clear||T.en.clear||"",d=T[this.o.language].titleFormat||T.en.titleFormat,u=S(),u=(!0===this.o.todayBtn||"linked"===this.o.todayBtn)&&u>=this.o.startDate&&u<=this.o.endDate&&!this.weekOfDateIsDisabled(u);if(!isNaN(n)&&!isNaN(s)){this.picker.find(".datepicker-days .datepicker-switch").text(D.formatDate(i,d,this.o.language)),this.picker.find("tfoot .today").text(c).css("display",u?"table-cell":"none"),this.picker.find("tfoot .clear").text(h).css("display",!0===this.o.clearBtn?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display","string"==typeof this.o.title&&""!==this.o.title?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var p=C(n,s,0),i=p.getUTCDate(),f=(p.setUTCDate(i-(p.getUTCDay()-this.o.weekStart+7)%7),new Date(p));p.getUTCFullYear()<100&&f.setUTCFullYear(p.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42);for(var g,f=f.valueOf(),m=[];p.valueOf()<f;){(g=p.getUTCDay())===this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)&&(v=new Date(+p+(this.o.weekStart-g-7)%7*864e5),v=new Date(Number(v)+(11-v.getUTCDay())%7*864e5),y=new Date(Number(y=C(v.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),m.push('<td class="cw">'+((v-y)/864e5/7+1)+"</td>")),(v=this.getClassNames(p)).push("day");var v,y=p.getUTCDate();this.o.beforeShowDay!==x.noop&&((e=this.o.beforeShowDay(this._utc_to_local(p)))===_?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),!1===e.enabled&&v.push("disabled"),e.classes&&(v=v.concat(e.classes.split(/\s+/))),e.tooltip&&(t=e.tooltip),e.content)&&(y=e.content),v=x.isFunction(x.uniqueSort)?x.uniqueSort(v):x.unique(v),m.push('<td class="'+v.join(" ")+'"'+(t?' title="'+t+'"':"")+' data-date="'+p.getTime().toString()+'">'+y+"</td>"),t=null,g===this.o.weekEnd&&m.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(m.join(""));var w,d=T[this.o.language].monthsTitle||T.en.monthsTitle||"Months",b=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?d:n).end().find("tbody span").removeClass("active");x.each(this.dates,function(t,e){e.getUTCFullYear()===n&&b.eq(e.getUTCMonth()).addClass("active")}),(n<o||a<n)&&b.addClass("disabled"),n===o&&b.slice(0,r).addClass("disabled"),n===a&&b.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==x.noop&&(w=this,x.each(b,function(t,e){t=new Date(n,t,1),t=w.o.beforeShowMonth(t);t===_?t={}:"boolean"==typeof t?t={enabled:t}:"string"==typeof t&&(t={classes:t}),!1!==t.enabled||x(e).hasClass("disabled")||x(e).addClass("disabled"),t.classes&&x(e).addClass(t.classes),t.tooltip&&x(e).prop("title",t.tooltip)})),this._fill_yearsView(".datepicker-years","year",10,n,o,a,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,n,o,a,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,n,o,a,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t,e,i=new Date(this.viewDate),n=i.getUTCFullYear(),s=i.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,r=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,a=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=1;switch(this.viewMode){case 4:c*=10;case 3:c*=10;case 2:c*=10;case 1:t=Math.floor(n/c)*c<=o,e=Math.floor(n/c)*c+c>a;break;case 0:t=n<=o&&s<=r,e=a<=n&&l<=s}this.picker.find(".prev").toggleClass("disabled",t),this.picker.find(".next").toggleClass("disabled",e)}},click:function(t){var e,i;t.preventDefault(),t.stopPropagation(),(t=x(t.target)).hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),t.hasClass("today")&&!t.hasClass("day")&&(this.setViewMode(0),this._setDate(S(),"linked"===this.o.todayBtn?null:"view")),t.hasClass("clear")&&this.clearDates(),t.hasClass("disabled")||(t.hasClass("month")||t.hasClass("year")||t.hasClass("decade")||t.hasClass("century"))&&(this.viewDate.setUTCDate(1),1===this.viewMode?(i=t.parent().find("span").index(t),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i)):(i=0,e=Number(t.text()),this.viewDate.setUTCFullYear(e)),this._trigger(D.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(C(e,i,1)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(t){t=x(t.currentTarget).data("date"),t=new Date(t);this.o.updateViewDate&&(t.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),t.getUTCMonth()!==this.viewDate.getUTCMonth())&&this._trigger("changeMonth",this.viewDate),this._setDate(t)},navArrowsClick:function(t){t=x(t.currentTarget).hasClass("prev")?-1:1;0!==this.viewMode&&(t*=12*D.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,t),this._trigger(D.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(e):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(t)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),(!e&&this.o.updateViewDate||"view"===e)&&(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var i=new Date(t);return i.setUTCDate(t.getUTCDate()+e),i},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!(i=t)||isNaN(i.getTime()))return this.o.defaultViewDate;var i;if(!e)return t;var n,s,o=new Date(t.valueOf()),r=o.getUTCDate(),a=o.getUTCMonth(),l=Math.abs(e);if(e=0<e?1:-1,1===l)s=-1===e?function(){return o.getUTCMonth()===a}:function(){return o.getUTCMonth()!==n},n=a+e,o.setUTCMonth(n),n=(n+12)%12;else{for(var c=0;c<l;c++)o=this.moveMonth(o,e);n=o.getUTCMonth(),o.setUTCDate(r),s=function(){return n!==o.getUTCMonth()}}for(;s();)o.setUTCDate(--r),o.setUTCMonth(n);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,i){do{if(t=this[i](t,e),!this.dateWithinRange(t))return!1}while(i="moveDay",this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(t){return-1!==x.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||0<x.grep(this.o.datesDisabled,function(t){return o(e,t)}).length},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":visible")){var e,i,n=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:this.o.keyboardNavigation&&7!==this.o.daysOfWeekDisabled.length&&(e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(i=this.moveAvailableDate(s,e,"moveYear"))&&this._trigger("changeYear",this.viewDate):t.shiftKey?(i=this.moveAvailableDate(s,e,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===t.keyCode||39===t.keyCode?i=this.moveAvailableDate(s,e,"moveDay"):this.weekOfDateIsDisabled(s)||(i=this.moveAvailableDate(s,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(s,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e*=4),i=this.moveAvailableDate(s,e,"moveYear")),i)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),t.preventDefault());break;case 13:this.o.forceParse&&(s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible"))&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose)&&this.hide();break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}n&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))}else 40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation())},setViewMode:function(t){this.viewMode=t,this.picker.children("div").hide().filter(".datepicker-"+D.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}},l.prototype={updateDates:function(){this.dates=x.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=x.map(this.dates,function(t){return t.valueOf()});x.each(this.pickers,function(t,e){e.setRange(i)})},clearDates:function(){x.each(this.pickers,function(t,e){e.clearDates()})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=x.data(t.target,"datepicker");if(i!==_){var n=i.getUTCDate(),s=this.keepEmptyValues,t=x.inArray(t.target,this.inputs),e=t-1,o=t+1,r=this.inputs.length;if(-1!==t){if(x.each(this.pickers,function(t,e){e.getUTCDate()||e!==i&&s||e.setUTCDate(n)}),n<this.dates[e])for(;0<=e&&n<this.dates[e];)this.pickers[e--].setUTCDate(n);else if(n>this.dates[o])for(;o<r&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates(),delete this.updating}}}},destroy:function(){x.map(this.pickers,function(t){t.destroy()}),x(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:t("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")},x.fn.datepicker),s=function(o){var r,a=Array.apply(null,arguments);if(a.shift(),this.each(function(){var t,e,i=x(this),n=i.data("datepicker"),s="object"==typeof o&&o;n||(t=function(t,e){function i(t,e){return e.toLowerCase()}var n,s,o=x(t).data(),r={},a=new RegExp("^"+e.toLowerCase()+"([A-Z])");for(s in e=new RegExp("^"+e.toLowerCase()),o)e.test(s)&&(n=s.replace(a,i),r[n]=o[s]);return r}(this,"date"),e=function(t){var i,n={};if(T[t]||(t=t.split("-")[0],T[t]))return i=T[t],x.each(h,function(t,e){e in i&&(n[e]=i[e])}),n}(x.extend({},c,t,s).language),e=x.extend({},c,e,t,s),n=new(i.hasClass("input-daterange")||e.inputs?(x.extend(e,{inputs:e.inputs||i.find("input").toArray()}),l):k)(this,e),i.data("datepicker",n)),"string"==typeof o&&"function"==typeof n[o]&&(r=n[o].apply(n,a))}),r===_||r instanceof k||r instanceof l)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+o+" function)");return r},c=(x.fn.datepicker=s,x.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:x.noop,beforeShowMonth:x.noop,beforeShowYear:x.noop,beforeShowDecade:x.noop,beforeShowCentury:x.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0}),h=x.fn.datepicker.locale_opts=["format","rtl","weekStart"],T=(x.fn.datepicker.Constructor=k,x.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}}),D={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),t=t.match(this.validParts);if(e&&e.length&&t&&0!==t.length)return{separators:e,parts:t};throw new Error("Invalid date format.")},parseDate:function(t,e,i,n){function s(){var t=this.slice(0,u[w].length),e=u[w].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!t)return _;if(!(t instanceof Date)){if((e="string"==typeof e?D.parseFormat(e):e).toValue)return e.toValue(t,e,i);var o,r,a,l={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},c={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(t=t in c?c[t]:t)){for(u=t.match(/([\-+]\d+)([dmwy])/gi),t=new Date,w=0;w<u.length;w++)o=u[w].match(/([\-+]\d+)([dmwy])/i),r=Number(o[1]),a=l[o[2].toLowerCase()],t=k.prototype[a](t,r);return k.prototype._zero_utc_time(t)}var h,d,u=t&&t.match(this.nonpunctuation)||[],p={},f=["yyyy","yy","M","MM","m","mm","d","dd"],g={yyyy:function(t,e){return t.setUTCFullYear(n?(!0===(t=n)&&(t=10),(i=e)<100&&(i+=2e3)>(new Date).getFullYear()+t&&(i-=100),i):e);var i},m:function(t,e){if(!isNaN(t)){for(--e;e<0;)e+=12;for(t.setUTCMonth(e%=12);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1)}return t},d:function(t,e){return t.setUTCDate(e)}},m=(g.yy=g.yyyy,g.M=g.MM=g.mm=g.m,g.dd=g.d,t=S(),e.parts.slice());if(u.length!==m.length&&(m=x(m).filter(function(t,e){return-1!==x.inArray(e,f)}).toArray()),u.length===m.length){for(var v,y,w=0,b=m.length;w<b;w++){if(h=parseInt(u[w],10),o=m[w],isNaN(h))switch(o){case"MM":d=x(T[i].months).filter(s),h=x.inArray(d[0],T[i].months)+1;break;case"M":d=x(T[i].monthsShort).filter(s),h=x.inArray(d[0],T[i].monthsShort)+1}p[o]=h}for(w=0;w<f.length;w++)(y=f[w])in p&&!isNaN(p[y])&&(v=new Date(t),g[y](v,p[y]),isNaN(v)||(t=v))}}return t},formatDate:function(t,e,i){if(!t)return"";if((e="string"==typeof e?D.parseFormat(e):e).toDisplay)return e.toDisplay(t,e,i);var n={d:t.getUTCDate(),D:T[i].daysShort[t.getUTCDay()],DD:T[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:T[i].monthsShort[t.getUTCMonth()],MM:T[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var s=x.extend([],e.separators),o=0,r=e.parts.length;o<=r;o++)s.length&&t.push(s.shift()),t.push(n[e.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+c.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+c.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};D.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+D.headTemplate+"<tbody></tbody>"+D.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+D.headTemplate+D.contTemplate+D.footTemplate+"</table></div></div>",x.fn.datepicker.DPGlobal=D,x.fn.datepicker.noConflict=function(){return x.fn.datepicker=n,this},x.fn.datepicker.version="1.9.0",x.fn.datepicker.deprecated=function(t){var e=window.console;e&&e.warn&&e.warn("DEPRECATED: "+t)},x(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=x(this);e.data("datepicker")||(t.preventDefault(),s.call(e,"show"))}),x(function(){s.call(x('[data-provide="datepicker-inline"]'))})}),!function(d){var i=!0;d.flexslider=function(p,t){var e,f=d(p),r=(f.vars=d.extend({},d.flexslider.defaults,t),f.vars.namespace),g=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,a=("ontouchstart"in window||g||window.DocumentTouch&&document instanceof DocumentTouch)&&f.vars.touch,o="click touchend MSPointerUp keyup",l="",m="vertical"===f.vars.direction,v=f.vars.reverse,y=0<f.vars.itemWidth,w="fade"===f.vars.animation,c=""!==f.vars.asNavFor,h={};d.data(p,"flexslider",f),h={init:function(){f.animating=!1,f.currentSlide=parseInt(f.vars.startAt||0,10),isNaN(f.currentSlide)&&(f.currentSlide=0),f.animatingTo=f.currentSlide,f.atEnd=0===f.currentSlide||f.currentSlide===f.last,f.containerSelector=f.vars.selector.substr(0,f.vars.selector.search(" ")),f.slides=d(f.vars.selector,f),f.container=d(f.containerSelector,f),f.count=f.slides.length,f.syncExists=0<d(f.vars.sync).length,"slide"===f.vars.animation&&(f.vars.animation="swing"),f.prop=m?"top":"marginLeft",f.args={},f.manualPause=!1,f.stopped=!1,f.started=!1,f.startTimeout=null,f.transitions=!f.vars.video&&!w&&f.vars.useCSS&&function(){var t,e=document.createElement("div"),i=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(t in i)if(void 0!==e.style[i[t]])return f.pfx=i[t].replace("Perspective","").toLowerCase(),f.prop="-"+f.pfx+"-transform",!0;return!1}(),(f.ensureAnimationEnd="")!==f.vars.controlsContainer&&(f.controlsContainer=0<d(f.vars.controlsContainer).length&&d(f.vars.controlsContainer)),""!==f.vars.manualControls&&(f.manualControls=0<d(f.vars.manualControls).length&&d(f.vars.manualControls)),""!==f.vars.customDirectionNav&&(f.customDirectionNav=2===d(f.vars.customDirectionNav).length&&d(f.vars.customDirectionNav)),f.vars.randomize&&(f.slides.sort(function(){return Math.round(Math.random())-.5}),f.container.empty().append(f.slides)),f.doMath(),f.setup("init"),f.vars.controlNav&&h.controlNav.setup(),f.vars.directionNav&&h.directionNav.setup(),f.vars.keyboard&&(1===d(f.containerSelector).length||f.vars.multipleKeyboard)&&d(document).bind("keyup",function(t){var t=t.keyCode;f.animating||39!==t&&37!==t||(t=39===t?f.getTarget("next"):37===t&&f.getTarget("prev"),f.flexAnimate(t,f.vars.pauseOnAction))}),f.vars.mousewheel&&f.bind("mousewheel",function(t,e,i,n){t.preventDefault();t=e<0?f.getTarget("next"):f.getTarget("prev");f.flexAnimate(t,f.vars.pauseOnAction)}),f.vars.pausePlay&&h.pausePlay.setup(),f.vars.slideshow&&f.vars.pauseInvisible&&h.pauseInvisible.init(),f.vars.slideshow&&(f.vars.pauseOnHover&&f.hover(function(){f.manualPlay||f.manualPause||f.pause()},function(){f.manualPause||f.manualPlay||f.stopped||f.play()}),f.vars.pauseInvisible&&h.pauseInvisible.isHidden()||(0<f.vars.initDelay?f.startTimeout=setTimeout(f.play,f.vars.initDelay):f.play())),c&&h.asNav.setup(),a&&f.vars.touch&&h.touch(),w&&!f.vars.smoothHeight||d(window).bind("resize orientationchange focus",h.resize),f.find("img").attr("draggable","false"),setTimeout(function(){f.vars.start(f)},200)},asNav:{setup:function(){f.asNav=!0,f.animatingTo=Math.floor(f.currentSlide/f.move),f.currentItem=f.currentSlide,f.slides.removeClass(r+"active-slide").eq(f.currentItem).addClass(r+"active-slide"),g?(p._slider=f).slides.each(function(){this._gesture=new MSGesture,(this._gesture.target=this).addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),this.addEventListener("MSGestureTap",function(t){t.preventDefault();var t=d(this),e=t.index();d(f.vars.asNavFor).data("flexslider").animating||t.hasClass("active")||(f.direction=f.currentItem<e?"next":"prev",f.flexAnimate(e,f.vars.pauseOnAction,!1,!0,!0))})}):f.slides.on(o,function(t){t.preventDefault();var t=d(this),e=t.index();t.offset().left-d(f).scrollLeft()<=0&&t.hasClass(r+"active-slide")?f.flexAnimate(f.getTarget("prev"),!0):d(f.vars.asNavFor).data("flexslider").animating||t.hasClass(r+"active-slide")||(f.direction=f.currentItem<e?"next":"prev",f.flexAnimate(e,f.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){f.manualControls?h.controlNav.setupManual():h.controlNav.setupPaging()},setupPaging:function(){var t="thumbnails"===f.vars.controlNav?"control-thumbs":"control-paging",e=1;if(f.controlNavScaffold=d('<ol class="'+r+"control-nav "+r+t+'"></ol>'),1<f.pagingCount)for(var i=0;i<f.pagingCount;i++){void 0===(n=f.slides.eq(i)).attr("data-thumb-alt")&&n.attr("data-thumb-alt","");var n,s=""!==n.attr("data-thumb-alt")?' alt="'+n.attr("data-thumb-alt")+'"':"",s="thumbnails"===f.vars.controlNav?'<img src="'+n.attr("data-thumb")+'"'+s+"/>":'<a href="#">'+e+"</a>";"thumbnails"===f.vars.controlNav&&!0===f.vars.thumbCaptions&&""!==(n=n.attr("data-thumbcaption"))&&void 0!==n&&(s+='<span class="'+r+'caption">'+n+"</span>"),f.controlNavScaffold.append("<li>"+s+"</li>"),e++}(f.controlsContainer?d(f.controlsContainer):f).append(f.controlNavScaffold),h.controlNav.set(),h.controlNav.active(),f.controlNavScaffold.delegate("a, img",o,function(t){var e,i;t.preventDefault(),""!==l&&l!==t.type||(e=d(this),i=f.controlNav.index(e),e.hasClass(r+"active"))||(f.direction=i>f.currentSlide?"next":"prev",f.flexAnimate(i,f.vars.pauseOnAction)),""===l&&(l=t.type),h.setToClearWatchedEvent()})},setupManual:function(){f.controlNav=f.manualControls,h.controlNav.active(),f.controlNav.bind(o,function(t){var e,i;t.preventDefault(),""!==l&&l!==t.type||(e=d(this),i=f.controlNav.index(e),e.hasClass(r+"active"))||(i>f.currentSlide?f.direction="next":f.direction="prev",f.flexAnimate(i,f.vars.pauseOnAction)),""===l&&(l=t.type),h.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===f.vars.controlNav?"img":"a";f.controlNav=d("."+r+"control-nav li "+t,f.controlsContainer||f)},active:function(){f.controlNav.removeClass(r+"active").eq(f.animatingTo).addClass(r+"active")},update:function(t,e){1<f.pagingCount&&"add"===t?f.controlNavScaffold.append(d('<li><a href="#">'+f.count+"</a></li>")):(1===f.pagingCount?f.controlNavScaffold.find("li"):f.controlNav.eq(e).closest("li")).remove(),h.controlNav.set(),1<f.pagingCount&&f.pagingCount!==f.controlNav.length?f.update(e,t):h.controlNav.active()}},directionNav:{setup:function(){var t=d('<ul class="'+r+'direction-nav"><li class="'+r+'nav-prev"><a class="'+r+'prev" href="#">'+f.vars.prevText+'</a></li><li class="'+r+'nav-next"><a class="'+r+'next" href="#">'+f.vars.nextText+"</a></li></ul>");f.customDirectionNav?f.directionNav=f.customDirectionNav:f.controlsContainer?(d(f.controlsContainer).append(t),f.directionNav=d("."+r+"direction-nav li a",f.controlsContainer)):(f.append(t),f.directionNav=d("."+r+"direction-nav li a",f)),h.directionNav.update(),f.directionNav.bind(o,function(t){var e;t.preventDefault(),""!==l&&l!==t.type||(e=d(this).hasClass(r+"next")?f.getTarget("next"):f.getTarget("prev"),f.flexAnimate(e,f.vars.pauseOnAction)),""===l&&(l=t.type),h.setToClearWatchedEvent()})},update:function(){var t=r+"disabled";1===f.pagingCount?f.directionNav.addClass(t).attr("tabindex","-1"):f.vars.animationLoop?f.directionNav.removeClass(t).removeAttr("tabindex"):0===f.animatingTo?f.directionNav.removeClass(t).filter("."+r+"prev").addClass(t).attr("tabindex","-1"):f.animatingTo===f.last?f.directionNav.removeClass(t).filter("."+r+"next").addClass(t).attr("tabindex","-1"):f.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=d('<div class="'+r+'pauseplay"><a href="#"></a></div>');f.controlsContainer?(f.controlsContainer.append(t),f.pausePlay=d("."+r+"pauseplay a",f.controlsContainer)):(f.append(t),f.pausePlay=d("."+r+"pauseplay a",f)),h.pausePlay.update(f.vars.slideshow?r+"pause":r+"play"),f.pausePlay.bind(o,function(t){t.preventDefault(),""!==l&&l!==t.type||(d(this).hasClass(r+"pause")?(f.manualPause=!0,f.manualPlay=!1,f.pause()):(f.manualPause=!1,f.manualPlay=!0,f.play())),""===l&&(l=t.type),h.setToClearWatchedEvent()})},update:function(t){"play"===t?f.pausePlay.removeClass(r+"pause").addClass(r+"play").html(f.vars.playText):f.pausePlay.removeClass(r+"play").addClass(r+"pause").html(f.vars.pauseText)}},touch:function(){var n,s,o,r,a,l,c,h,d=!1,e=0,i=0,u=0;g?(p.style.msTouchAction="none",p._gesture=new MSGesture,(p._gesture.target=p).addEventListener("MSPointerDown",function(t){t.stopPropagation(),f.animating?t.preventDefault():(f.pause(),p._gesture.addPointer(t.pointerId),u=0,r=m?f.h:f.w,l=Number(new Date),o=y&&v&&f.animatingTo===f.last?0:y&&v?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:y&&f.currentSlide===f.last?f.limit:y?(f.itemW+f.vars.itemMargin)*f.move*f.currentSlide:v?(f.last-f.currentSlide+f.cloneOffset)*r:(f.currentSlide+f.cloneOffset)*r)},!1),p._slider=f,p.addEventListener("MSGestureChange",function(t){t.stopPropagation();var e,i,n=t.target._slider;if(n)return e=-t.translationX,i=-t.translationY,a=u+=m?i:e,d=m?Math.abs(u)<Math.abs(-e):Math.abs(u)<Math.abs(-i),t.detail===t.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){p._gesture.stop()}):void((!d||500<Number(new Date)-l)&&(t.preventDefault(),!w)&&n.transitions&&(n.vars.animationLoop||(a=u/(0===n.currentSlide&&u<0||n.currentSlide===n.last&&0<u?Math.abs(u)/r+2:1)),n.setProps(o+a,"setTouch")))},!1),p.addEventListener("MSGestureEnd",function(t){var e,i;t.stopPropagation(),(t=t.target._slider)&&(t.animatingTo!==t.currentSlide||d||null===a||(i=0<(e=v?-a:a)?t.getTarget("next"):t.getTarget("prev"),t.canAdvance(i)&&(Number(new Date)-l<550&&50<Math.abs(e)||Math.abs(e)>r/2)?t.flexAnimate(i,t.vars.pauseOnAction):w||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0)),o=a=s=n=null,u=0)},!1)):(c=function(t){e=t.touches[0].pageX,i=t.touches[0].pageY,a=m?n-i:n-e;(!(d=m?Math.abs(a)<Math.abs(e-s):Math.abs(a)<Math.abs(i-s))||500<Number(new Date)-l)&&(t.preventDefault(),!w)&&f.transitions&&(f.vars.animationLoop||(a/=0===f.currentSlide&&a<0||f.currentSlide===f.last&&0<a?Math.abs(a)/r+2:1),f.setProps(o+a,"setTouch"))},h=function(t){var e,i;p.removeEventListener("touchmove",c,!1),f.animatingTo!==f.currentSlide||d||null===a||(i=0<(e=v?-a:a)?f.getTarget("next"):f.getTarget("prev"),f.canAdvance(i)&&(Number(new Date)-l<550&&50<Math.abs(e)||Math.abs(e)>r/2)?f.flexAnimate(i,f.vars.pauseOnAction):w||f.flexAnimate(f.currentSlide,f.vars.pauseOnAction,!0)),p.removeEventListener("touchend",h,!1),o=a=s=n=null},p.addEventListener("touchstart",function(t){f.animating?t.preventDefault():!window.navigator.msPointerEnabled&&1!==t.touches.length||(f.pause(),r=m?f.h:f.w,l=Number(new Date),e=t.touches[0].pageX,i=t.touches[0].pageY,o=y&&v&&f.animatingTo===f.last?0:y&&v?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:y&&f.currentSlide===f.last?f.limit:y?(f.itemW+f.vars.itemMargin)*f.move*f.currentSlide:v?(f.last-f.currentSlide+f.cloneOffset)*r:(f.currentSlide+f.cloneOffset)*r,n=m?i:e,s=m?e:i,p.addEventListener("touchmove",c,!1),p.addEventListener("touchend",h,!1))},!1))},resize:function(){!f.animating&&f.is(":visible")&&(y||f.doMath(),w?h.smoothHeight():y?(f.slides.width(f.computedW),f.update(f.pagingCount),f.setProps()):m?(f.viewport.height(f.h),f.setProps(f.h,"setTotal")):(f.vars.smoothHeight&&h.smoothHeight(),f.newSlides.width(f.computedW),f.setProps(f.computedW,"setTotal")))},smoothHeight:function(t){var e;m&&!w||(e=w?f:f.viewport,t?e.animate({height:f.slides.eq(f.animatingTo).innerHeight()},t):e.innerHeight(f.slides.eq(f.animatingTo).innerHeight()))},sync:function(t){var e=d(f.vars.sync).data("flexslider"),i=f.animatingTo;switch(t){case"animate":e.flexAnimate(i,f.vars.pauseOnAction,!1,!0);break;case"play":e.playing||e.asNav||e.play();break;case"pause":e.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=d(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var t=h.pauseInvisible.getHiddenProp();t&&(t=t.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(t,function(){h.pauseInvisible.isHidden()?f.startTimeout?clearTimeout(f.startTimeout):f.pause():!f.started&&0<f.vars.initDelay?setTimeout(f.play,f.vars.initDelay):f.play()}))},isHidden:function(){var t=h.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(e),e=setTimeout(function(){l=""},3e3)}},f.flexAnimate=function(t,e,i,n,s){if(f.vars.animationLoop||t===f.currentSlide||(f.direction=t>f.currentSlide?"next":"prev"),c&&1===f.pagingCount&&(f.direction=f.currentItem<t?"next":"prev"),!f.animating&&(f.canAdvance(t,s)||i)&&f.is(":visible")){if(c&&n){i=d(f.vars.asNavFor).data("flexslider");if(f.atEnd=0===t||t===f.count-1,i.flexAnimate(t,!0,!1,!0,s),f.direction=f.currentItem<t?"next":"prev",i.direction=f.direction,Math.ceil((t+1)/f.visible)-1===f.currentSlide||0===t)return f.currentItem=t,f.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),!1;f.currentItem=t,f.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),t=Math.floor(t/f.visible)}var o;f.animating=!0,f.animatingTo=t,e&&f.pause(),f.vars.before(f),f.syncExists&&!s&&h.sync("animate"),f.vars.controlNav&&h.controlNav.active(),y||f.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),f.atEnd=0===t||t===f.last,f.vars.directionNav&&h.directionNav.update(),t===f.last&&(f.vars.end(f),f.vars.animationLoop||f.pause()),w?a?(f.slides.eq(f.currentSlide).css({opacity:0,zIndex:1}),f.slides.eq(t).css({opacity:1,zIndex:2}),f.wrapup(o)):(f.slides.eq(f.currentSlide).css({zIndex:1}).animate({opacity:0},f.vars.animationSpeed,f.vars.easing),f.slides.eq(t).css({zIndex:2}).animate({opacity:1},f.vars.animationSpeed,f.vars.easing,f.wrapup)):(o=m?f.slides.filter(":first").height():f.computedW,e=y?(n=f.vars.itemMargin,(i=(f.itemW+n)*f.move*f.animatingTo)>f.limit&&1!==f.visible?f.limit:i):0===f.currentSlide&&t===f.count-1&&f.vars.animationLoop&&"next"!==f.direction?v?(f.count+f.cloneOffset)*o:0:f.currentSlide===f.last&&0===t&&f.vars.animationLoop&&"prev"!==f.direction?v?0:(f.count+1)*o:v?(f.count-1-t+f.cloneOffset)*o:(t+f.cloneOffset)*o,f.setProps(e,"",f.vars.animationSpeed),f.transitions?(f.vars.animationLoop&&f.atEnd||(f.animating=!1,f.currentSlide=f.animatingTo),f.container.unbind("webkitTransitionEnd transitionend"),f.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(f.ensureAnimationEnd),f.wrapup(o)}),clearTimeout(f.ensureAnimationEnd),f.ensureAnimationEnd=setTimeout(function(){f.wrapup(o)},f.vars.animationSpeed+100)):f.container.animate(f.args,f.vars.animationSpeed,f.vars.easing,function(){f.wrapup(o)})),f.vars.smoothHeight&&h.smoothHeight(f.vars.animationSpeed)}},f.wrapup=function(t){w||y||(0===f.currentSlide&&f.animatingTo===f.last&&f.vars.animationLoop?f.setProps(t,"jumpEnd"):f.currentSlide===f.last&&0===f.animatingTo&&f.vars.animationLoop&&f.setProps(t,"jumpStart")),f.animating=!1,f.currentSlide=f.animatingTo,f.vars.after(f)},f.animateSlides=function(){!f.animating&&i&&f.flexAnimate(f.getTarget("next"))},f.pause=function(){clearInterval(f.animatedSlides),f.animatedSlides=null,f.playing=!1,f.vars.pausePlay&&h.pausePlay.update("play"),f.syncExists&&h.sync("pause")},f.play=function(){f.playing&&clearInterval(f.animatedSlides),f.animatedSlides=f.animatedSlides||setInterval(f.animateSlides,f.vars.slideshowSpeed),f.started=f.playing=!0,f.vars.pausePlay&&h.pausePlay.update("pause"),f.syncExists&&h.sync("play")},f.stop=function(){f.pause(),f.stopped=!0},f.canAdvance=function(t,e){var i=c?f.pagingCount-1:f.last;return!!e||c&&f.currentItem===f.count-1&&0===t&&"prev"===f.direction||!(c&&0===f.currentItem&&t===f.pagingCount-1&&"next"!==f.direction||t===f.currentSlide&&!c||!f.vars.animationLoop&&(f.atEnd&&0===f.currentSlide&&t===i&&"next"!==f.direction||f.atEnd&&f.currentSlide===i&&0===t&&"next"===f.direction))},f.getTarget=function(t){return"next"===(f.direction=t)?f.currentSlide===f.last?0:f.currentSlide+1:0===f.currentSlide?f.last:f.currentSlide-1},f.setProps=function(t,e,i){n=t||(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo;var n,s=-1*function(){if(y)return"setTouch"===e?t:v&&f.animatingTo===f.last?0:v?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:f.animatingTo===f.last?f.limit:n;switch(e){case"setTotal":return v?(f.count-1-f.currentSlide+f.cloneOffset)*t:(f.currentSlide+f.cloneOffset)*t;case"setTouch":return t;case"jumpEnd":return v?t:f.count*t;case"jumpStart":return v?f.count*t:t;default:return t}}()+"px";f.transitions&&(s=m?"translate3d(0,"+s+",0)":"translate3d("+s+",0,0)",f.container.css("-"+f.pfx+"-transition-duration",i=void 0!==i?i/1e3+"s":"0s"),f.container.css("transition-duration",i)),f.args[f.prop]=s,!f.transitions&&void 0!==i||f.container.css(f.args),f.container.css("transform",s)},f.setup=function(t){var e,i;w?(f.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===t&&(a?f.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+f.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(f.currentSlide).css({opacity:1,zIndex:2}):0==f.vars.fadeFirstSlide?f.slides.css({opacity:0,display:"block",zIndex:1}).eq(f.currentSlide).css({zIndex:2}).css({opacity:1}):f.slides.css({opacity:0,display:"block",zIndex:1}).eq(f.currentSlide).css({zIndex:2}).animate({opacity:1},f.vars.animationSpeed,f.vars.easing)),f.vars.smoothHeight&&h.smoothHeight()):("init"===t&&(f.viewport=d('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(f).append(f.container),f.cloneCount=0,f.cloneOffset=0,v)&&(i=d.makeArray(f.slides).reverse(),f.slides=d(i),f.container.empty().append(f.slides)),f.vars.animationLoop&&!y&&(f.cloneCount=2,f.cloneOffset=1,"init"!==t&&f.container.find(".clone").remove(),f.container.append(h.uniqueID(f.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(h.uniqueID(f.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),f.newSlides=d(f.vars.selector,f),e=v?f.count-1-f.currentSlide+f.cloneOffset:f.currentSlide+f.cloneOffset,m&&!y?(f.container.height(200*(f.count+f.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){f.newSlides.css({display:"block"}),f.doMath(),f.viewport.height(f.h),f.setProps(e*f.h,"init")},"init"===t?100:0)):(f.container.width(200*(f.count+f.cloneCount)+"%"),f.setProps(e*f.computedW,"init"),setTimeout(function(){f.doMath(),f.newSlides.css({width:f.computedW,marginRight:f.computedM,float:"left",display:"block"}),f.vars.smoothHeight&&h.smoothHeight()},"init"===t?100:0))),y||f.slides.removeClass(r+"active-slide").eq(f.currentSlide).addClass(r+"active-slide"),f.vars.init(f)},f.doMath=function(){var t=f.slides.first(),e=f.vars.itemMargin,i=f.vars.minItems,n=f.vars.maxItems;f.w=(void 0===f.viewport?f:f.viewport).width(),f.h=t.height(),f.boxPadding=t.outerWidth()-t.width(),y?(f.itemT=f.vars.itemWidth+e,f.itemM=e,f.minW=i?i*f.itemT:f.w,f.maxW=n?n*f.itemT-e:f.w,f.itemW=f.minW>f.w?(f.w-e*(i-1))/i:f.maxW<f.w?(f.w-e*(n-1))/n:f.vars.itemWidth>f.w?f.w:f.vars.itemWidth,f.visible=Math.floor(f.w/f.itemW),f.move=0<f.vars.move&&f.vars.move<f.visible?f.vars.move:f.visible,f.pagingCount=Math.ceil((f.count-f.visible)/f.move+1),f.last=f.pagingCount-1,f.limit=1===f.pagingCount?0:f.vars.itemWidth>f.w?f.itemW*(f.count-1)+e*(f.count-1):(f.itemW+e)*f.count-f.w-e):(f.itemW=f.w,f.itemM=e,f.pagingCount=f.count,f.last=f.count-1),f.computedW=f.itemW-f.boxPadding,f.computedM=f.itemM},f.update=function(t,e){f.doMath(),y||(t<f.currentSlide?f.currentSlide+=1:t<=f.currentSlide&&0!==t&&--f.currentSlide,f.animatingTo=f.currentSlide),f.vars.controlNav&&!f.manualControls&&("add"===e&&!y||f.pagingCount>f.controlNav.length?h.controlNav.update("add"):("remove"===e&&!y||f.pagingCount<f.controlNav.length)&&(y&&f.currentSlide>f.last&&(--f.currentSlide,--f.animatingTo),h.controlNav.update("remove",f.last))),f.vars.directionNav&&h.directionNav.update()},f.addSlide=function(t,e){t=d(t);f.count+=1,f.last=f.count-1,m&&v?void 0!==e?f.slides.eq(f.count-e).after(t):f.container.prepend(t):void 0!==e?f.slides.eq(e).before(t):f.container.append(t),f.update(e,"add"),f.slides=d(f.vars.selector+":not(.clone)",f),f.setup(),f.vars.added(f)},f.removeSlide=function(t){var e=isNaN(t)?f.slides.index(d(t)):t;--f.count,f.last=f.count-1,(isNaN(t)?d(t,f.slides):m&&v?f.slides.eq(f.last):f.slides.eq(t)).remove(),f.doMath(),f.update(e,"remove"),f.slides=d(f.vars.selector+":not(.clone)",f),f.setup(),f.vars.removed(f)},h.init()},d(window).blur(function(t){i=!1}).focus(function(t){i=!0}),d.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},d.fn.flexslider=function(i){if("object"==typeof(i=void 0===i?{}:i))return this.each(function(){var t=d(this),e=i.selector||".slides > li",e=t.find(e);1===e.length&&!1===i.allowOneSlide||0===e.length?(e.fadeIn(400),i.start&&i.start(t)):void 0===t.data("flexslider")&&new d.flexslider(this,i)});var t=d(this).data("flexslider");switch(i){case"play":t.play();break;case"pause":t.pause();break;case"stop":t.stop();break;case"next":t.flexAnimate(t.getTarget("next"),!0);break;case"prev":case"previous":t.flexAnimate(t.getTarget("prev"),!0);break;default:"number"==typeof i&&t.flexAnimate(i,!0)}}}(jQuery),function(){}),FlipClock,pp_alreadyInitialized=(Base.extend=function(t,e){"use strict";var i=Base.prototype.extend,n=(Base._prototyping=!0,new this),s=(i.call(n,t),n.base=function(){},delete Base._prototyping,n.constructor),o=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,s.apply(this,arguments),delete this._constructing;else if(null!==arguments[0])return(arguments[0].extend||i).call(arguments[0],n)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=n,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:s.valueOf()},i.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){if(1<arguments.length){var i,n=this[t];!n||"function"!=typeof e||n.valueOf&&n.valueOf()==e.valueOf()||!/\bbase\b/.test(e)||(i=e.valueOf(),(e=function(){var t=this.base||Base.prototype.base,e=(this.base=n,i.apply(this,arguments));return this.base=t,e}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString),this[t]=e}else if(t){var s=Base.prototype.extend;Base._prototyping||"function"==typeof this||(s=this.extend||s);for(var o,r={toSource:null},a=["constructor","toString","valueOf"],l=Base._prototyping?0:1;o=a[l++];)t[o]!=r[o]&&s.call(this,o,t[o]);for(o in t)r[o]||s.call(this,o,t[o])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,i){for(var n in t)void 0===this.prototype[n]&&e.call(i,t[n],n,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return String(this.valueOf())}}),!function(i){"use strict";(FlipClock=function(t,e,i){return e instanceof Object&&e instanceof Date==0&&(i=e,e=0),new FlipClock.Factory(t,e,i)}).Lang={},FlipClock.Base=Base.extend({buildDate:"2014-12-12",version:"0.7.7",constructor:function(t,e){this.setOptions(i.extend(!0,{},t="object"!=typeof t?{}:t,e="object"!=typeof e?{}:e))},callback:function(t){if("function"==typeof t){for(var e=[],i=1;i<=arguments.length;i++)arguments[i]&&e.push(arguments[i]);t.apply(this,e)}},log:function(t){window.console&&console.log&&console.log(t)},getOption:function(t){return this[t]||!1},getOptions:function(){return this},setOption:function(t,e){this[t]=e},setOptions:function(t){for(var e in t)void 0!==t[e]&&this.setOption(e,t[e])}})}(jQuery),function(s){"use strict";FlipClock.Face=FlipClock.Base.extend({autoStart:!0,dividers:[],factory:!1,lists:[],constructor:function(t,e){this.dividers=[],this.lists=[],this.base(e),this.factory=t},build:function(){this.autoStart&&this.start()},createDivider:function(t,e,i){"boolean"!=typeof e&&e||(i=e,e=t);var n=['<span class="'+this.factory.classes.dot+' top"></span>','<span class="'+this.factory.classes.dot+' bottom"></span>'].join(""),i=(i&&(n=""),t=this.factory.localize(t),['<span class="'+this.factory.classes.divider+" "+(e||"").toLowerCase()+'">','<span class="'+this.factory.classes.label+'">'+(t||"")+"</span>",n,"</span>"]),e=s(i.join(""));return this.dividers.push(e),e},createList:function(t,e){"object"==typeof t&&(e=t,t=0);t=new FlipClock.List(this.factory,t,e);return this.lists.push(t),t},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0,{minimumDigits:this.factory.minimumDigits}),this.flip(this.factory.original,!1)},appendDigitToClock:function(t){t.$el.append(!1)},addDigit:function(t){t=this.createList(t,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});this.appendDigitToClock(t)},start:function(){},stop:function(){},autoIncrement:function(){this.factory.countdown?this.decrement():this.increment()},increment:function(){this.factory.time.addSecond()},decrement:function(){0==this.factory.time.getTimeSeconds()?this.factory.stop():this.factory.time.subSecond()},flip:function(t,i){var n=this;s.each(t,function(t,e){t=n.lists[t];t?(i||e==t.digit||t.play(),t.select(e)):n.addDigit(e)})}})}(jQuery),function(n){"use strict";FlipClock.Factory=FlipClock.Base.extend({animationRate:1e3,autoStart:!0,callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",countdown:!1,defaultClockFace:"HourlyCounter",defaultLanguage:"english",$el:!1,face:!0,lang:!1,language:"english",minimumDigits:0,original:!1,running:!1,time:!1,timer:!1,$wrapper:!1,constructor:function(t,e,i){i=i||{},this.lists=[],this.running=!1,this.base(i),this.$el=n(t).addClass(this.classes.wrapper),this.$wrapper=this.$el,this.original=e instanceof Date?e:e?Math.round(e):0,this.time=new FlipClock.Time(this,this.original,{minimumDigits:this.minimumDigits,animationRate:this.animationRate}),this.timer=new FlipClock.Timer(this,i),this.loadLanguage(this.language),this.loadClockFace(this.clockFace,i),this.autoStart&&this.start()},loadClockFace:function(t,e){var i=!1;return t=t.ucfirst()+"Face",this.face.stop&&(this.stop(),i=!0),this.$el.html(""),this.time.minimumDigits=this.minimumDigits,(t=new(FlipClock[t]||FlipClock[this.defaultClockFace+"Face"])(this,e)).build(),this.face=t,i&&this.start(),this.face},loadLanguage:function(t){t=FlipClock.Lang[t.ucfirst()]?FlipClock.Lang[t.ucfirst()]:FlipClock.Lang[t]||FlipClock.Lang[this.defaultLanguage];return this.lang=t},localize:function(t,e){var i,n=this.lang;return t?(i=t.toLowerCase(),(n="object"==typeof e?e:n)&&n[i]?n[i]:t):null},start:function(t){var e=this;e.running||e.countdown&&!(e.countdown&&0<e.time.time)?e.log("Trying to start timer when countdown already at 0"):(e.face.start(e.time),e.timer.start(function(){e.flip(),"function"==typeof t&&t()}))},stop:function(t){for(var e in this.face.stop(),this.timer.stop(t),this.lists)this.lists.hasOwnProperty(e)&&this.lists[e].stop()},reset:function(t){this.timer.reset(t),this.face.reset()},setTime:function(t){this.time.time=t,this.flip(!0)},getTime:function(t){return this.time},setCountdown:function(t){var e=this.running;this.countdown=!!t,e&&(this.stop(),this.start())},flip:function(t){this.face.flip(!1,t)}})}(jQuery),function(e){"use strict";FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:!1,$el:!1,$obj:!1,items:[],lastDigit:0,constructor:function(t,e,i){this.factory=t,this.digit=e,this.lastDigit=e,this.$el=this.createList(),this.$obj=this.$el,0<e&&this.select(e),this.factory.$el.append(this.$el)},select:function(t){void 0===t?t=this.digit:this.digit=t,this.digit!=this.lastDigit&&(t=this.$el.find("."+this.classes.before).removeClass(this.classes.before),this.$el.find("."+this.classes.active).removeClass(this.classes.active).addClass(this.classes.before),this.appendListItem(this.classes.active,this.digit),t.remove(),this.lastDigit=this.digit)},play:function(){this.$el.addClass(this.factory.classes.play)},stop:function(){var t=this;setTimeout(function(){t.$el.removeClass(t.factory.classes.play)},this.factory.timer.interval)},createListItem:function(t,e){return['<li class="'+(t||"")+'">','<a href="#">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+(e||"")+"</div>","</div>","</a>","</li>"].join("")},appendListItem:function(t,e){t=this.createListItem(t,e);this.$el.append(t)},createList:function(){var t=this.getPrevDigit()?this.getPrevDigit():this.digit;return e(['<ul class="'+this.classes.flip+" "+(this.factory.running?this.factory.classes.play:"")+'">',this.createListItem(this.classes.before,t),this.createListItem(this.classes.active,this.digit),"</ul>"].join(""))},getNextDigit:function(){return 9==this.digit?0:this.digit+1},getPrevDigit:function(){return 0==this.digit?9:this.digit-1}})}(jQuery),function(i){"use strict";String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)},i.fn.FlipClock=function(t,e){return new FlipClock(i(this),t,e)},i.fn.flipClock=function(t,e){return i.fn.FlipClock(t,e)}}(jQuery),function(r){"use strict";FlipClock.Time=FlipClock.Base.extend({time:0,factory:!1,minimumDigits:0,constructor:function(t,e,i){(i="object"!=typeof i?{}:i).minimumDigits||(i.minimumDigits=t.minimumDigits),this.base(i),this.factory=t,e&&(this.time=e)},convertDigitsToArray:function(t){var e=[];t=t.toString();for(var i=0;i<t.length;i++)t[i].match(/^\d*$/g)&&e.push(t[i]);return e},digit:function(t){var e=this.toString(),i=e.length;return e[i-t]||!1},digitize:function(t){var n=[];if(r.each(t,function(t,e){1==(e=e.toString()).length&&(e="0"+e);for(var i=0;i<e.length;i++)n.push(e.charAt(i))}),n.length>this.minimumDigits&&(this.minimumDigits=n.length),this.minimumDigits>n.length)for(var e=n.length;e<this.minimumDigits;e++)n.unshift("0");return n},getDateObject:function(){return this.time instanceof Date?this.time:new Date((new Date).getTime()+1e3*this.getTimeSeconds())},getDayCounter:function(t){var e=[this.getDays(),this.getHours(!0),this.getMinutes(!0)];return t&&e.push(this.getSeconds(!0)),this.digitize(e)},getDays:function(t){var e=this.getTimeSeconds()/60/60/24;return t&&(e%=7),Math.floor(e)},getHourCounter:function(){return this.digitize([this.getHours(),this.getMinutes(!0),this.getSeconds(!0)])},getHourly:function(){return this.getHourCounter()},getHours:function(t){var e=this.getTimeSeconds()/60/60;return t&&(e%=24),Math.floor(e)},getMilitaryTime:function(t,e){void 0===e&&(e=!0);var i=[(t=t||this.getDateObject()).getHours(),t.getMinutes()];return!0===e&&i.push(t.getSeconds()),this.digitize(i)},getMinutes:function(t){var e=this.getTimeSeconds()/60;return t&&(e%=60),Math.floor(e)},getMinuteCounter:function(){return this.digitize([this.getMinutes(),this.getSeconds(!0)])},getTimeSeconds:function(t){return t=t||new Date,this.time instanceof Date?this.factory.countdown?Math.max(this.time.getTime()/1e3-t.getTime()/1e3,0):t.getTime()/1e3-this.time.getTime()/1e3:this.time},getTime:function(t,e){void 0===e&&(e=!0),t=t||this.getDateObject(),console.log(t);var i=t.getHours(),i=[12<i?i-12:0===i?12:i,t.getMinutes()];return!0===e&&i.push(t.getSeconds()),this.digitize(i)},getSeconds:function(t){var e=this.getTimeSeconds();return t&&(60==e?e=0:e%=60),Math.ceil(e)},getWeeks:function(t){var e=this.getTimeSeconds()/60/60/24/7;return t&&(e%=52),Math.floor(e)},removeLeadingZeros:function(i,n){var s=0,o=[];return r.each(n,function(t,e){t<i?s+=parseInt(n[t],10):o.push(n[t])}),0===s?o:n},addSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()+t):this.time+=t},addSecond:function(){this.addSeconds(1)},subSeconds:function(t){this.time instanceof Date?this.time.setSeconds(this.time.getSeconds()-t):this.time-=t},subSecond:function(){this.subSeconds(1)},toString:function(){return this.getTimeSeconds().toString()}})}(jQuery),function(){"use strict";FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},count:0,factory:!1,interval:1e3,animationRate:1e3,constructor:function(t,e){this.base(e),this.factory=t,this.callback(this.callbacks.init),this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(t){clearInterval(this.timer),this.count=0,this._setInterval(t),this.callback(this.callbacks.reset)},start:function(t){this.factory.running=!0,this._createTimer(t),this.callback(this.callbacks.start)},stop:function(t){this.factory.running=!1,this._clearInterval(t),this.callback(this.callbacks.stop),this.callback(t)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(t){this._setInterval(t)},_destroyTimer:function(t){this._clearInterval(),this.timer=!1,this.callback(t),this.callback(this.callbacks.destroy)},_interval:function(t){this.callback(this.callbacks.interval),this.callback(t),this.count++},_setInterval:function(t){var e=this;e._interval(t),e.timer=setInterval(function(){e._interval(t)},this.interval)}})}(jQuery),function(n){FlipClock.TwentyFourHourClockFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t){var i=this,e=this.factory.$el.find("ul");this.factory.time.time||(this.factory.original=new Date,this.factory.time=new FlipClock.Time(this.factory,this.factory.original)),(t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds)).length>e.length&&n.each(t,function(t,e){i.createList(e)}),this.createDivider(),this.createDivider(),n(this.dividers[0]).insertBefore(this.lists[this.lists.length-2].$el),n(this.dividers[1]).insertBefore(this.lists[this.lists.length-4].$el),this.base()},flip:function(t,e){this.autoIncrement(),t=t||this.factory.time.getMilitaryTime(!1,this.showSeconds),this.base(t,e)}})}(jQuery),function(n){FlipClock.CounterFace=FlipClock.Face.extend({shouldAutoIncrement:!1,constructor:function(e,t){e.autoStart=!!(t="object"!=typeof t?{}:t).autoStart,t.autoStart&&(this.shouldAutoIncrement=!0),e.increment=function(){e.countdown=!1,e.setTime(e.getTime().getTimeSeconds()+1)},e.decrement=function(){e.countdown=!0;var t=e.getTime().getTimeSeconds();0<t&&e.setTime(t-1)},e.setValue=function(t){e.setTime(t)},e.setCounter=function(t){e.setTime(t)},this.base(e,t)},build:function(){var i=this,t=this.factory.$el.find("ul"),e=this.factory.getTime().digitize([this.factory.getTime().time]);e.length>t.length&&n.each(e,function(t,e){i.createList(e).select(e)}),n.each(this.lists,function(t,e){e.play()}),this.base()},flip:function(t,e){this.shouldAutoIncrement&&this.autoIncrement(),t=t||this.factory.getTime().digitize([this.factory.getTime().time]),this.base(t,e)},reset:function(){this.factory.time=new FlipClock.Time(this.factory,this.factory.original?Math.round(this.factory.original):0),this.flip()}})}(jQuery),function(s){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:!0,constructor:function(t,e){this.base(t,e)},build:function(t){var i=this,e=this.factory.$el.find("ul"),n=0;(t=t||this.factory.time.getDayCounter(this.showSeconds)).length>e.length&&s.each(t,function(t,e){i.createList(e)}),this.showSeconds?s(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el):n=2,s(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4+n].$el),s(this.createDivider("Hours")).insertBefore(this.lists[this.lists.length-6+n].$el),s(this.createDivider("Days",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t=t||this.factory.time.getDayCounter(this.showSeconds),this.autoIncrement(),this.base(t,e)}})}(jQuery),function(s){FlipClock.HourlyCounterFace=FlipClock.Face.extend({constructor:function(t,e){this.base(t,e)},build:function(t,e){var i=this,n=this.factory.$el.find("ul");(e=e||this.factory.time.getHourCounter()).length>n.length&&s.each(e,function(t,e){i.createList(e)}),s(this.createDivider("Seconds")).insertBefore(this.lists[this.lists.length-2].$el),s(this.createDivider("Minutes")).insertBefore(this.lists[this.lists.length-4].$el),t||s(this.createDivider("Hours",!0)).insertBefore(this.lists[0].$el),this.base()},flip:function(t,e){t=t||this.factory.time.getHourCounter(),this.autoIncrement(),this.base(t,e)},appendDigitToClock:function(t){this.base(t),this.dividers[0].insertAfter(this.dividers[0].next())}})}(jQuery),jQuery,FlipClock.MinuteCounterFace=FlipClock.HourlyCounterFace.extend({clearExcessDigits:!1,constructor:function(t,e){this.base(t,e)},build:function(){this.base(!0,this.factory.time.getMinuteCounter())},flip:function(t,e){t=t||this.factory.time.getMinuteCounter(),this.base(t,e)}}),function(e){FlipClock.TwelveHourClockFace=FlipClock.TwentyFourHourClockFace.extend({meridium:!1,meridiumText:"AM",build:function(){var t=this.factory.time.getTime(!1,this.showSeconds);this.base(t),this.meridiumText=this.getMeridium(),this.meridium=e(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join("")),this.meridium.insertAfter(this.lists[this.lists.length-1].$el)},flip:function(t,e){this.meridiumText!=this.getMeridium()&&(this.meridiumText=this.getMeridium(),this.meridium.find("a").html(this.meridiumText)),this.base(this.factory.time.getTime(!1,this.showSeconds),e)},getMeridium:function(){return 12<=(new Date).getHours()?"PM":"AM"},isPM:function(){return"PM"==this.getMeridium()},isAM:function(){return"AM"==this.getMeridium()}})}(jQuery),jQuery,FlipClock.Lang.Arabic={years:"",months:"",days:"",hours:"",minutes:"",seconds:""},FlipClock.Lang.ar=FlipClock.Lang.Arabic,FlipClock.Lang["ar-ar"]=FlipClock.Lang.Arabic,FlipClock.Lang.arabic=FlipClock.Lang.Arabic,jQuery,FlipClock.Lang.Danish={years:"r",months:"Mneder",days:"Dage",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.da=FlipClock.Lang.Danish,FlipClock.Lang["da-dk"]=FlipClock.Lang.Danish,FlipClock.Lang.danish=FlipClock.Lang.Danish,jQuery,FlipClock.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"},FlipClock.Lang.de=FlipClock.Lang.German,FlipClock.Lang["de-de"]=FlipClock.Lang.German,FlipClock.Lang.german=FlipClock.Lang.German,jQuery,FlipClock.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},FlipClock.Lang.en=FlipClock.Lang.English,FlipClock.Lang["en-us"]=FlipClock.Lang.English,FlipClock.Lang.english=FlipClock.Lang.English,jQuery,FlipClock.Lang.Spanish={years:"Aos",months:"Meses",days:"Das",hours:"Horas",minutes:"Minutos",seconds:"Segundos"},FlipClock.Lang.es=FlipClock.Lang.Spanish,FlipClock.Lang["es-es"]=FlipClock.Lang.Spanish,FlipClock.Lang.spanish=FlipClock.Lang.Spanish,jQuery,FlipClock.Lang.Finnish={years:"Vuotta",months:"Kuukautta",days:"Piv",hours:"Tuntia",minutes:"Minuuttia",seconds:"Sekuntia"},FlipClock.Lang.fi=FlipClock.Lang.Finnish,FlipClock.Lang["fi-fi"]=FlipClock.Lang.Finnish,FlipClock.Lang.finnish=FlipClock.Lang.Finnish,jQuery,FlipClock.Lang.French={years:"Ans",months:"Mois",days:"Jours",hours:"Heures",minutes:"Minutes",seconds:"Secondes"},FlipClock.Lang.fr=FlipClock.Lang.French,FlipClock.Lang["fr-ca"]=FlipClock.Lang.French,FlipClock.Lang.french=FlipClock.Lang.French,jQuery,FlipClock.Lang.Italian={years:"Anni",months:"Mesi",days:"Giorni",hours:"Ore",minutes:"Minuti",seconds:"Secondi"},FlipClock.Lang.it=FlipClock.Lang.Italian,FlipClock.Lang["it-it"]=FlipClock.Lang.Italian,FlipClock.Lang.italian=FlipClock.Lang.Italian,jQuery,FlipClock.Lang.Latvian={years:"Gadi",months:"Mnei",days:"Dienas",hours:"Stundas",minutes:"Mintes",seconds:"Sekundes"},FlipClock.Lang.lv=FlipClock.Lang.Latvian,FlipClock.Lang["lv-lv"]=FlipClock.Lang.Latvian,FlipClock.Lang.latvian=FlipClock.Lang.Latvian,jQuery,FlipClock.Lang.Dutch={years:"Jaren",months:"Maanden",days:"Dagen",hours:"Uren",minutes:"Minuten",seconds:"Seconden"},FlipClock.Lang.nl=FlipClock.Lang.Dutch,FlipClock.Lang["nl-be"]=FlipClock.Lang.Dutch,FlipClock.Lang.dutch=FlipClock.Lang.Dutch,jQuery,FlipClock.Lang.Norwegian={years:"r",months:"Mneder",days:"Dager",hours:"Timer",minutes:"Minutter",seconds:"Sekunder"},FlipClock.Lang.no=FlipClock.Lang.Norwegian,FlipClock.Lang.nb=FlipClock.Lang.Norwegian,FlipClock.Lang["no-nb"]=FlipClock.Lang.Norwegian,FlipClock.Lang.norwegian=FlipClock.Lang.Norwegian,jQuery,FlipClock.Lang.Portuguese={years:"Anos",months:"Meses",days:"Dias",hours:"Horas",minutes:"Minutos",seconds:"Segundos"},FlipClock.Lang.pt=FlipClock.Lang.Portuguese,FlipClock.Lang["pt-br"]=FlipClock.Lang.Portuguese,FlipClock.Lang.portuguese=FlipClock.Lang.Portuguese,jQuery,FlipClock.Lang.Russian={years:"",months:"",days:"",hours:"",minutes:"",seconds:""},FlipClock.Lang.ru=FlipClock.Lang.Russian,FlipClock.Lang["ru-ru"]=FlipClock.Lang.Russian,FlipClock.Lang.russian=FlipClock.Lang.Russian,jQuery,FlipClock.Lang.Swedish={years:"r",months:"Mnader",days:"Dagar",hours:"Timmar",minutes:"Minuter",seconds:"Sekunder"},FlipClock.Lang.sv=FlipClock.Lang.Swedish,FlipClock.Lang["sv-se"]=FlipClock.Lang.Swedish,FlipClock.Lang.swedish=FlipClock.Lang.Swedish,jQuery,FlipClock.Lang.Chinese={years:"",months:"",days:"",hours:"",minutes:"",seconds:""},FlipClock.Lang.zh=FlipClock.Lang.Chinese,FlipClock.Lang["zh-cn"]=FlipClock.Lang.Chinese,FlipClock.Lang.chinese=FlipClock.Lang.Chinese,!function(s){s.fn.niceSelect=function(t){function n(t){t.after(s("<div></div>").addClass("nice-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").attr("tabindex",t.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));var n=t.next(),e=t.find("option"),t=t.find("option:selected");n.find(".current").html(t.data("display")||t.text()),e.each(function(t){var e=s(this),i=e.data("display");n.find("ul").append(s("<li></li>").attr("data-value",e.val()).attr("data-display",i||null).addClass("option"+(e.is(":selected")?" selected":"")+(e.is(":disabled")?" disabled":"")).html(e.text()))})}return"string"==typeof t?"update"==t?this.each(function(){var t=s(this),e=s(this).next(".nice-select"),i=e.hasClass("open");e.length&&(e.remove(),n(t),i)&&t.next().trigger("click")}):"destroy"==t?(this.each(function(){var t=s(this),e=s(this).next(".nice-select");e.length&&(e.remove(),t.css("display",""))}),0==s(".nice-select").length&&s(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'):(this.hide(),this.each(function(){var t=s(this);t.next().hasClass("nice-select")||n(t)}),s(document).off(".nice_select"),s(document).on("click.nice_select",".nice-select",function(t){var e=s(this);s(".nice-select").not(e).removeClass("open"),e.toggleClass("open"),e.hasClass("open")?(e.find(".option"),e.find(".focus").removeClass("focus"),e.find(".selected").addClass("focus")):e.focus()}),s(document).on("click.nice_select",function(t){0===s(t.target).closest(".nice-select").length&&s(".nice-select").removeClass("open").find(".option")}),s(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(t){var e=s(this),i=e.closest(".nice-select"),n=(i.find(".selected").removeClass("selected"),e.addClass("selected"),e.data("display")||e.text());i.find(".current").text(n),i.prev("select").val(e.data("value")).trigger("change")}),s(document).on("keydown.nice_select",".nice-select",function(t){var e,i=s(this),n=s(i.find(".focus")||i.find(".list .option.selected"));if(32==t.keyCode||13==t.keyCode)return(i.hasClass("open")?n:i).trigger("click"),!1;if(40==t.keyCode)return i.hasClass("open")?0<(e=n.nextAll(".option:not(.disabled)").first()).length&&(i.find(".focus").removeClass("focus"),e.addClass("focus")):i.trigger("click"),!1;if(38==t.keyCode)return i.hasClass("open")?0<(e=n.prevAll(".option:not(.disabled)").first()).length&&(i.find(".focus").removeClass("focus"),e.addClass("focus")):i.trigger("click"),!1;if(27==t.keyCode)i.hasClass("open")&&i.trigger("click");else if(9==t.keyCode&&i.hasClass("open"))return!1}),(t=document.createElement("a").style).cssText="pointer-events:auto","auto"!==t.pointerEvents&&s("html").addClass("no-csspointerevents")),this}}(jQuery),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(c){function t(){}function h(t,e){f.ev.on("mfp"+t+i,e)}function d(t,e,i,n){var s=document.createElement("div");return s.className="mfp-"+t,i&&(s.innerHTML=i),n?e&&e.appendChild(s):(s=c(s),e&&s.appendTo(e)),s}function u(t,e){f.ev.triggerHandler("mfp"+t,e),f.st.callbacks&&(t=t.charAt(0).toLowerCase()+t.slice(1),f.st.callbacks[t])&&f.st.callbacks[t].apply(f,c.isArray(e)?e:[e])}function p(t){return t===e&&f.currTemplate.closeBtn||(f.currTemplate.closeBtn=c(f.st.closeMarkup.replace("%title%",f.st.tClose)),e=t),f.currTemplate.closeBtn}function o(){c.magnificPopup.instance||((f=new t).init(),c.magnificPopup.instance=f)}var f,n,g,s,m,e,a="Close",l="BeforeClose",v="MarkupParse",i=".mfp",y="mfp-ready",r="mfp-removing",w="mfp-prevent-close",b=!!window.jQuery,x=c(window);c.magnificPopup={instance:null,proto:t.prototype={constructor:t,init:function(){var t=navigator.appVersion;f.isLowIE=f.isIE8=document.all&&!document.addEventListener,f.isAndroid=/android/gi.test(t),f.isIOS=/iphone|ipad|ipod/gi.test(t),f.supportsTransition=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),f.probablyMobile=f.isAndroid||f.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),g=c(document),f.popupsCache={}},open:function(t){if(!1===t.isObj){f.items=t.items.toArray(),f.index=0;for(var e,i=t.items,n=0;n<i.length;n++)if((e=(e=i[n]).parsed?e.el[0]:e)===t.el[0]){f.index=n;break}}else f.items=c.isArray(t.items)?t.items:[t.items],f.index=t.index||0;if(!f.isOpen){f.types=[],m="",t.mainEl&&t.mainEl.length?f.ev=t.mainEl.eq(0):f.ev=g,t.key?(f.popupsCache[t.key]||(f.popupsCache[t.key]={}),f.currTemplate=f.popupsCache[t.key]):f.currTemplate={},f.st=c.extend(!0,{},c.magnificPopup.defaults,t),f.fixedContentPos="auto"===f.st.fixedContentPos?!f.probablyMobile:f.st.fixedContentPos,f.st.modal&&(f.st.closeOnContentClick=!1,f.st.closeOnBgClick=!1,f.st.showCloseBtn=!1,f.st.enableEscapeKey=!1),f.bgOverlay||(f.bgOverlay=d("bg").on("click.mfp",function(){f.close()}),f.wrap=d("wrap").attr("tabindex",-1).on("click.mfp",function(t){f._checkIfClose(t.target)&&f.close()}),f.container=d("container",f.wrap)),f.contentContainer=d("content"),f.st.preloader&&(f.preloader=d("preloader",f.container,f.st.tLoading));var s=c.magnificPopup.modules;for(n=0;n<s.length;n++){var o=(o=s[n]).charAt(0).toUpperCase()+o.slice(1);f["init"+o].call(f)}u("BeforeOpen"),f.st.showCloseBtn&&(f.st.closeBtnInside?(h(v,function(t,e,i,n){i.close_replaceWith=p(n.type)}),m+=" mfp-close-btn-in"):f.wrap.append(p())),f.st.alignTop&&(m+=" mfp-align-top"),f.fixedContentPos?f.wrap.css({overflow:f.st.overflowY,overflowX:"hidden",overflowY:f.st.overflowY}):f.wrap.css({top:x.scrollTop(),position:"absolute"}),!1!==f.st.fixedBgPos&&("auto"!==f.st.fixedBgPos||f.fixedContentPos)||f.bgOverlay.css({height:g.height(),position:"absolute"}),f.st.enableEscapeKey&&g.on("keyup.mfp",function(t){27===t.keyCode&&f.close()}),x.on("resize.mfp",function(){f.updateSize()}),f.st.closeOnContentClick||(m+=" mfp-auto-cursor"),m&&f.wrap.addClass(m);var r=f.wH=x.height(),a={},l=(f.fixedContentPos&&f._hasScrollBar(r)&&(l=f._getScrollbarSize())&&(a.marginRight=l),f.fixedContentPos&&(f.isIE7?c("body, html").css("overflow","hidden"):a.overflow="hidden"),f.st.mainClass);return f.isIE7&&(l+=" mfp-ie7"),l&&f._addClassToMFP(l),f.updateItemHTML(),u("BuildControls"),c("html").css(a),f.bgOverlay.add(f.wrap).prependTo(f.st.prependTo||c(document.body)),f._lastFocusedEl=document.activeElement,setTimeout(function(){f.content?(f._addClassToMFP(y),f._setFocus()):f.bgOverlay.addClass(y),g.on("focusin.mfp",f._onFocusIn)},16),f.isOpen=!0,f.updateSize(r),u("Open"),t}f.updateItemHTML()},close:function(){f.isOpen&&(u(l),f.isOpen=!1,f.st.removalDelay&&!f.isLowIE&&f.supportsTransition?(f._addClassToMFP(r),setTimeout(function(){f._close()},f.st.removalDelay)):f._close())},_close:function(){u(a);var t=r+" "+y+" ";f.bgOverlay.detach(),f.wrap.detach(),f.container.empty(),f.st.mainClass&&(t+=f.st.mainClass+" "),f._removeClassFromMFP(t),f.fixedContentPos&&(t={marginRight:""},f.isIE7?c("body, html").css("overflow",""):t.overflow="",c("html").css(t)),g.off("keyup.mfp focusin.mfp"),f.ev.off(i),f.wrap.attr("class","mfp-wrap").removeAttr("style"),f.bgOverlay.attr("class","mfp-bg"),f.container.attr("class","mfp-container"),!f.st.showCloseBtn||f.st.closeBtnInside&&!0!==f.currTemplate[f.currItem.type]||f.currTemplate.closeBtn&&f.currTemplate.closeBtn.detach(),f.st.autoFocusLast&&f._lastFocusedEl&&c(f._lastFocusedEl).focus(),f.currItem=null,f.content=null,f.currTemplate=null,f.prevHeight=0,u("AfterClose")},updateSize:function(t){var e;f.isIOS?(e=document.documentElement.clientWidth/window.innerWidth,e=window.innerHeight*e,f.wrap.css("height",e),f.wH=e):f.wH=t||x.height(),f.fixedContentPos||f.wrap.css("height",f.wH),u("Resize")},updateItemHTML:function(){var t=f.items[f.index],e=(f.contentContainer.detach(),f.content&&f.content.detach(),(t=t.parsed?t:f.parseEl(f.index)).type),i=(u("BeforeChange",[f.currItem?f.currItem.type:"",e]),f.currItem=t,f.currTemplate[e]||(i=!!f.st[e]&&f.st[e].markup,u("FirstMarkupParse",i),f.currTemplate[e]=!i||c(i)),s&&s!==t.type&&f.container.removeClass("mfp-"+s+"-holder"),f["get"+e.charAt(0).toUpperCase()+e.slice(1)](t,f.currTemplate[e]));f.appendContent(i,e),t.preloaded=!0,u("Change",t),s=t.type,f.container.prepend(f.contentContainer),u("AfterChange")},appendContent:function(t,e){(f.content=t)?f.st.showCloseBtn&&f.st.closeBtnInside&&!0===f.currTemplate[e]?f.content.find(".mfp-close").length||f.content.append(p()):f.content=t:f.content="",u("BeforeAppend"),f.container.addClass("mfp-"+e+"-holder"),f.contentContainer.append(f.content)},parseEl:function(t){var e,i=f.items[t];if((i=i.tagName?{el:c(i)}:(e=i.type,{data:i,src:i.src})).el){for(var n=f.types,s=0;s<n.length;s++)if(i.el.hasClass("mfp-"+n[s])){e=n[s];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=e||f.st.type||"inline",i.index=t,i.parsed=!0,f.items[t]=i,u("ElementParse",i),f.items[t]},addGroup:function(e,i){function t(t){t.mfpEl=this,f._openClick(t,e,i)}var n="click.magnificPopup";(i=i||{}).mainEl=e,i.items?(i.isObj=!0,e.off(n).on(n,t)):(i.isObj=!1,i.delegate?e.off(n).on(n,i.delegate,t):(i.items=e).off(n).on(n,t))},_openClick:function(t,e,i){if((void 0!==i.midClick?i:c.magnificPopup.defaults).midClick||!(2===t.which||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){var n=(void 0!==i.disableOn?i:c.magnificPopup.defaults).disableOn;if(n)if(c.isFunction(n)){if(!n.call(f))return!0}else if(x.width()<n)return!0;t.type&&(t.preventDefault(),f.isOpen)&&t.stopPropagation(),i.el=c(t.mfpEl),i.delegate&&(i.items=e.find(i.delegate)),f.open(i)}},updateStatus:function(t,e){var i;f.preloader&&(n!==t&&f.container.removeClass("mfp-s-"+n),i={status:t,text:e=e||"loading"!==t?e:f.st.tLoading},u("UpdateStatus",i),t=i.status,f.preloader.html(e=i.text),f.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),f.container.addClass("mfp-s-"+t),n=t)},_checkIfClose:function(t){if(!c(t).hasClass(w)){var e=f.st.closeOnContentClick,i=f.st.closeOnBgClick;if(e&&i)return!0;if(!f.content||c(t).hasClass("mfp-close")||f.preloader&&t===f.preloader[0])return!0;if(t===f.content[0]||c.contains(f.content[0],t)){if(e)return!0}else if(i&&c.contains(document,t))return!0;return!1}},_addClassToMFP:function(t){f.bgOverlay.addClass(t),f.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),f.wrap.removeClass(t)},_hasScrollBar:function(t){return(f.isIE7?g.height():document.body.scrollHeight)>(t||x.height())},_setFocus:function(){(f.st.focus?f.content.find(f.st.focus).eq(0):f.wrap).focus()},_onFocusIn:function(t){return t.target===f.wrap[0]||c.contains(f.wrap[0],t.target)?void 0:(f._setFocus(),!1)},_parseMarkup:function(s,t,e){var o;e.data&&(t=c.extend(e.data,t)),u(v,[s,t,e]),c.each(t,function(t,e){if(void 0===e||!1===e)return!0;var i,n;1<(o=t.split("_")).length?0<(i=s.find(".mfp-"+o[0])).length&&("replaceWith"===(n=o[1])?i[0]!==e[0]&&i.replaceWith(e):"img"===n?i.is("img")?i.attr("src",e):i.replaceWith(c("<img>").attr("src",e).attr("class",i.attr("class"))):i.attr(o[1],e)):s.find(".mfp-"+t).html(e)})},_getScrollbarSize:function(){var t;return void 0===f.scrollbarSize&&((t=document.createElement("div")).style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),f.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)),f.scrollbarSize}},modules:[],open:function(t,e){return o(),(t=t?c.extend(!0,{},t):{}).isObj=!0,t.index=e||0,this.instance.open(t)},close:function(){return c.magnificPopup.instance&&c.magnificPopup.instance.close()},registerModule:function(t,e){e.options&&(c.magnificPopup.defaults[t]=e.options),c.extend(this.proto,e.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},c.fn.magnificPopup=function(t){o();var e,i,n,s=c(this);return"string"==typeof t?"open"===t?(e=b?s.data("magnificPopup"):s[0].magnificPopup,i=parseInt(arguments[1],10)||0,n=e.items?e.items[i]:(n=s,(n=e.delegate?n.find(e.delegate):n).eq(i)),f._openClick({mfpEl:n},s,e)):f.isOpen&&f[t].apply(f,Array.prototype.slice.call(arguments,1)):(t=c.extend(!0,{},t),b?s.data("magnificPopup",t):s[0].magnificPopup=t,f.addGroup(s,t)),s};function _(){k&&(S.after(k.addClass(C)).detach(),k=null)}var C,S,k,T="inline";c.magnificPopup.registerModule(T,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){f.types.push(T),h(a+"."+T,function(){_()})},getInline:function(t,e){var i,n,s;return _(),t.src?(i=f.st.inline,(n=c(t.src)).length?((s=n[0].parentNode)&&s.tagName&&(S||(C=i.hiddenClass,S=d(C),C="mfp-"+C),k=n.after(S).detach().removeClass(C)),f.updateStatus("ready")):(f.updateStatus("error",i.tNotFound),n=c("<div>")),t.inlineElement=n):(f.updateStatus("ready"),f._parseMarkup(e,{},t),e)}}});function D(){F&&c(document.body).removeClass(F)}function L(){D(),f.req&&f.req.abort()}var F,M="ajax";c.magnificPopup.registerModule(M,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){f.types.push(M),F=f.st.ajax.cursor,h(a+"."+M,L),h("BeforeChange.ajax",L)},getAjax:function(n){F&&c(document.body).addClass(F),f.updateStatus("loading");var t=c.extend({url:n.src,success:function(t,e,i){t={data:t,xhr:i};u("ParseAjax",t),f.appendContent(c(t.data),M),n.finished=!0,D(),f._setFocus(),setTimeout(function(){f.wrap.addClass(y)},16),f.updateStatus("ready"),u("AjaxContentAdded")},error:function(){D(),n.finished=n.loadError=!0,f.updateStatus("error",f.st.ajax.tError.replace("%url%",n.src))}},f.st.ajax.settings);return f.req=c.ajax(t),""}}});var P;c.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=f.st.image,e=".image";f.types.push("image"),h("Open"+e,function(){"image"===f.currItem.type&&t.cursor&&c(document.body).addClass(t.cursor)}),h(a+e,function(){t.cursor&&c(document.body).removeClass(t.cursor),x.off("resize.mfp")}),h("Resize"+e,f.resizeImage),f.isLowIE&&h("AfterChange",f.resizeImage)},resizeImage:function(){var t,e=f.currItem;e&&e.img&&f.st.image.verticalFit&&(t=0,f.isLowIE&&(t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",f.wH-t))},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,P&&clearInterval(P),t.isCheckingImgSize=!1,u("ImageHasSize",t),t.imgHidden)&&(f.content&&f.content.removeClass("mfp-loading"),t.imgHidden=!1)},findImageSize:function(e){function i(t){P&&clearInterval(P),P=setInterval(function(){return 0<s.naturalWidth?void f._onImageHasSize(e):(200<n&&clearInterval(P),void(3===++n?i(10):40===n?i(50):100===n&&i(500)))},t)}var n=0,s=e.img[0];i(1)},getImage:function(t,e){function i(){t&&(t.img[0].complete?(t.img.off(".mfploader"),t===f.currItem&&(f._onImageHasSize(t),f.updateStatus("ready")),t.hasSize=!0,t.loaded=!0,u("ImageLoadComplete")):++o<200?setTimeout(i,100):n())}function n(){t&&(t.img.off(".mfploader"),t===f.currItem&&(f._onImageHasSize(t),f.updateStatus("error",r.tError.replace("%url%",t.src))),t.hasSize=!0,t.loaded=!0,t.loadError=!0)}var s,o=0,r=f.st.image,a=e.find(".mfp-img");return a.length&&((s=document.createElement("img")).className="mfp-img",t.el&&t.el.find("img").length&&(s.alt=t.el.find("img").attr("alt")),t.img=c(s).on("load.mfploader",i).on("error.mfploader",n),s.src=t.src,a.is("img")&&(t.img=t.img.clone()),0<(s=t.img[0]).naturalWidth?t.hasSize=!0:s.width||(t.hasSize=!1)),f._parseMarkup(e,{title:function(t){if(t.data&&void 0!==t.data.title)return t.data.title;var e=f.st.image.titleSrc;if(e){if(c.isFunction(e))return e.call(f,t);if(t.el)return t.el.attr(e)||""}return""}(t),img_replaceWith:t.img},t),f.resizeImage(),t.hasSize?(P&&clearInterval(P),t.loadError?(e.addClass("mfp-loading"),f.updateStatus("error",r.tError.replace("%url%",t.src))):(e.removeClass("mfp-loading"),f.updateStatus("ready"))):(f.updateStatus("loading"),t.loading=!0,t.hasSize||(t.imgHidden=!0,e.addClass("mfp-loading"),f.findImageSize(t))),e}}});function E(t){var e;f.currTemplate[A]&&(e=f.currTemplate[A].find("iframe")).length&&(t||(e[0].src="//about:blank"),f.isIE8)&&e.css("display",t?"block":"none")}function K(t){var e=f.items.length;return e-1<t?t-e:t<0?e+t:t}function z(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)}c.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,e,i,n,s,o,r=f.st.zoom;r.enabled&&f.supportsTransition&&(n=r.duration,s=function(t){var t=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),e="all "+r.duration/1e3+"s "+r.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},n="transition";return i["-webkit-"+n]=i["-moz-"+n]=i["-o-"+n]=i[n]=e,t.css(i),t},o=function(){f.content.css("visibility","visible")},h("BuildControls.zoom",function(){f._allowZoom()&&(clearTimeout(e),f.content.css("visibility","hidden"),(t=f._getItemToZoom())?((i=s(t)).css(f._getOffset()),f.wrap.append(i),e=setTimeout(function(){i.css(f._getOffset(!0)),e=setTimeout(function(){o(),setTimeout(function(){i.remove(),t=i=null,u("ZoomAnimationEnded")},16)},n)},16)):o())}),h(l+".zoom",function(){if(f._allowZoom()){if(clearTimeout(e),f.st.removalDelay=n,!t){if(!(t=f._getItemToZoom()))return;i=s(t)}i.css(f._getOffset(!0)),f.wrap.append(i),f.content.css("visibility","hidden"),setTimeout(function(){i.css(f._getOffset())},16)}}),h(a+".zoom",function(){f._allowZoom()&&(o(),i&&i.remove(),t=null)}))},_allowZoom:function(){return"image"===f.currItem.type},_getItemToZoom:function(){return!!f.currItem.hasSize&&f.currItem.img},_getOffset:function(t){var t=t?f.currItem.img:f.st.zoom.opener(f.currItem.el||f.currItem),e=t.offset(),i=parseInt(t.css("padding-top"),10),n=parseInt(t.css("padding-bottom"),10),t=(e.top-=c(window).scrollTop()-i,{width:t.width(),height:(b?t.innerHeight():t[0].offsetHeight)-n-i});return(I=void 0===I?void 0!==document.createElement("p").style.MozTransform:I)?t["-moz-transform"]=t.transform="translate("+e.left+"px,"+e.top+"px)":(t.left=e.left,t.top=e.top),t}}});var I,A="iframe",$=(c.magnificPopup.registerModule(A,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){f.types.push(A),h("BeforeChange",function(t,e,i){e!==i&&(e===A?E():i===A&&E(!0))}),h(a+"."+A,function(){E()})},getIframe:function(t,e){var i=t.src,n=f.st.iframe,s=(c.each(n.patterns,function(){return-1<i.indexOf(this.index)?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0}),{});return n.srcAction&&(s[n.srcAction]=i),f._parseMarkup(e,s,t),f.updateStatus("ready"),e}}}),c.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var o=f.st.gallery,t=".mfp-gallery";return f.direction=!0,!(!o||!o.enabled)&&(m+=" mfp-gallery",h("Open"+t,function(){o.navigateByImgClick&&f.wrap.on("click"+t,".mfp-img",function(){return 1<f.items.length?(f.next(),!1):void 0}),g.on("keydown"+t,function(t){37===t.keyCode?f.prev():39===t.keyCode&&f.next()})}),h("UpdateStatus"+t,function(t,e){e.text&&(e.text=z(e.text,f.currItem.index,f.items.length))}),h(v+t,function(t,e,i,n){var s=f.items.length;i.counter=1<s?z(o.tCounter,n.index,s):""}),h("BuildControls"+t,function(){var t,e;1<f.items.length&&o.arrows&&!f.arrowLeft&&(e=o.arrowMarkup,t=f.arrowLeft=c(e.replace(/%title%/gi,o.tPrev).replace(/%dir%/gi,"left")).addClass(w),e=f.arrowRight=c(e.replace(/%title%/gi,o.tNext).replace(/%dir%/gi,"right")).addClass(w),t.click(function(){f.prev()}),e.click(function(){f.next()}),f.container.append(t.add(e)))}),h("Change"+t,function(){f._preloadTimeout&&clearTimeout(f._preloadTimeout),f._preloadTimeout=setTimeout(function(){f.preloadNearbyImages(),f._preloadTimeout=null},16)}),void h(a+t,function(){g.off(t),f.wrap.off("click"+t),f.arrowRight=f.arrowLeft=null}))},next:function(){f.direction=!0,f.index=K(f.index+1),f.updateItemHTML()},prev:function(){f.direction=!1,f.index=K(f.index-1),f.updateItemHTML()},goTo:function(t){f.direction=t>=f.index,f.index=t,f.updateItemHTML()},preloadNearbyImages:function(){for(var t=f.st.gallery.preload,e=Math.min(t[0],f.items.length),i=Math.min(t[1],f.items.length),n=1;n<=(f.direction?i:e);n++)f._preloadItem(f.index+n);for(n=1;n<=(f.direction?e:i);n++)f._preloadItem(f.index-n)},_preloadItem:function(t){var e;t=K(t),f.items[t].preloaded||((e=f.items[t]).parsed||(e=f.parseEl(t)),u("LazyLoad",e),"image"===e.type&&(e.img=c('<img class="mfp-img" />').on("load.mfploader",function(){e.hasSize=!0}).on("error.mfploader",function(){e.hasSize=!0,e.loadError=!0,u("LazyLoadError",e)}).attr("src",e.src)),e.preloaded=!0)}}}),"retina");c.magnificPopup.registerModule($,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){var i,n;1<window.devicePixelRatio&&(i=f.st.retina,n=i.ratio,1<(n=isNaN(n)?n():n))&&(h("ImageHasSize."+$,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/n,width:"100%"})}),h("ElementParse."+$,function(t,e){e.src=i.replaceSrc(e,n)}))}}}),o()}),!function(r){"use strict";r.fn.menufullpage=function(t){var e=r.extend({body:"body",menu:"#fullpage-nav",push:".push",side:"left",menuWidth:"100%",speed:"400",activeBtn:"menufullpage-menu-open"},t),i=this,n=r(e.menu),s=r(e.push),o=e.menuWidth,t={};return n.css({}),s.css(e.side,"0"),n.css(t),s.css(t),n._state="closed",n.open=function(){n._state="open",n.addClass(e.activeBtn),r(e.body).addClass(e.activeBtn),s.css(e.side,o),i.addClass(e.activeBtn)},n.close=function(){n._state="closed",n.removeClass(e.activeBtn),r(e.body).removeClass(e.activeBtn),s.css(e.side,"0"),i.removeClass(e.activeBtn)},r(document).on("click.menufullpage",function(t){r(t.target).parents().andSelf().is(i)||"open"!==n._state||(n.close(),i.removeClass(e.activeBtn))}),i.on("click.menufullpage",function(t){t.preventDefault(),"closed"===n._state?n.open():n.close()}),i.on("touchend",function(t){i.trigger("click.menufullpage"),t.preventDefault()}),n}}(jQuery),!function(c,h,t){function e(t,e){this.el=t,this.$el=c(this.el),this.options=c.extend({},n,e),this._defaults=n,this._name=i,this.init()}var i="nivoLightbox",n={effect:"fade",theme:"default",keyboardNav:!0,clickImgToClose:!1,clickOverlayToClose:!0,onInit:function(){},beforeShowLightbox:function(){},afterShowLightbox:function(t){},beforeHideLightbox:function(){},afterHideLightbox:function(){},beforePrev:function(t){},onPrev:function(t){},beforeNext:function(t){},onNext:function(t){},errorMessage:"The requested content cannot be loaded. Please try again later."};e.prototype={init:function(){var e=this;c("html").hasClass("nivo-lightbox-notouch")||c("html").addClass("nivo-lightbox-notouch"),"ontouchstart"in t&&c("html").removeClass("nivo-lightbox-notouch"),this.$el.on("click",function(t){e.showLightbox(t)}),this.options.keyboardNav&&c("body").off("keyup").on("keyup",function(t){t=t.keyCode||t.which;27==t&&e.destructLightbox(),37==t&&c(".nivo-lightbox-prev").trigger("click"),39==t&&c(".nivo-lightbox-next").trigger("click")}),this.options.onInit.call(this)},showLightbox:function(t){var e,i,n,s=this,o=this.$el;this.checkContent(o)&&(t.preventDefault(),this.options.beforeShowLightbox.call(this),e=this.constructLightbox())&&(i=e.find(".nivo-lightbox-content"))&&(c("body").addClass("nivo-lightbox-body-effect-"+this.options.effect),this.processContent(i,o),this.$el.attr("data-lightbox-gallery")&&(n=c('[data-lightbox-gallery="'+this.$el.attr("data-lightbox-gallery")+'"]'),c(".nivo-lightbox-nav").show(),c(".nivo-lightbox-prev").off("click").on("click",function(t){t.preventDefault();t=n.index(o);o=n.eq(t-1),c(o).length||(o=n.last()),c.when(s.options.beforePrev.call(this,[o])).done(function(){s.processContent(i,o),s.options.onPrev.call(this,[o])})}),c(".nivo-lightbox-next").off("click").on("click",function(t){t.preventDefault();t=n.index(o);o=n.eq(t+1),c(o).length||(o=n.first()),c.when(s.options.beforeNext.call(this,[o])).done(function(){s.processContent(i,o),s.options.onNext.call(this,[o])})})),setTimeout(function(){e.addClass("nivo-lightbox-open"),s.options.afterShowLightbox.call(this,[e])},1))},checkContent:function(t){var e=t.attr("href"),i=e.match(/(youtube|youtube-nocookie|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);return null!==e.match(/\.(jpeg|jpg|gif|png)$/i)||!!i||"ajax"==t.attr("data-lightbox-type")||"#"==e.substring(0,1)&&"inline"==t.attr("data-lightbox-type")||"iframe"==t.attr("data-lightbox-type")},processContent:function(i,t){var e,n=this,s=t.attr("href"),o=s.match(/(youtube|youtube-nocookie|youtu|vimeo)\.(com|be)\/(watch\?v=([\w-]+)|([\w-]+))/);if(i.html("").addClass("nivo-lightbox-loading"),null!==(s=this.isHidpi()&&t.attr("data-lightbox-hidpi")?t.attr("data-lightbox-hidpi"):s).match(/\.(jpeg|jpg|gif|png)$/i)){var r=c("<img>",{src:s,class:"nivo-lightbox-image-display"});r.one("load",function(){var t=c('<div class="nivo-lightbox-image" />');t.append(r),i.html(t).removeClass("nivo-lightbox-loading"),t.css({"line-height":c(".nivo-lightbox-content").height()+"px",height:c(".nivo-lightbox-content").height()+"px"}),c(h).resize(function(){t.css({"line-height":c(".nivo-lightbox-content").height()+"px",height:c(".nivo-lightbox-content").height()+"px"})})}).each(function(){this.complete&&c(this).load()}),r.error(function(){var t=c('<div class="nivo-lightbox-error"><p>'+n.options.errorMessage+"</p></div>");i.html(t).removeClass("nivo-lightbox-loading")})}else if(o){var a="",l="nivo-lightbox-video";"youtube"==o[1]&&(a="//www.youtube.com/embed/"+o[4],l="nivo-lightbox-youtube"),"youtube-nocookie"==o[1]&&(a=s,l="nivo-lightbox-youtube"),"youtu"==o[1]&&(a="//www.youtube.com/embed/"+o[3],l="nivo-lightbox-youtube"),"vimeo"==o[1]&&(a="//player.vimeo.com/video/"+o[3],l="nivo-lightbox-vimeo"),a&&(o=c("<iframe>",{src:a,class:l,frameborder:0,vspace:0,hspace:0,scrolling:"auto"}),i.html(o),o.load(function(){i.removeClass("nivo-lightbox-loading")}))}else if("ajax"==t.attr("data-lightbox-type"))c.ajax({url:s,cache:!1,success:function(t){var e=c('<div class="nivo-lightbox-ajax" />');e.append(t),i.html(e).removeClass("nivo-lightbox-loading"),e.outerHeight()<i.height()&&e.css({position:"relative",top:"50%","margin-top":-e.outerHeight()/2+"px"}),c(h).resize(function(){e.outerHeight()<i.height()&&e.css({position:"relative",top:"50%","margin-top":-e.outerHeight()/2+"px"})})},error:function(){var t=c('<div class="nivo-lightbox-error"><p>'+n.options.errorMessage+"</p></div>");i.html(t).removeClass("nivo-lightbox-loading")}});else if("#"==s.substring(0,1)&&"inline"==t.attr("data-lightbox-type"))c(s).length?((e=c('<div class="nivo-lightbox-inline" />')).append(c(s).clone().show()),i.html(e).removeClass("nivo-lightbox-loading"),e.outerHeight()<i.height()&&e.css({position:"relative",top:"50%","margin-top":-e.outerHeight()/2+"px"}),c(h).resize(function(){e.outerHeight()<i.height()&&e.css({position:"relative",top:"50%","margin-top":-e.outerHeight()/2+"px"})})):(a=c('<div class="nivo-lightbox-error"><p>'+n.options.errorMessage+"</p></div>"),i.html(a).removeClass("nivo-lightbox-loading"));else{if("iframe"!=t.attr("data-lightbox-type"))return!1;l=c("<iframe>",{src:s,class:"nivo-lightbox-item",frameborder:0,vspace:0,hspace:0,scrolling:"auto"});i.html(l),l.load(function(){i.removeClass("nivo-lightbox-loading")})}t.attr("title")?((o=c("<span>",{class:"nivo-lightbox-title"})).text(t.attr("title")),c(".nivo-lightbox-title-wrap").html(o)):c(".nivo-lightbox-title-wrap").html("")},constructLightbox:function(){var t,e,i,n,s,o,r;return c(".nivo-lightbox-overlay").length?c(".nivo-lightbox-overlay"):(t=c("<div>",{class:"nivo-lightbox-overlay nivo-lightbox-theme-"+this.options.theme+" nivo-lightbox-effect-"+this.options.effect}),e=c("<div>",{class:"nivo-lightbox-wrap"}),i=c("<div>",{class:"nivo-lightbox-content"}),n=c('<a href="#" class="nivo-lightbox-nav nivo-lightbox-prev">Previous</a><a href="#" class="nivo-lightbox-nav nivo-lightbox-next">Next</a>'),s=c('<a href="#" class="nivo-lightbox-close" title="Close">Close</a>'),o=c("<div>",{class:"nivo-lightbox-title-wrap"}),e.append(i),e.append(o),t.append(e),t.append(n),t.append(s),c("body").append(t),(r=this).options.clickOverlayToClose&&t.on("click",function(t){(t.target===this||c(t.target).hasClass("nivo-lightbox-content")||c(t.target).hasClass("nivo-lightbox-image"))&&r.destructLightbox()}),r.options.clickImgToClose&&t.on("click",function(t){t.target!==this&&!c(t.target).hasClass("nivo-lightbox-image-display")||r.destructLightbox()}),s.on("click",function(t){t.preventDefault(),r.destructLightbox()}),t)},destructLightbox:function(){this.options.beforeHideLightbox.call(this),c(".nivo-lightbox-overlay").removeClass("nivo-lightbox-open"),c(".nivo-lightbox-nav").hide(),c("body").removeClass("nivo-lightbox-body-effect-"+this.options.effect);c(".nivo-lightbox-prev").off("click"),c(".nivo-lightbox-next").off("click"),c(".nivo-lightbox-content").empty(),this.options.afterHideLightbox.call(this)},isHidpi:function(){return 1<h.devicePixelRatio||!(!h.matchMedia||!h.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),                              (min--moz-device-pixel-ratio: 1.5),                              (-o-min-device-pixel-ratio: 3/2),                              (min-resolution: 1.5dppx)").matches)}},c.fn[i]=function(t){return this.each(function(){c.data(this,i)||c.data(this,i,new e(this,t))})}}(jQuery,window,document),!function(l,i,n,o){function c(t,e){this.settings=null,this.options=l.extend({},c.Defaults,e),this.$element=l(t),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},l.each(["onResize","onThrottledResize"],l.proxy(function(t,e){this._handlers[e]=l.proxy(this[e],this)},this)),l.each(c.Plugins,l.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),l.each(c.Workers,l.proxy(function(t,e){this._pipe.push({filter:e.filter,run:l.proxy(e.run,this)})},this)),this.setup(),this.initialize()}c.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:i,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},c.Width={Default:"default",Inner:"inner",Outer:"outer"},c.Type={Event:"event",State:"state"},c.Plugins={},c.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,n={width:"auto","margin-left":n?e:"","margin-right":n?"":e};i||this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e,i=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=this._items.length,s=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:i};n--;)e=this._mergers[n],e=this.settings.mergeFit&&Math.min(e,this.settings.items)||e,t.items.merge=1<e||t.items.merge,o[n]=s?i*e:this._items[n].width();this._widths=o}},{filter:["items","settings"],run:function(){var t=[],e=this._items,i=this.settings,n=Math.max(2*i.items,4),s=2*Math.ceil(e.length/2),o=i.loop&&e.length?i.rewind?n:Math.max(n,s):0,r="",a="";for(o/=2;0<o;)t.push(this.normalize(t.length/2,!0)),r+=e[t[t.length-1]][0].outerHTML,t.push(this.normalize(e.length-1-(t.length-1)/2,!0)),a=e[t[t.length-1]][0].outerHTML+a,--o;this._clones=t,l(r).addClass("cloned").appendTo(this.$stage),l(a).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t,e,i=this.settings.rtl?1:-1,n=this._clones.length+this._items.length,s=-1,o=[];++s<n;)t=o[s-1]||0,e=this._widths[this.relative(s)]+this.settings.margin,o.push(t+e*i);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,e={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(e)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],n.eq(e).css(t.css);else i&&(t.css.width=t.items.width,n.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){for(var t,e,i=this.settings.rtl?1:-1,n=2*this.settings.stagePadding,s=this.coordinates(this.current())+n,o=s+this.width()*i,r=[],a=0,l=this._coordinates.length;a<l;a++)t=this._coordinates[a-1]||0,e=Math.abs(this._coordinates[a])+n*i,(this.op(t,"<=",s)&&this.op(t,">",o)||this.op(e,"<",s)&&this.op(e,">",o))&&r.push(a);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+r.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],c.prototype.initialize=function(){var t,e;this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")&&(t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:o,e=this.$element.children(e).width(),t.length)&&e<=0&&this.preloadAutoWidthImages(t),this.$element.addClass(this.options.loadingClass),this.$stage=l("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},c.prototype.setup=function(){var e=this.viewport(),t=this.options.responsive,i=-1,n=null;t?(l.each(t,function(t){t<=e&&i<t&&(i=Number(t))}),"function"==typeof(n=l.extend({},this.options,t[i])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):n=l.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=i,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},c.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},c.prototype.prepare=function(t){var e=this.trigger("prepare",{content:t});return e.data||(e.data=l("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:e.data}),e.data},c.prototype.update=function(){for(var t=0,e=this._pipe.length,i=l.proxy(function(t){return this[t]},this._invalidated),n={};t<e;)(this._invalidated.all||0<l.grep(this._pipe[t].filter,i).length)&&this._pipe[t].run(n),t++;this._invalidated={},this.is("valid")||this.enter("valid")},c.prototype.width=function(t){switch(t=t||c.Width.Default){case c.Width.Inner:case c.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},c.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},c.prototype.onThrottledResize=function(){i.clearTimeout(this.resizeTimer),this.resizeTimer=i.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},c.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))},c.prototype.registerEventHandlers=function(){l.support.transition&&this.$stage.on(l.support.transition.end+".owl.core",l.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(i,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",l.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",l.proxy(this.onDragEnd,this)))},c.prototype.onDragStart=function(t){var e=null;3!==t.which&&(e=l.support.transform?{x:(e=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===e.length?12:4],y:e[16===e.length?13:5]}:(e=this.$stage.position(),{x:this.settings.rtl?e.left+this.$stage.width()-this.width()+this.settings.margin:e.left,y:e.top}),this.is("animating")&&(l.support.transform?this.animate(e.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=l(t.target),this._drag.stage.start=e,this._drag.stage.current=e,this._drag.pointer=this.pointer(t),l(n).on("mouseup.owl.core touchend.owl.core",l.proxy(this.onDragEnd,this)),l(n).one("mousemove.owl.core touchmove.owl.core",l.proxy(function(t){var e=this.difference(this._drag.pointer,this.pointer(t));l(n).on("mousemove.owl.core touchmove.owl.core",l.proxy(this.onDragMove,this)),Math.abs(e.x)<Math.abs(e.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},c.prototype.onDragMove=function(t){var e=null,i=null,n=this.difference(this._drag.pointer,this.pointer(t)),s=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,s.x=((s.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),t=this.settings.pullDrag?-1*n.x/5:0,s.x=Math.max(Math.min(s.x,e+t),i+t)),this._drag.stage.current=s,this.animate(s.x))},c.prototype.onDragEnd=function(t){var t=this.difference(this._drag.pointer,this.pointer(t)),e=this._drag.stage.current,i=0<t.x^this.settings.rtl?"left":"right";l(n).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==t.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==t.x?i:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=i,3<Math.abs(t.x)||300<(new Date).getTime()-this._drag.time)&&this._drag.target.one("click.owl.core",function(){return!1}),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},c.prototype.closest=function(i,n){var s=-1,o=this.width(),r=this.coordinates();return this.settings.freeDrag||l.each(r,l.proxy(function(t,e){return"left"===n&&e-30<i&&i<e+30?s=t:"right"===n&&e-o-30<i&&i<e-o+30?s=t+1:this.op(i,"<",e)&&this.op(i,">",r[t+1]||e-o)&&(s="left"===n?t+1:t),-1===s},this)),this.settings.loop||(this.op(i,">",r[this.minimum()])?s=i=this.minimum():this.op(i,"<",r[this.maximum()])&&(s=i=this.maximum())),s},c.prototype.animate=function(t){var e=0<this.speed();this.is("animating")&&this.onTransitionEnd(),e&&(this.enter("animating"),this.trigger("translate")),l.support.transform3d&&l.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"}):e?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,l.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})},c.prototype.is=function(t){return this._states.current[t]&&0<this._states.current[t]},c.prototype.current=function(t){if(t!==o){if(0===this._items.length)return o;var e;t=this.normalize(t),this._current!==t&&((e=this.trigger("change",{property:{name:"position",value:t}})).data!==o&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}}))}return this._current},c.prototype.invalidate=function(t){return"string"===l.type(t)&&(this._invalidated[t]=!0,this.is("valid"))&&this.leave("valid"),l.map(this._invalidated,function(t,e){return e})},c.prototype.reset=function(t){(t=this.normalize(t))!==o&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},c.prototype.normalize=function(t,e){var i=this._items.length,e=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=o:(t<0||i+e<=t)&&(t=((t-e/2)%i+i)%i+e/2),t},c.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},c.prototype.maximum=function(t){var e,i,n,s=this.settings,o=this._coordinates.length;if(s.loop)o=this._clones.length/2+this._items.length-1;else if(s.autoWidth||s.merge){if(e=this._items.length)for(i=this._items[--e].width(),n=this.$element.width();e--&&!(n<(i+=this._items[e].width()+this.settings.margin)););o=e+1}else o=s.center?this._items.length-1:this._items.length-s.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},c.prototype.minimum=function(t){return t?0:this._clones.length/2},c.prototype.items=function(t){return t===o?this._items.slice():(t=this.normalize(t,!0),this._items[t])},c.prototype.mergers=function(t){return t===o?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},c.prototype.clones=function(i){function n(t){return t%2==0?s+t/2:e-(t+1)/2}var e=this._clones.length/2,s=e+this._items.length;return i===o?l.map(this._clones,function(t,e){return n(e)}):l.map(this._clones,function(t,e){return t===i?n(e):null})},c.prototype.speed=function(t){return t!==o&&(this._speed=t),this._speed},c.prototype.coordinates=function(t){var e,i=1,n=t-1;return t===o?l.map(this._coordinates,l.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(i=-1,n=t+1),e=this._coordinates[t],e+=(this.width()-e+(this._coordinates[n]||0))/2*i):e=this._coordinates[n]||0,Math.ceil(e))},c.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},c.prototype.to=function(t,e){var i=this.current(),n=t-this.relative(i),s=(0<n)-(n<0),o=this._items.length,r=this.minimum(),a=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>o/2&&(n+=-1*s*o),(s=(((t=i+n)-r)%o+o)%o+r)!==t&&s-n<=a&&0<s-n&&this.reset(i=(t=s)-n)):t=this.settings.rewind?(t%(a+=1)+a)%a:Math.max(r,Math.min(a,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},c.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},c.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},c.prototype.onTransitionEnd=function(t){return(t===o||(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)===this.$stage.get(0)))&&(this.leave("animating"),void this.trigger("translated"))},c.prototype.viewport=function(){var t;return this.options.responsiveBaseElement!==i?t=l(this.options.responsiveBaseElement).width():i.innerWidth?t=i.innerWidth:n.documentElement&&n.documentElement.clientWidth?t=n.documentElement.clientWidth:console.warn("Can not detect viewport width."),t},c.prototype.replace=function(t){this.$stage.empty(),this._items=[],t=t&&(t instanceof jQuery?t:l(t)),(t=this.settings.nestedItemSelector?t.find("."+this.settings.nestedItemSelector):t).filter(function(){return 1===this.nodeType}).each(l.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(+e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},c.prototype.add=function(t,e){var i=this.relative(this._current);e=e===o?this._items.length:this.normalize(e,!0),t=t instanceof jQuery?t:l(t),this.trigger("add",{content:t,position:e}),t=this.prepare(t),0===this._items.length||e===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[e-1].after(t),this._items.push(t),this._mergers.push(+t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[e].before(t),this._items.splice(e,0,t),this._mergers.splice(e,0,+t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[i]&&this.reset(this._items[i].index()),this.invalidate("items"),this.trigger("added",{content:t,position:e})},c.prototype.remove=function(t){(t=this.normalize(t,!0))!==o&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},c.prototype.preloadAutoWidthImages=function(t){t.each(l.proxy(function(t,e){this.enter("pre-loading"),e=l(e),l(new Image).one("load",l.proxy(function(t){e.attr("src",t.target.src),e.css("opacity",1),this.leave("pre-loading"),this.is("pre-loading")||this.is("initializing")||this.refresh()},this)).attr("src",e.attr("src")||e.attr("data-src")||e.attr("data-src-retina"))},this))},c.prototype.destroy=function(){for(var t in this.$element.off(".owl.core"),this.$stage.off(".owl.core"),l(n).off(".owl.core"),!1!==this.settings.responsive&&(i.clearTimeout(this.resizeTimer),this.off(i,"resize",this._handlers.onThrottledResize)),this._plugins)this._plugins[t].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},c.prototype.op=function(t,e,i){var n=this.settings.rtl;switch(e){case"<":return n?i<t:t<i;case">":return n?t<i:i<t;case">=":return n?t<=i:i<=t;case"<=":return n?i<=t:t<=i}},c.prototype.on=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},c.prototype.off=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent&&t.detachEvent("on"+e,i)},c.prototype.trigger=function(t,e,i,n,s){var o={item:{count:this._items.length,index:this.current()}},r=l.camelCase(l.grep(["on",t,i],function(t){return t}).join("-").toLowerCase()),a=l.Event([t,"owl",i||"carousel"].join(".").toLowerCase(),l.extend({relatedTarget:this},o,e));return this._supress[t]||(l.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(a)}),this.register({type:c.Type.Event,name:t}),this.$element.trigger(a),this.settings&&"function"==typeof this.settings[r]&&this.settings[r].call(this,a)),a},c.prototype.enter=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]===o&&(this._states.current[e]=0),this._states.current[e]++},this))},c.prototype.leave=function(t){l.each([t].concat(this._states.tags[t]||[]),l.proxy(function(t,e){this._states.current[e]--},this))},c.prototype.register=function(i){var e;i.type===c.Type.Event?(l.event.special[i.name]||(l.event.special[i.name]={}),l.event.special[i.name].owl||(e=l.event.special[i.name]._default,l.event.special[i.name]._default=function(t){return!e||!e.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&-1<t.namespace.indexOf("owl"):e.apply(this,arguments)},l.event.special[i.name].owl=!0)):i.type===c.Type.State&&(this._states.tags[i.name]?this._states.tags[i.name]=this._states.tags[i.name].concat(i.tags):this._states.tags[i.name]=i.tags,this._states.tags[i.name]=l.grep(this._states.tags[i.name],l.proxy(function(t,e){return l.inArray(t,this._states.tags[i.name])===e},this)))},c.prototype.suppress=function(t){l.each(t,l.proxy(function(t,e){this._supress[e]=!0},this))},c.prototype.release=function(t){l.each(t,l.proxy(function(t,e){delete this._supress[e]},this))},c.prototype.pointer=function(t){var e={x:null,y:null};return(t=(t=t.originalEvent||t||i.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(e.x=t.pageX,e.y=t.pageY):(e.x=t.clientX,e.y=t.clientY),e},c.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},c.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},l.fn.owlCarousel=function(e){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=l(this),i=t.data("owl.carousel");i||(i=new c(this,"object"==typeof e&&e),t.data("owl.carousel",i),l.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,e){i.register({type:c.Type.Event,name:e}),i.$element.on(e+".owl.carousel.core",l.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([e]),i[e].apply(this,[].slice.call(arguments,1)),this.release([e]))},i))})),"string"==typeof e&&"_"!==e.charAt(0)&&i[e].apply(i,n)})},l.fn.owlCarousel.Constructor=c}(window.Zepto||window.jQuery,window,document),function(e,i){function n(t){this._core=t,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":e.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=e.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)}n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=i.setInterval(e.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible)&&this._core.invalidate("width")&&this._core.refresh()},n.prototype.destroy=function(){var t,e;for(t in i.clearInterval(this._interval),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},e.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(a,s){function e(t){this._core=t,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":a.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type))for(var e=this._core.settings,i=e.center&&Math.ceil(e.items/2)||e.items,n=e.center&&-1*i||0,s=(t.property&&void 0!==t.property.value?t.property.value:this._core.current())+n,o=this._core.clones().length,r=a.proxy(function(t,e){this.load(e)},this);n++<i;)this.load(o/2+this._core.relative(s)),o&&a.each(this._core.clones(this._core.relative(s)),r),s++},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)}e.Defaults={lazyLoad:!1},e.prototype.load=function(t){var t=this._core.$stage.children().eq(t),e=t&&t.find(".owl-lazy");!e||-1<a.inArray(t.get(0),this._loaded)||(e.each(a.proxy(function(t,e){var i=a(e),n=1<s.devicePixelRatio&&i.attr("data-src-retina")||i.attr("data-src");this._core.trigger("load",{element:i,url:n},"lazy"),i.is("img")?i.one("load.owl.lazy",a.proxy(function(){i.css("opacity",1),this._core.trigger("loaded",{element:i,url:n},"lazy")},this)).attr("src",n):((e=new Image).onload=a.proxy(function(){i.css({"background-image":'url("'+n+'")',opacity:"1"}),this._core.trigger("loaded",{element:i,url:n},"lazy")},this),e.src=n)},this)),this._loaded.push(t.get(0)))},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(n){function e(t){this._core=t,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":n.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=n.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)}e.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},e.prototype.update=function(){var t=this._core._current,e=t+this._core.settings.items,t=this._core.$stage.children().toArray().slice(t,e),i=[];n.each(t,function(t,e){i.push(n(e).height())}),e=Math.max.apply(null,i),this._core.$stage.parent().height(e).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,(window,document)),function(h,e){function i(t){this._core=t,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":h.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":h.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":h.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":h.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":h.proxy(function(t){var e;t.namespace&&(e=h(t.content).find(".owl-video")).length&&(e.css("display","none"),this.fetch(e,h(t.content)))},this)},this._core.options=h.extend({},i.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",h.proxy(function(t){this.play(t)},this))}i.Defaults={video:!1,videoHeight:!1,videoWidth:!1},i.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",n=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),s=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if(-1<(n=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu"))i="youtube";else if(-1<n[3].indexOf("vimeo"))i="vimeo";else{if(!(-1<n[3].indexOf("vzaar")))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[r]={type:i,id:n,width:s,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},i.prototype.thumbnail=function(e,t){function i(t){n=c.lazyLoad?'<div class="owl-video-tn '+l+'" '+a+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(n),e.after('<div class="owl-video-play-icon"></div>')}var n,s,o=t.width&&t.height?'style="width:'+t.width+"px;height:"+t.height+'px;"':"",r=e.find("img"),a="src",l="",c=this._core.settings;return e.wrap('<div class="owl-video-wrapper"'+o+"></div>"),this._core.settings.lazyLoad&&(a="data-src",l="owl-lazy"),r.length?(i(r.attr(a)),r.remove(),!1):void("youtube"===t.type?(s="//img.youtube.com/vi/"+t.id+"/hqdefault.jpg",i(s)):"vimeo"===t.type?h.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t[0].thumbnail_large,i(s)}}):"vzaar"===t.type&&h.ajax({type:"GET",url:"//vzaar.com/api/videos/"+t.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){s=t.framegrab_url,i(s)}}))},i.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},i.prototype.play=function(t){var e,t=h(t.target).closest("."+this._core.settings.itemClass),i=this._videos[t.attr("data-video")],n=i.width||"100%",s=i.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),t=this._core.items(this._core.relative(t.index())),this._core.reset(t.index()),"youtube"===i.type?e='<iframe width="'+n+'" height="'+s+'" src="//www.youtube.com/embed/'+i.id+"?autoplay=1&rel=0&v="+i.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===i.type?e='<iframe src="//player.vimeo.com/video/'+i.id+'?autoplay=1" width="'+n+'" height="'+s+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===i.type&&(e='<iframe frameborder="0"height="'+s+'"width="'+n+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+i.id+'/player?autoplay=true"></iframe>'),h('<div class="owl-video-frame">'+e+"</div>").insertAfter(t.find(".owl-video")),this._playing=t.addClass("owl-video-playing"))},i.prototype.isInFullScreen=function(){var t=e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement;return t&&h(t).parent().hasClass("owl-video-frame")},i.prototype.destroy=function(){var t,e;for(t in this._core.$element.off("click.owl.video"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},h.fn.owlCarousel.Constructor.Plugins.Video=i}(window.Zepto||window.jQuery,(window,document)),function(r){function e(t){this.core=t,this.core.options=r.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":r.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":r.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":r.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)}e.Defaults={animateOut:!1,animateIn:!1},e.prototype.swap=function(){var t,e,i,n,s,o;1===this.core.settings.items&&r.support.animation&&r.support.transition&&(this.core.speed(0),e=r.proxy(this.clear,this),i=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),s=this.core.settings.animateIn,o=this.core.settings.animateOut,this.core.current()!==this.previous)&&(o&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),i.one(r.support.animation.end,e).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(o)),s)&&n.one(r.support.animation.end,e).addClass("animated owl-animated-in").addClass(s)},e.prototype.clear=function(t){r(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},r.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,(window,document)),function(n,s,e){function i(t){this._core=t,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":n.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":n.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":n.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=n.extend({},i.Defaults,this._core.options)}i.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},i.prototype._next=function(t){this._call=s.setTimeout(n.proxy(this._next,this,t),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("busy")||this._core.is("interacting")||e.hidden||this._core.next(t||this._core.settings.autoplaySpeed)},i.prototype.read=function(){return(new Date).getTime()-this._time},i.prototype.play=function(t,e){var i;this._core.is("rotating")||this._core.enter("rotating"),t=t||this._core.settings.autoplayTimeout,i=Math.min(this._time%(this._timeout||t),t),this._paused?(this._time=this.read(),this._paused=!1):s.clearTimeout(this._call),this._time+=this.read()%t-i,this._timeout=t,this._call=s.setTimeout(n.proxy(this._next,this,e),t-i)},i.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,s.clearTimeout(this._call),this._core.leave("rotating"))},i.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,s.clearTimeout(this._call))},i.prototype.destroy=function(){var t,e;for(t in this.stop(),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.owlCarousel.Constructor.Plugins.autoplay=i}(window.Zepto||window.jQuery,window,document),function(s){"use strict";function e(t){this._core=t,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":s.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+s(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":s.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":s.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":s.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":s.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":s.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=s.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)}e.Defaults={nav:!1,navText:['<span aria-label="prev">&#x2039;</span>','<span aria-label="next">&#x203a;</span>'],navSpeed:!1,navElement:"button",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var t,i=this._core.settings;for(t in this._controls.$relative=(i.navContainer?s(i.navContainer):s("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=s("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",s.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=s("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",s.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[s("<button>").addClass(i.dotClass).append(s("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?s(i.dotsContainer):s("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",s.proxy(function(t){var e=(s(t.target).parent().is(this._controls.$absolute)?s(t.target):s(t.target).parent()).index();t.preventDefault(),this.to(e,i.dotsSpeed)},this)),this._overrides)this._core[t]=s.proxy(this[t],this)},e.prototype.destroy=function(){var t,e,i,n;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&settings.navContainer?this._controls[e].html(""):this._controls[e].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},e.prototype.update=function(){var t,e,i=this._core.clones().length/2,n=i+this._core.items().length,s=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=i,e=0;t<n;t++){if(r<=e||0===e){if(this._pages.push({start:Math.min(s,t-i),end:t-i+r-1}),Math.min(s,t-i)===s)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},e.prototype.draw=function(){var t=this._core.settings,e=this._core.items().length<=t.items,i=this._core.relative(this._core.current()),n=t.loop||t.rewind;this._controls.$relative.toggleClass("disabled",!t.nav||e),t.nav&&(this._controls.$previous.toggleClass("disabled",!n&&i<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!n&&i>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!t.dots||e),t.dots&&(n=this._pages.length-this._controls.$absolute.children().length,t.dotsData&&0!=n?this._controls.$absolute.html(this._templates.join("")):0<n?this._controls.$absolute.append(new Array(1+n).join(this._templates[0])):n<0&&this._controls.$absolute.children().slice(n).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(s.inArray(this.current(),this._pages)).addClass("active"))},e.prototype.onTrigger=function(t){var e=this._core.settings;t.page={index:s.inArray(this.current(),this._pages),count:this._pages.length,size:e&&(e.center||e.autoWidth||e.dotsData?1:e.dotsEach||e.items)}},e.prototype.current=function(){var i=this._core.relative(this._core.current());return s.grep(this._pages,s.proxy(function(t,e){return t.start<=i&&t.end>=i},this)).pop()},e.prototype.getPosition=function(t){var e,i,n=this._core.settings;return"page"==n.slideBy?(e=s.inArray(this.current(),this._pages),i=this._pages.length,t?++e:--e,e=this._pages[(e%i+i)%i].start):(e=this._core.relative(this._core.current()),i=this._core.items().length,t?e+=n.slideBy:e-=n.slideBy),e},e.prototype.next=function(t){s.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)},e.prototype.prev=function(t){s.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)},e.prototype.to=function(t,e,i){!i&&this._pages.length?(i=this._pages.length,s.proxy(this._overrides.to,this._core)(this._pages[(t%i+i)%i].start,e)):s.proxy(this._overrides.to,this._core)(t,e)},s.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,(window,document)),function(n,s){"use strict";function e(t){this._core=t,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":n.proxy(function(t){t.namespace&&"URLHash"===this._core.settings.startPosition&&n(s).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":n.proxy(function(t){var e;t.namespace&&(e=n(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash"))&&(this._hashes[e]=t.content)},this),"changed.owl.carousel":n.proxy(function(t){var i;t.namespace&&"position"===t.property.name&&(i=this._core.items(this._core.relative(this._core.current())),t=n.map(this._hashes,function(t,e){return t===i?e:null}).join())&&s.location.hash.slice(1)!==t&&(s.location.hash=t)},this)},this._core.options=n.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),n(s).on("hashchange.owl.navigation",n.proxy(function(t){var e=s.location.hash.substring(1),i=this._core.$stage.children(),i=this._hashes[e]&&i.index(this._hashes[e]);void 0!==i&&i!==this._core.current()&&this._core.to(this._core.relative(i),!1,!0)},this))}e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var t,e;for(t in n(s).off("hashchange.owl.navigation"),this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(s){function e(t,i){var n=!1,e=t.charAt(0).toUpperCase()+t.slice(1);return s.each((t+" "+r.join(e+" ")+e).split(" "),function(t,e){return void 0!==o[e]?(n=!i||e,!1):void 0}),n}function t(t){return e(t,!0)}var o=s("<support>").get(0).style,r="Webkit Moz O ms".split(" "),i={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},n=function(){return!!e("transform")},a=function(){return!!e("perspective")},l=function(){return!!e("animation")};!function(){return!!e("transition")}()||(s.support.transition=new String(t("transition")),s.support.transition.end=i.transition.end[s.support.transition]),l()&&(s.support.animation=new String(t("animation")),s.support.animation.end=i.animation.end[s.support.animation]),n()&&(s.support.transform=new String(t("transform")),s.support.transform3d=a())}(window.Zepto||window.jQuery,(window,document)),!function(n){"use strict";function e(t){this.owl=t,this._thumbcontent=[],this._identifier=0,this.owl_currentitem=this.owl.options.startPosition,this.$element=this.owl.$element,this._handlers={"prepared.owl.carousel":n.proxy(function(t){var e;!t.namespace||!this.owl.options.thumbs||this.owl.options.thumbImage||this.owl.options.thumbsPrerendered||this.owl.options.thumbImage?t.namespace&&this.owl.options.thumbs&&this.owl.options.thumbImage&&(e=n(t.content).find("img"),this._thumbcontent.push(e)):void 0!==n(t.content).find("[data-thumb]").attr("data-thumb")&&this._thumbcontent.push(n(t.content).find("[data-thumb]").attr("data-thumb"))},this),"initialized.owl.carousel":n.proxy(function(t){t.namespace&&this.owl.options.thumbs&&(this.render(),this.listen(),this._identifier=this.owl.$element.data("slider-id"),this.setActive())},this),"changed.owl.carousel":n.proxy(function(t){t.namespace&&"position"===t.property.name&&this.owl.options.thumbs&&(this._identifier=this.owl.$element.data("slider-id"),this.setActive())},this)},this.owl.options=n.extend({},e.Defaults,this.owl.options),this.owl.$element.on(this._handlers)}e.Defaults={thumbs:!0,thumbImage:!1,thumbContainerClass:"owl-thumbs",thumbItemClass:"owl-thumb-item",moveThumbsInside:!1},e.prototype.listen=function(){var i=this.owl.options;i.thumbsPrerendered&&(this._thumbcontent._thumbcontainer=n("."+i.thumbContainerClass)),n(this._thumbcontent._thumbcontainer).on("click",this._thumbcontent._thumbcontainer.children(),n.proxy(function(t){this._identifier=n(t.target).closest("."+i.thumbContainerClass).data("slider-id");var e=(n(t.target).parent().is(this._thumbcontent._thumbcontainer)?n(t.target):n(t.target).closest("."+i.thumbItemClass)).index();i.thumbsPrerendered?n("[data-slider-id="+this._identifier+"]").trigger("to.owl.carousel",[e,i.dotsSpeed,!0]):this.owl.to(e,i.dotsSpeed),t.preventDefault()},this))},e.prototype.render=function(){var t,e=this.owl.options;if(e.thumbsPrerendered?(this._thumbcontent._thumbcontainer=n("."+e.thumbContainerClass),e.moveThumbsInside&&this._thumbcontent._thumbcontainer.appendTo(this.$element)):this._thumbcontent._thumbcontainer=n("<div>").addClass(e.thumbContainerClass).appendTo(this.$element),e.thumbImage)for(t=0;t<this._thumbcontent.length;++t)this._thumbcontent._thumbcontainer.append("<button class="+e.thumbItemClass+'><img src="'+this._thumbcontent[t].attr("src")+'" alt="'+this._thumbcontent[t].attr("alt")+'" /></button>');else for(t=0;t<this._thumbcontent.length;++t)this._thumbcontent._thumbcontainer.append("<button class="+e.thumbItemClass+">"+this._thumbcontent[t]+"</button>")},e.prototype.setActive=function(){this.owl_currentitem=this.owl._current-this.owl._clones.length/2,this.owl_currentitem===this.owl._items.length&&(this.owl_currentitem=0);var t=this.owl.options,t=t.thumbsPrerendered?n("."+t.thumbContainerClass+'[data-slider-id="'+this._identifier+'"]'):this._thumbcontent._thumbcontainer;t.children().filter(".active").removeClass("active"),t.children().eq(this.owl_currentitem).addClass("active")},e.prototype.destroy=function(){var t,e;for(t in this._handlers)this.owl.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},n.fn.owlCarousel.Constructor.Plugins.Thumbs=e}(window.Zepto||window.jQuery,(window,document)),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(c){"use strict";var n,o=window.Slick||{};n=0,(o=function(t,e){var i=this;i.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(t),appendDots:c(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return c('<button type="button" />').text(e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.focussed=!1,i.interrupted=!1,i.hidden="hidden",i.paused=!0,i.positionProp=null,i.respondTo=null,i.rowCount=1,i.shouldClick=!0,i.$slider=c(t),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.visibilityChange="visibilitychange",i.windowWidth=0,i.windowTimer=null,t=c(t).data("slick")||{},i.options=c.extend({},i.defaults,e,t),i.currentSlide=i.options.initialSlide,i.originalSettings=i.options,void 0!==document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"),i.autoPlay=c.proxy(i.autoPlay,i),i.autoPlayClear=c.proxy(i.autoPlayClear,i),i.autoPlayIterator=c.proxy(i.autoPlayIterator,i),i.changeSlide=c.proxy(i.changeSlide,i),i.clickHandler=c.proxy(i.clickHandler,i),i.selectHandler=c.proxy(i.selectHandler,i),i.setPosition=c.proxy(i.setPosition,i),i.swipeHandler=c.proxy(i.swipeHandler,i),i.dragHandler=c.proxy(i.dragHandler,i),i.keyHandler=c.proxy(i.keyHandler,i),i.instanceUid=n++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.registerBreakpoints(),i.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},o.prototype.addSlide=o.prototype.slickAdd=function(t,e,i){var n=this;if("boolean"==typeof e)i=e,e=null;else if(e<0||e>=n.slideCount)return!1;n.unload(),"number"==typeof e?0===e&&0===n.$slides.length?c(t).appendTo(n.$slideTrack):i?c(t).insertBefore(n.$slides.eq(e)):c(t).insertAfter(n.$slides.eq(e)):!0===i?c(t).prependTo(n.$slideTrack):c(t).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(t,e){c(e).attr("data-slick-index",t)}),n.$slidesCache=n.$slides,n.reinit()},o.prototype.animateHeight=function(){var t;1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical&&(t=this.$slides.eq(this.currentSlide).outerHeight(!0),this.$list.animate({height:t},this.options.speed))},o.prototype.animateSlide=function(t,e){var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(t=-t),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:t},n.options.speed,n.options.easing,e):n.$slideTrack.animate({top:t},n.options.speed,n.options.easing,e):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),c({animStart:n.currentLeft}).animate({animStart:t},{duration:n.options.speed,easing:n.options.easing,step:function(t){t=Math.ceil(t),!1===n.options.vertical?i[n.animType]="translate("+t+"px, 0px)":i[n.animType]="translate(0px,"+t+"px)",n.$slideTrack.css(i)},complete:function(){e&&e.call()}})):(n.applyTransition(),t=Math.ceil(t),!1===n.options.vertical?i[n.animType]="translate3d("+t+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+t+"px, 0px)",n.$slideTrack.css(i),e&&setTimeout(function(){n.disableTransition(),e.call()},n.options.speed))},o.prototype.getNavTarget=function(){var t=this.options.asNavFor;return t=t&&null!==t?c(t).not(this.$slider):t},o.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=c(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},o.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,(!1===e.options.fade?e.$slideTrack:e.$slides.eq(t)).css(i)},o.prototype.autoPlay=function(){this.autoPlayClear(),this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},o.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},o.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0)&&(t.direction=1)),t.slideHandler(e))},o.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=c(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=c(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},o.prototype.buildDots=function(){var t,e,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),e=c("<ul />").addClass(i.options.dotsClass),t=0;t<=i.getDotCount();t+=1)e.append(c("<li />").append(i.options.customPaging.call(this,i,t)));i.$dots=e.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},o.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,e){c(e).attr("data-slick-index",t).data("originalStyling",c(e).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?c('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),c("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},o.prototype.buildRows=function(){var t,e,i,n=this,s=document.createDocumentFragment(),o=n.$slider.children();if(0<n.options.rows){for(i=n.options.slidesPerRow*n.options.rows,e=Math.ceil(o.length/i),t=0;t<e;t++){for(var r=document.createElement("div"),a=0;a<n.options.rows;a++){for(var l=document.createElement("div"),c=0;c<n.options.slidesPerRow;c++){var h=t*i+(a*n.options.slidesPerRow+c);o.get(h)&&l.appendChild(o.get(h))}r.appendChild(l)}s.appendChild(r)}n.$slider.empty().append(s),n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}},o.prototype.checkResponsive=function(t,e){var i,n,s,o=this,r=!1,a=o.$slider.width(),l=window.innerWidth||c(window).width();if("window"===o.respondTo?s=l:"slider"===o.respondTo?s=a:"min"===o.respondTo&&(s=Math.min(l,a)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(i in n=null,o.breakpoints)o.breakpoints.hasOwnProperty(i)&&(!1===o.originalSettings.mobileFirst?s<o.breakpoints[i]&&(n=o.breakpoints[i]):s>o.breakpoints[i]&&(n=o.breakpoints[i]));null!==n?null!==o.activeBreakpoint&&n===o.activeBreakpoint&&!e||(o.activeBreakpoint=n,"unslick"===o.breakpointSettings[n]?o.unslick(n):(o.options=c.extend({},o.originalSettings,o.breakpointSettings[n]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),r=n):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t),r=n),t||!1===r||o.$slider.trigger("breakpoint",[o,r])}},o.prototype.changeSlide=function(t,e){var i,n=this,s=c(t.currentTarget);switch(s.is("a")&&t.preventDefault(),s.is("li")||(s=s.closest("li")),i=n.slideCount%n.options.slidesToScroll!=0?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll,t.data.message){case"previous":o=0==i?n.options.slidesToScroll:n.options.slidesToShow-i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide-o,!1,e);break;case"next":o=0==i?n.options.slidesToScroll:i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide+o,!1,e);break;case"index":var o=0===t.data.index?0:t.data.index||s.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(o),!1,e),s.children().trigger("focus");break;default:return}},o.prototype.checkNavigable=function(t){var e=this.getNavigableIndexes(),i=0;if(t>e[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},o.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(c("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",c.proxy(t.interrupt,t,!0)).off("mouseleave.slick",c.proxy(t.interrupt,t,!1)),!0===t.options.accessibility)&&t.$dots.off("keydown.slick",t.keyHandler),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility)&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow)&&t.$nextArrow.off("keydown.slick",t.keyHandler),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),c(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().off("click.slick",t.selectHandler),c(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),c(window).off("resize.slick.slick-"+t.instanceUid,t.resize),c("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),c(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},o.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.off("mouseleave.slick",c.proxy(this.interrupt,this,!1))},o.prototype.cleanUpRows=function(){var t;0<this.options.rows&&((t=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(t))},o.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},o.prototype.destroy=function(t){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),c(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow))&&e.$prevArrow.remove(),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow))&&e.$nextArrow.remove(),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$slider.removeClass("slick-dotted"),e.unslicked=!0,t||e.$slider.trigger("destroy",[e])},o.prototype.disableTransition=function(t){var e={};e[this.transitionType]="",(!1===this.options.fade?this.$slideTrack:this.$slides.eq(t)).css(e)},o.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},o.prototype.fadeSlideOut=function(t){!1===this.cssTransitions?this.$slides.eq(t).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(t),this.$slides.eq(t).css({opacity:0,zIndex:this.options.zIndex-2}))},o.prototype.filterSlides=o.prototype.slickFilter=function(t){null!==t&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(t).appendTo(this.$slideTrack),this.reinit())},o.prototype.focusHandler=function(){var i=this;i.$slider.off("focus.slick blur.slick").on("focus.slick","*",function(t){var e=c(this);setTimeout(function(){i.options.pauseOnFocus&&e.is(":focus")&&(i.focussed=!0,i.autoPlay())},0)}).on("blur.slick","*",function(t){c(this),i.options.pauseOnFocus&&(i.focussed=!1,i.autoPlay())})},o.prototype.getCurrent=o.prototype.slickCurrentSlide=function(){return this.currentSlide},o.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++n;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},o.prototype.getLeft=function(t){var e,i,n=this,s=0;return n.slideOffset=0,e=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,i=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?i=-1.5:1===n.options.slidesToShow&&(i=-2)),s=e*n.options.slidesToShow*i),n.slideCount%n.options.slidesToScroll!=0&&t+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(s=t>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(t-n.slideCount))*n.slideWidth*-1,(n.options.slidesToShow-(t-n.slideCount))*e*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,n.slideCount%n.options.slidesToScroll*e*-1))):t+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(t+n.options.slidesToShow-n.slideCount)*n.slideWidth,s=(t+n.options.slidesToShow-n.slideCount)*e),n.slideCount<=n.options.slidesToShow&&(s=n.slideOffset=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),i=!1===n.options.vertical?t*n.slideWidth*-1+n.slideOffset:t*e*-1+s,!0===n.options.variableWidth&&(e=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow),i=!0===n.options.rtl?e[0]?-1*(n.$slideTrack.width()-e[0].offsetLeft-e.width()):0:e[0]?-1*e[0].offsetLeft:0,!0===n.options.centerMode)&&(e=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow+1),i=!0===n.options.rtl?e[0]?-1*(n.$slideTrack.width()-e[0].offsetLeft-e.width()):0:e[0]?-1*e[0].offsetLeft:0,i+=(n.$list.width()-e.outerWidth())/2),i},o.prototype.getOption=o.prototype.slickGetOption=function(t){return this.options[t]},o.prototype.getNavigableIndexes=function(){for(var t=this,e=0,i=0,n=[],s=!1===t.options.infinite?t.slideCount:(e=-1*t.options.slidesToScroll,i=-1*t.options.slidesToScroll,2*t.slideCount);e<s;)n.push(e),e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return n},o.prototype.getSlick=function(){return this},o.prototype.getSlideCount=function(){var s,o=this,t=!0===o.options.centerMode?Math.floor(o.$list.width()/2):0,r=-1*o.swipeLeft+t;return!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(t,e){var i=c(e).outerWidth(),n=e.offsetLeft;if(!0!==o.options.centerMode&&(n+=i/2),r<n+i)return s=e,!1}),Math.abs(c(s).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},o.prototype.goTo=o.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},o.prototype.init=function(t){var e=this;c(e.$slider).hasClass("slick-initialized")||(c(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots(),e.checkResponsive(!0),e.focusHandler()),t&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA(),e.options.autoplay&&(e.paused=!1,e.autoPlay())},o.prototype.initADA=function(){var i=this,n=Math.ceil(i.slideCount/i.options.slidesToShow),s=i.getNavigableIndexes().filter(function(t){return 0<=t&&t<i.slideCount});i.$slides.add(i.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==i.$dots&&(i.$slides.not(i.$slideTrack.find(".slick-cloned")).each(function(t){var e=s.indexOf(t);c(this).attr({role:"tabpanel",id:"slick-slide"+i.instanceUid+t,tabindex:-1}),-1!==e&&(t="slick-slide-control"+i.instanceUid+e,c("#"+t).length)&&c(this).attr({"aria-describedby":t})}),i.$dots.attr("role","tablist").find("li").each(function(t){var e=s[t];c(this).attr({role:"presentation"}),c(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+i.instanceUid+t,"aria-controls":"slick-slide"+i.instanceUid+e,"aria-label":t+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(i.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var t=i.currentSlide,e=t+i.options.slidesToShow;t<e;t++)i.options.focusOnChange?i.$slides.eq(t).attr({tabindex:"0"}):i.$slides.eq(t).removeAttr("tabindex");i.activateADA()},o.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility)&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler))},o.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&(c("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility)&&t.$dots.on("keydown.slick",t.keyHandler),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&t.slideCount>t.options.slidesToShow&&c("li",t.$dots).on("mouseenter.slick",c.proxy(t.interrupt,t,!0)).on("mouseleave.slick",c.proxy(t.interrupt,t,!1))},o.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",c.proxy(this.interrupt,this,!1)))},o.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),c(document).on(t.visibilityChange,c.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),c(window).on("orientationchange.slick.slick-"+t.instanceUid,c.proxy(t.orientationChange,t)),c(window).on("resize.slick.slick-"+t.instanceUid,c.proxy(t.resize,t)),c("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),c(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),c(t.setPosition)},o.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},o.prototype.keyHandler=function(t){t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},o.prototype.lazyLoad=function(){function t(t){c("img[data-lazy]",t).each(function(){var t=c(this),e=c(this).attr("data-lazy"),i=c(this).attr("data-srcset"),n=c(this).attr("data-sizes")||o.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){t.animate({opacity:0},100,function(){i&&(t.attr("srcset",i),n)&&t.attr("sizes",n),t.attr("src",e).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,t,e])})},s.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,t,e])},s.src=e})}var e,i,n,o=this;if(!0===o.options.centerMode?n=!0===o.options.infinite?(i=o.currentSlide+(o.options.slidesToShow/2+1))+o.options.slidesToShow+2:(i=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),o.options.slidesToShow/2+1+2+o.currentSlide):(i=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,n=Math.ceil(i+o.options.slidesToShow),!0===o.options.fade&&(0<i&&i--,n<=o.slideCount)&&n++),e=o.$slider.find(".slick-slide").slice(i,n),"anticipated"===o.options.lazyLoad)for(var s=i-1,r=n,a=o.$slider.find(".slick-slide"),l=0;l<o.options.slidesToScroll;l++)s<0&&(s=o.slideCount-1),e=(e=e.add(a.eq(s))).add(a.eq(r)),s--,r++;t(e),o.slideCount<=o.options.slidesToShow?t(o.$slider.find(".slick-slide")):o.currentSlide>=o.slideCount-o.options.slidesToShow?t(o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow)):0===o.currentSlide&&t(o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow))},o.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},o.prototype.next=o.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},o.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},o.prototype.pause=o.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},o.prototype.play=o.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},o.prototype.postSlide=function(t){var e=this;!e.unslicked&&(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.slideCount>e.options.slidesToShow&&e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility)&&(e.initADA(),e.options.focusOnChange)&&c(e.$slides.get(e.currentSlide)).attr("tabindex",0).focus()},o.prototype.prev=o.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},o.prototype.preventDefault=function(t){t.preventDefault()},o.prototype.progressiveLazyLoad=function(t){t=t||1;var e,i,n,s,o=this,r=c("img[data-lazy]",o.$slider);r.length?(e=r.first(),i=e.attr("data-lazy"),n=e.attr("data-srcset"),s=e.attr("data-sizes")||o.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){n&&(e.attr("srcset",n),s)&&e.attr("sizes",s),e.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===o.options.adaptiveHeight&&o.setPosition(),o.$slider.trigger("lazyLoaded",[o,e,i]),o.progressiveLazyLoad()},r.onerror=function(){t<3?setTimeout(function(){o.progressiveLazyLoad(t+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,e,i]),o.progressiveLazyLoad())},r.src=i):o.$slider.trigger("allImagesLoaded",[o])},o.prototype.refresh=function(t){var e=this,i=e.slideCount-e.options.slidesToShow;!e.options.infinite&&e.currentSlide>i&&(e.currentSlide=i),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),i=e.currentSlide,e.destroy(!0),c.extend(e,e.initials,{currentSlide:i}),e.init(),t||e.changeSlide({data:{message:"index",index:i}},!1)},o.prototype.registerBreakpoints=function(){var t,e,i,n=this,s=n.options.responsive||null;if("array"===c.type(s)&&s.length){for(t in n.respondTo=n.options.respondTo||"window",s)if(i=n.breakpoints.length-1,s.hasOwnProperty(t)){for(e=s[t].breakpoint;0<=i;)n.breakpoints[i]&&n.breakpoints[i]===e&&n.breakpoints.splice(i,1),i--;n.breakpoints.push(e),n.breakpointSettings[e]=s[t].settings}n.breakpoints.sort(function(t,e){return n.options.mobileFirst?t-e:e-t})}},o.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&c(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},o.prototype.resize=function(){var t=this;c(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=c(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},o.prototype.removeSlide=o.prototype.slickRemove=function(t,e,i){var n=this;return t="boolean"==typeof t?!0===(e=t)?0:n.slideCount-1:!0===e?--t:t,!(n.slideCount<1||t<0||t>n.slideCount-1)&&(n.unload(),(!0===i?n.$slideTrack.children():n.$slideTrack.children(this.options.slide).eq(t)).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},o.prototype.setCSS=function(t){var e,i,n=this,s={};!0===n.options.rtl&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",s[n.positionProp]=t,!1!==n.transformsEnabled&&(!(s={})===n.cssTransitions?s[n.animType]="translate("+e+", "+i+")":s[n.animType]="translate3d("+e+", "+i+", 0px)"),n.$slideTrack.css(s)},o.prototype.setDimensions=function(){var t=this,e=(!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length))),t.$slides.first().outerWidth(!0)-t.$slides.first().width());!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},o.prototype.setFade=function(){var i,n=this;n.$slides.each(function(t,e){i=n.slideWidth*t*-1,!0===n.options.rtl?c(e).css({position:"relative",right:i,top:0,zIndex:n.options.zIndex-2,opacity:0}):c(e).css({position:"relative",left:i,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},o.prototype.setHeight=function(){var t;1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical&&(t=this.$slides.eq(this.currentSlide).outerHeight(!0),this.$list.css("height",t))},o.prototype.setOption=o.prototype.slickSetOption=function(){var t,e,i,n,s,o=this,r=!1;if("object"===c.type(arguments[0])?(i=arguments[0],r=arguments[1],s="multiple"):"string"===c.type(arguments[0])&&(i=arguments[0],n=arguments[1],r=arguments[2],"responsive"===arguments[0]&&"array"===c.type(arguments[1])?s="responsive":void 0!==arguments[1]&&(s="single")),"single"===s)o.options[i]=n;else if("multiple"===s)c.each(i,function(t,e){o.options[t]=e});else if("responsive"===s)for(e in n)if("array"!==c.type(o.options.responsive))o.options.responsive=[n[e]];else{for(t=o.options.responsive.length-1;0<=t;)o.options.responsive[t].breakpoint===n[e].breakpoint&&o.options.responsive.splice(t,1),t--;o.options.responsive.push(n[e])}r&&(o.unload(),o.reinit())},o.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},o.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty)&&void 0===e.webkitPerspective&&(t.animType=!1),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty)&&void 0===e.MozPerspective&&(t.animType=!1),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty)&&void 0===e.webkitPerspective&&(t.animType=!1),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform)&&(t.animType=!1),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},o.prototype.setSlideClasses=function(t){var e,i,n,s=this,o=s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");s.$slides.eq(t).addClass("slick-current"),!0===s.options.centerMode?(i=s.options.slidesToShow%2==0?1:0,n=Math.floor(s.options.slidesToShow/2),!0===s.options.infinite&&((n<=t&&t<=s.slideCount-1-n?s.$slides.slice(t-n+i,t+n+1):(e=s.options.slidesToShow+t,o.slice(e-n+1+i,e+n+2))).addClass("slick-active").attr("aria-hidden","false"),0===t?o.eq(o.length-1-s.options.slidesToShow).addClass("slick-center"):t===s.slideCount-1&&o.eq(s.options.slidesToShow).addClass("slick-center")),s.$slides.eq(t).addClass("slick-center")):(0<=t&&t<=s.slideCount-s.options.slidesToShow?s.$slides.slice(t,t+s.options.slidesToShow):o.length<=s.options.slidesToShow?o:(i=s.slideCount%s.options.slidesToShow,e=!0===s.options.infinite?s.options.slidesToShow+t:t,s.options.slidesToShow==s.options.slidesToScroll&&s.slideCount-t<s.options.slidesToShow?o.slice(e-(s.options.slidesToShow-i),e+i):o.slice(e,e+s.options.slidesToShow))).addClass("slick-active").attr("aria-hidden","false"),"ondemand"!==s.options.lazyLoad&&"anticipated"!==s.options.lazyLoad||s.lazyLoad()},o.prototype.setupInfinite=function(){var t,e,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(e=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,t=n.slideCount;t>n.slideCount-i;--t)c(n.$slides[e=t-1]).clone(!0).attr("id","").attr("data-slick-index",e-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(t=0;t<i+n.slideCount;t+=1)e=t,c(n.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},o.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},o.prototype.selectHandler=function(t){t=c(t.target).is(".slick-slide")?c(t.target):c(t.target).parents(".slick-slide"),t=(t=parseInt(t.attr("data-slick-index")))||0;return this.slideCount<=this.options.slidesToShow?void this.slideHandler(t,!1,!0):void this.slideHandler(t)},o.prototype.slideHandler=function(t,e,i){var n,s,o,r=this;if(e=e||!1,!(!0===r.animating&&!0===r.options.waitForAnimate||!0===r.options.fade&&r.currentSlide===t))return!1===e&&r.asNavFor(t),n=t,e=r.getLeft(n),o=r.getLeft(r.currentSlide),r.currentLeft=null===r.swipeLeft?o:r.swipeLeft,!1===r.options.infinite&&!1===r.options.centerMode&&(t<0||t>r.getDotCount()*r.options.slidesToScroll)||!1===r.options.infinite&&!0===r.options.centerMode&&(t<0||t>r.slideCount-r.options.slidesToScroll)?void(!1===r.options.fade&&(n=r.currentSlide,!0!==i&&r.slideCount>r.options.slidesToShow?r.animateSlide(o,function(){r.postSlide(n)}):r.postSlide(n))):(r.options.autoplay&&clearInterval(r.autoPlayTimer),s=n<0?r.slideCount%r.options.slidesToScroll!=0?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount+n:n>=r.slideCount?r.slideCount%r.options.slidesToScroll!=0?0:n-r.slideCount:n,r.animating=!0,r.$slider.trigger("beforeChange",[r,r.currentSlide,s]),t=r.currentSlide,r.currentSlide=s,r.setSlideClasses(r.currentSlide),r.options.asNavFor&&(o=(o=r.getNavTarget()).slick("getSlick")).slideCount<=o.options.slidesToShow&&o.setSlideClasses(r.currentSlide),r.updateDots(),r.updateArrows(),!0===r.options.fade?(!0!==i?(r.fadeSlideOut(t),r.fadeSlide(s,function(){r.postSlide(s)})):r.postSlide(s),void r.animateHeight()):void(!0!==i&&r.slideCount>r.options.slidesToShow?r.animateSlide(e,function(){r.postSlide(s)}):r.postSlide(s)))},o.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},o.prototype.swipeDirection=function(){var t=this.touchObject.startX-this.touchObject.curX,e=this.touchObject.startY-this.touchObject.curY,e=Math.atan2(e,t),t=Math.round(180*e/Math.PI);return(t=t<0?360-Math.abs(t):t)<=45&&0<=t||t<=360&&315<=t?!1===this.options.rtl?"left":"right":135<=t&&t<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=t&&t<=135?"down":"up":"vertical"},o.prototype.swipeEnd=function(t){var e,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1;if(n.interrupted=!1,n.shouldClick=!(10<n.touchObject.swipeLength),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},o.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},o.prototype.swipeMove=function(t){var e,i,n=this,s=void 0!==t.originalEvent?t.originalEvent.touches:null;return!(!n.dragging||n.scrolling||s&&1!==s.length)&&(e=n.getLeft(n.currentSlide),n.touchObject.curX=void 0!==s?s[0].pageX:t.clientX,n.touchObject.curY=void 0!==s?s[0].pageY:t.clientY,n.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(n.touchObject.curX-n.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(n.touchObject.curY-n.touchObject.startY,2))),!n.options.verticalSwiping&&!n.swiping&&4<s?!(n.scrolling=!0):(!0===n.options.verticalSwiping&&(n.touchObject.swipeLength=s),s=n.swipeDirection(),void 0!==t.originalEvent&&4<n.touchObject.swipeLength&&(n.swiping=!0,t.preventDefault()),t=(!1===n.options.rtl?1:-1)*(n.touchObject.curX>n.touchObject.startX?1:-1),!0===n.options.verticalSwiping&&(t=n.touchObject.curY>n.touchObject.startY?1:-1),i=n.touchObject.swipeLength,(n.touchObject.edgeHit=!1)===n.options.infinite&&(0===n.currentSlide&&"right"===s||n.currentSlide>=n.getDotCount()&&"left"===s)&&(i=n.touchObject.swipeLength*n.options.edgeFriction,n.touchObject.edgeHit=!0),!1===n.options.vertical?n.swipeLeft=e+i*t:n.swipeLeft=e+i*(n.$list.height()/n.listWidth)*t,!0===n.options.verticalSwiping&&(n.swipeLeft=e+i*t),!0!==n.options.fade&&!1!==n.options.touchMove&&(!0===n.animating?(n.swipeLeft=null,!1):void n.setCSS(n.swipeLeft))))},o.prototype.swipeStart=function(t){var e,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?!(i.touchObject={}):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(i.dragging=!0))},o.prototype.unfilterSlides=o.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},o.prototype.unload=function(){var t=this;c(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},o.prototype.unslick=function(t){this.$slider.trigger("unslick",[this,t]),this.destroy()},o.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2);!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode||t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode)&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},o.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))},o.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},c.fn.slick=function(){for(var t,e=arguments[0],i=Array.prototype.slice.call(arguments,1),n=this.length,s=0;s<n;s++)if("object"==typeof e||void 0===e?this[s].slick=new o(this[s],e):t=this[s].slick[e].apply(this[s].slick,i),void 0!==t)return t;return this}}),!function(){"use strict";function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function s(n){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?e(Object(s),!0).forEach(function(t){var e,i;e=n,i=s[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):e(Object(s)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function E(t,e){var i;return null===t?null:"number"!=typeof e.step?t:(i=t%(60*e.step),(i-=(e.minTime||0)%(60*e.step))>=30*e.step?t+=60*e.step-i:t-=i,86400==(i=t)&&e.show2400?i:i%86400)}var i,n,o={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,lang:{},listWidth:null,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:E,scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},r={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},g=(n=[{key:"extractAttrOptions",value:function(t,e){var i,n={},s=function(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){var e,i;if(Array.isArray(t)||(t=function(t){var e;if(t)return"string"==typeof t?a(t,void 0):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,void 0):void 0}(t)))return e=0,{s:i=function(){},n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s,o=!0,r=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){r=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw s}}}}(e);try{for(s.s();!(i=s.n()).done;){var o=i.value;o in t.dataset&&(n[o]=t.dataset[o])}}catch(t){s.e(t)}finally{s.f()}return n}}],t((i=l).prototype,[{key:"time2int",value:function(t){if(""===t||null==t)return null;if(t instanceof Date)return 3600*t.getHours()+60*t.getMinutes()+t.getSeconds();if("string"!=typeof t)return t;"a"!=(t=t.toLowerCase().replace(/[\s\.]/g,"")).slice(-1)&&"p"!=t.slice(-1)||(t+="m");t=t.match(/^(([^0-9]*))?([0-9]?[0-9])(\W?([0-5][0-9]))?(\W+([0-5][0-9]))?(([^0-9]*))$/);if(!t)return null;var e=parseInt(+t[3],10),i=t[2]||t[9],n=e,s=+t[5]||0,o=+t[7]||0;if(i||2!=t[3].length||"0"!=t[3][0]||(i="am"),e<=12&&i)t=(i=i.trim())==this.settings.lang.pm||i==this.settings.lang.PM,n=12==e?t?12:0:e+(t?12:0);else if(3600*e+60*s+o>=86400+(this.settings.show2400?1:0)){if(!1===this.settings.wrapHours)return null;n=e%24}t=3600*n+60*s+o;return t=e<12&&!i&&this.settings._twelveHourTime&&this.settings.scrollDefault&&(n=t-this.settings.scrollDefault())<0&&-43200<=n?(t+43200)%86400:t}},{key:"parseSettings",value:function(t){var e,i=this;if(t.lang=s(s({},r),t.lang),(this.settings=t).minTime&&(t.minTime=this.time2int(t.minTime)),t.maxTime&&(t.maxTime=this.time2int(t.maxTime)),t.listWidth&&(t.listWidth=this.time2int(t.listWidth)),t.durationTime&&"function"!=typeof t.durationTime&&(t.durationTime=this.time2int(t.durationTime)),"now"==t.scrollDefault?t.scrollDefault=function(){return t.roundingFunction(i.time2int(new Date),t)}:t.scrollDefault&&"function"!=typeof t.scrollDefault?(e=t.scrollDefault,t.scrollDefault=function(){return t.roundingFunction(i.time2int(e),t)}):t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)}),"string"==typeof t.timeFormat&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),!1===t.showOnFocus&&-1!=t.showOn.indexOf("focus")&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges||(t.disableTimeRanges=[]),0<t.disableTimeRanges.length){for(var n in t.disableTimeRanges)t.disableTimeRanges[n]=[this.time2int(t.disableTimeRanges[n][0]),this.time2int(t.disableTimeRanges[n][1])];for(t.disableTimeRanges=t.disableTimeRanges.sort(function(t,e){return t[0]-e[0]}),n=t.disableTimeRanges.length-1;0<n;n--)t.disableTimeRanges[n][0]<=t.disableTimeRanges[n-1][1]&&(t.disableTimeRanges[n-1]=[Math.min(t.disableTimeRanges[n][0],t.disableTimeRanges[n-1][0]),Math.max(t.disableTimeRanges[n][1],t.disableTimeRanges[n-1][1])],t.disableTimeRanges.splice(n,1))}return t}}]),t(i,n),l);function l(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,n=l;if(!(i instanceof n))throw new TypeError("Cannot call a class as a function");i=l.extractAttrOptions(t,Object.keys(o));this.settings=this.parseSettings(s(s(s({},o),e),i))}i=function(x){var _={},C={init:function(s){return this.each(function(){var t=x(this),e=new g(this,s),i=e.settings;if(_=i.lang,t.data("timepicker-settings",i),t.data("timepicker-obj",e),t.addClass("ui-timepicker-input"),i.useSelect)r(t);else{if(t.prop("autocomplete","off"),i.showOn)for(var n in i.showOn)t.on(i.showOn[n]+".timepicker",C.show);t.on("change.timepicker",c),t.on("keydown.timepicker",u),t.on("keyup.timepicker",p),i.disableTextInput&&t.on("keydown.timepicker",d),t.on("cut.timepicker",p),t.on("paste.timepicker",p),c.call(t.get(0),null,"initial")}})},show:function(t){var e=x(this),i=e.data("timepicker-settings"),n=e.data("timepicker-obj");if(t&&t.preventDefault(),i.useSelect)e.data("timepicker-list").focus();else{T(e)&&e.blur();var s,t=e.data("timepicker-list");if(!e.prop("readonly")&&(t&&0!==t.length&&"function"!=typeof i.durationTime||(r(e),t=e.data("timepicker-list")),!o(t)))return e.data("ui-timepicker-value",e.val()),D(e,t),C.hide(),"number"==typeof i.listWidth&&t.width(e.outerWidth()*i.listWidth),t.show(),s={},i.orientation.match(/r/)?s.left=e.offset().left+e.outerWidth()-t.outerWidth()+parseInt(t.css("marginLeft").replace("px",""),10):i.orientation.match(/l/)?s.left=e.offset().left+parseInt(t.css("marginLeft").replace("px",""),10):i.orientation.match(/c/)&&(s.left=e.offset().left+(e.outerWidth()-t.outerWidth())/2+parseInt(t.css("marginLeft").replace("px",""),10)),"t"==(i.orientation.match(/t/)||!i.orientation.match(/b/)&&e.offset().top+e.outerHeight(!0)+t.outerHeight()>x(window).height()+x(window).scrollTop()?"t":"b")?(t.addClass("ui-timepicker-positioned-top"),s.top=e.offset().top-t.outerHeight()+parseInt(t.css("marginTop").replace("px",""),10)):(t.removeClass("ui-timepicker-positioned-top"),s.top=e.offset().top+e.outerHeight()+parseInt(t.css("marginTop").replace("px",""),10)),t.offset(s),(s=t.find(".ui-timepicker-selected")).length||(null!==(n=n.time2int(h(e)))?s=l(e,t,n):i.scrollDefault&&(s=l(e,t,i.scrollDefault()))),(s=s.length&&!s.hasClass("ui-timepicker-disabled")?s:t.find("li:not(.ui-timepicker-disabled):first"))&&s.length?(n=t.scrollTop()+s.position().top-s.outerHeight(),t.scrollTop(n)):t.scrollTop(0),i.stopScrollPropagation&&x(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var e=x(this).scrollTop();x(this).scrollTop(e+t.originalEvent.deltaY)}),x(document).on("mousedown.ui-timepicker",a),x(window).on("resize.ui-timepicker",a),i.closeOnWindowScroll&&x(document).on("scroll.ui-timepicker",a),e.trigger("showTimepicker"),this}},hide:function(t){var e=x(this),i=e.data("timepicker-settings");return i&&i.useSelect&&e.blur(),x(".ui-timepicker-wrapper").each(function(){var t,e,i=x(this);o(i)&&((e=(t=i.data("timepicker-input")).data("timepicker-settings"))&&e.selectOnBlur&&M(t),i.hide(),t.trigger("hideTimepicker"))}),this},option:function(s,o){return"string"==typeof s&&void 0===o?x(this).data("timepicker-settings")[s]:this.each(function(){var t=x(this),e=t.data("timepicker-settings"),i=t.data("timepicker-obj"),n=t.data("timepicker-list");"object"==f(s)?e=x.extend(e,s):"string"==typeof s&&(e[s]=o),e=i.parseSettings(e),t.data("timepicker-settings",e),c.call(t.get(0),{type:"change"},"initial"),n&&(n.remove(),t.data("timepicker-list",!1)),e.useSelect&&r(t)})},getSecondsFromMidnight:function(){return x(this).data("timepicker-obj").time2int(h(this))},getTime:function(t){var e=x(this),i=e.data("timepicker-obj"),e=h(e);if(!e)return null;i=i.time2int(e);if(null===i)return null;t=t||new Date;e=new Date(t);return e.setHours(i/3600),e.setMinutes(i%3600/60),e.setSeconds(i%60),e.setMilliseconds(0),e},isVisible:function(){var t=this.data("timepicker-list");return!(!t||!o(t))},setTime:function(t){var e=this.data("timepicker-settings"),i=this.data("timepicker-obj"),i=(e.forceRoundTime?k:P)(i.time2int(t),e);return F(this,i=t&&null===i&&e.noneOption?t:i,"initial"),c.call(this.get(0),{type:"change"},"initial"),this.data("timepicker-list")&&D(this,this.data("timepicker-list")),this},remove:function(){var t;if(this.hasClass("ui-timepicker-input"))return t=this.data("timepicker-settings"),this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),this.removeData("timepicker-settings"),this.off(".timepicker"),this.data("timepicker-list")&&this.data("timepicker-list").remove(),t.useSelect&&this.show(),this.removeData("timepicker-list"),this}};function o(t){t=t[0];return 0<t.offsetWidth&&0<t.offsetHeight}function r(e){var i,t,n=e.data("timepicker-settings"),s=e.data("timepicker-list"),o=e.data("timepicker-obj");if(s&&s.length&&(s.remove(),e.data("timepicker-list",!1)),n.useSelect?(s=x("<select />",{class:"ui-timepicker-select"}),e.attr("name")&&s.attr("name","ui-timepicker-"+e.attr("name")),i=s):(s=x("<ul />",{class:"ui-timepicker-list"}),(i=x("<div />",{class:"ui-timepicker-wrapper",tabindex:-1})).css({display:"none",position:"absolute"}).append(s)),n.noneOption)if(!0===n.noneOption&&(n.noneOption=n.useSelect?"Time...":"None"),x.isArray(n.noneOption))for(var r in n.noneOption)parseInt(r,10)==r&&(t=S(n.noneOption[r],n.useSelect),s.append(t));else t=S(n.noneOption,n.useSelect),s.append(t);n.className&&i.addClass(n.className),null===n.minTime&&null===n.durationTime||!n.showDuration||("function"!=typeof n.step&&n.step,i.addClass("ui-timepicker-with-duration"),i.addClass("ui-timepicker-step-"+n.step));var a=n.minTime,l=("function"==typeof n.durationTime?a=o.time2int(n.durationTime()):null!==n.durationTime&&(a=n.durationTime),null!==n.minTime?n.minTime:0),c=null!==n.maxTime?n.maxTime:l+86400-1,h=(c<l&&(c+=86400),86399===c&&"string"===x.type(n.timeFormat)&&n.show2400&&(c=86400),n.disableTimeRanges),d=0,u=h.length,p=n.step;"function"!=typeof p&&(p=function(){return n.step});for(var f,r=l,g=0;r<=c;r+=60*p(++g)){var m,v,y,w=r,b=P(w,n);(n.useSelect?m=x("<option />",{value:b}):((m=x("<li />")).addClass(w%86400<43200?"ui-timepicker-am":"ui-timepicker-pm"),m.data("time",E(w,n)),m)).text(b),null===n.minTime&&null===n.durationTime||!n.showDuration||(b=r-a,y=n.step,f=v=void 0,b=Math.abs(b),b=Math.round(b/60),f=[],b<60?f=[b,_.mins]:(v=Math.floor(b/60),b=b%60,30==y&&30==b&&(v+=_.decimal+5),f.push(v),f.push(1==v?_.hr:_.hrs),30!=y&&b&&(f.push(b),f.push(_.mins))),v=f.join(" "),n.useSelect?m.text(m.text()+" ("+v+")"):((y=x("<span />",{class:"ui-timepicker-duration"})).text(" ("+v+")"),m.append(y))),d<u&&(w>=h[d][1]&&(d+=1),h[d])&&w>=h[d][0]&&w<h[d][1]&&(n.useSelect?m.prop("disabled",!0):m.addClass("ui-timepicker-disabled")),s.append(m)}i.data("timepicker-input",e),e.data("timepicker-list",i),n.useSelect?(e.val()&&s.val(k(o.time2int(e.val()),n)),s.on("focus",function(){x(this).data("timepicker-input").trigger("showTimepicker")}),s.on("blur",function(){x(this).data("timepicker-input").trigger("hideTimepicker")}),s.on("change",function(){F(e,x(this).val(),"select")}),F(e,s.val(),"initial"),e.hide().after(s)):("string"==typeof(l=n.appendTo)?l=x(l):"function"==typeof l&&(l=l(e)),l.append(i),D(e,s),s.on("mousedown click","li",function(t){e.off("focus.timepicker"),e.on("focus.timepicker-ie-hack",function(){e.off("focus.timepicker-ie-hack"),e.on("focus.timepicker",C.show)}),T(e)||e[0].focus(),s.find("li").removeClass("ui-timepicker-selected"),x(this).addClass("ui-timepicker-selected"),M(e)&&(e.trigger("hideTimepicker"),s.on("mouseup.timepicker click.timepicker","li",function(t){s.off("mouseup.timepicker click.timepicker"),i.hide()}))}))}function S(t,e){var i,n,s;return"object"==f(t)?(i=t.label,n=t.className,s=t.value):"string"==typeof t?(i=t,s=""):x.error("Invalid noneOption value"),e?x("<option />",{value:s,class:n,text:i}):x("<li />",{class:n,text:i}).data("time",String(s))}function k(t,e){if(null!==(t=e.roundingFunction(t,e)))return P(t,e)}function a(t){t.target==window||(t=x(t.target)).closest(".ui-timepicker-input").length||t.closest(".ui-timepicker-wrapper").length||(C.hide(),x(document).unbind(".ui-timepicker"),x(window).unbind(".ui-timepicker"))}function T(t){t=t.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function l(t,e,i){var n;return!(!i&&0!==i)&&(t=t.data("timepicker-settings"),n=!1,i=t.roundingFunction(i,t),e.find("li").each(function(t,e){e=x(e);return"number"==typeof e.data("time")&&e.data("time")==i?(n=e,!1):void 0}),n)}function D(t,e){e.find("li").removeClass("ui-timepicker-selected");var i,n=t.data("timepicker-settings"),s=t.data("timepicker-obj").time2int(h(t));null!==s&&(console.log(s),t=l(t,e,s))&&(((i=t.offset().top-e.offset().top)+t.outerHeight()>e.outerHeight()||i<0)&&e.scrollTop(e.scrollTop()+t.position().top-t.outerHeight()),!n.forceRoundTime&&t.data("time")!==s||t.addClass("ui-timepicker-selected"))}function c(t,e){var i,n,s,o,r;"timepicker"!=e&&(i=x(this),""!==this.value?(!i.is(":focus")||t&&"change"==t.type)&&(n=i.data("timepicker-settings"),null!==(s=i.data("timepicker-obj").time2int(this.value))?(o=!1,null!==n.minTime&&null!==n.maxTime&&(s<n.minTime||s>n.maxTime)&&(o=!0),x.each(n.disableTimeRanges,function(){if(s>=this[0]&&s<this[1])return!(o=!0)}),n.forceRoundTime&&(r=n.roundingFunction(s,n))!=s&&(s=r,e=null),r=P(s,n),o?(F(i,r,"error")||t&&"change"==t.type)&&i.trigger("timeRangeError"):F(i,r,e)):i.trigger("timeFormatError")):F(i,null,e))}function h(t){return t.is("input")?t.val():t.data("ui-timepicker-value")}function F(t,e,i){var n,s;return t.is("input")&&(null===e&&""==t.val()||t.val(e),n=t.data("timepicker-settings"),s=t.data("timepicker-obj"),n.useSelect)&&"select"!=i&&t.data("timepicker-list")&&t.data("timepicker-list").val(k(s.time2int(e),n)),t.data("ui-timepicker-value")!=e?(t.data("ui-timepicker-value",e),"select"==i?t.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(i)&&t.trigger("changeTime"),1):(-1==["error","initial"].indexOf(i)&&t.trigger("selectTime"),0)}function d(t){switch(t.keyCode){case 13:case 9:return;default:t.preventDefault()}}function u(t){var e=x(this),i=e.data("timepicker-list");if(!i||!o(i)){if(40!=t.keyCode)return!0;C.show.call(e.get(0)),i=e.data("timepicker-list"),T(e)||e.focus()}switch(t.keyCode){case 13:return M(e)&&(c.call(e.get(0),{type:"change"}),C.hide.apply(this)),t.preventDefault(),!1;case 38:var n=i.find(".ui-timepicker-selected");return n.length?n.is(":first-child")||(n.removeClass("ui-timepicker-selected"),n.prev().addClass("ui-timepicker-selected"),n.prev().position().top<n.outerHeight()&&i.scrollTop(i.scrollTop()-n.outerHeight())):(i.find("li").each(function(t,e){if(0<x(e).position().top)return n=x(e),!1}),n.addClass("ui-timepicker-selected")),!1;case 40:return 0===(n=i.find(".ui-timepicker-selected")).length?(i.find("li").each(function(t,e){if(0<x(e).position().top)return n=x(e),!1}),n.addClass("ui-timepicker-selected")):n.is(":last-child")||(n.removeClass("ui-timepicker-selected"),n.next().addClass("ui-timepicker-selected"),n.next().position().top+2*n.outerHeight()>i.outerHeight()&&i.scrollTop(i.scrollTop()+n.outerHeight())),!1;case 27:i.find("li").removeClass("ui-timepicker-selected"),C.hide();break;case 9:C.hide();break;default:return!0}}function p(t){var e=x(this),i=e.data("timepicker-list"),n=e.data("timepicker-settings");if(!i||!o(i)||n.disableTextInput)return!0;if("paste"!==t.type&&"cut"!==t.type)switch(t.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:n.typeaheadHighlight?D(e,i):i.hide()}else setTimeout(function(){n.typeaheadHighlight?D(e,i):i.hide()},0)}function M(t){var e=t.data("timepicker-settings"),i=null,n=t.data("timepicker-list").find(".ui-timepicker-selected");return!n.hasClass("ui-timepicker-disabled")&&(null!==(i=n.length?n.data("time"):i)&&F(t,i="string"!=typeof i?P(i,e):i,"select"),1)}function P(t,e){if("number"!=typeof t)return null;var i=parseInt(t%60),n=parseInt(t/60%60),s=parseInt(t/3600%24),o=new Date(1970,0,2,s,n,i,0);if(isNaN(o.getTime()))return null;if("function"===x.type(e.timeFormat))return e.timeFormat(o);for(var r,a,l="",c=0;c<e.timeFormat.length;c++)switch(a=e.timeFormat.charAt(c)){case"a":l+=11<o.getHours()?_.pm:_.am;break;case"A":l+=11<o.getHours()?_.PM:_.AM;break;case"g":l+=0==(r=o.getHours()%12)?"12":r;break;case"G":r=o.getHours(),l+=r=86400===t?e.show2400?24:0:r;break;case"h":l+=0===(r=0!=(r=o.getHours()%12)&&r<10?"0"+r:r)?"12":r;break;case"H":r=o.getHours(),l+=9<(r=86400===t?e.show2400?24:0:r)?r:"0"+r;break;case"i":l+=9<(n=o.getMinutes())?n:"0"+n;break;case"s":l+=9<(i=o.getSeconds())?i:"0"+i;break;case"\\":c++,l+=e.timeFormat.charAt(c);break;default:l+=a}return l}x.fn.timepicker=function(t){return this.length?C[t]?this.hasClass("ui-timepicker-input")?C[t].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!==f(t)&&t?void x.error("Method "+t+" does not exist on jQuery.timepicker"):C.init.apply(this,arguments):this},x.fn.timepicker.defaults={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,listWidth:null,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(t,e){var i;return null===t?null:"number"!=typeof e.step?t:(i=t%(60*e.step),(i-=(e.minTime||0)%(60*e.step))>=30*e.step?t+=60*e.step-i:t-=i,_moduloSeconds(t,e))},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0}},"object"===("undefined"==typeof exports?"undefined":f(exports))&&exports&&"object"===("undefined"==typeof module?"undefined":f(module))&&module&&module.exports===exports?i(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],i):i(jQuery)}(),window.Symbol||function(t){"use strict";var e=Object.defineProperty,i="__symbol-"+Math.ceil(1e9*Math.random())+"-",n=0;function s(t){if(!(this instanceof s))return new s(t);t=i+n++;this._symbol=t}e(s.prototype,"toString",{enumerable:!1,configurable:!1,writable:!1,value:function(){return this._symbol}}),t.Symbol=s}(this),!function(t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=t:t()}(function(){function l(t){return t[A]||(t[A]={})}function i(t,e,i,n){function s(t){i(t,n)}e=e.split(K);for(var o,r=l(t),a=e.length;a--;)(r[o=e[a]]||(r[o]=[])).push([i,s]),t.addEventListener(o,s)}function o(t,e,i){e=e.split(K);var n,s,o,r=l(t),a=e.length;if(r)for(;a--;)if(s=r[n=e[a]])for(o=s.length;o--;)s[o][0]===i&&(t.removeEventListener(n,s[o][1]),s.splice(o,1))}function c(t,e,i){e=new CustomEvent(e,I);i&&T(e,i),t.dispatchEvent(e)}function e(t){function e(t){n?(i(),F(e),n=!(s=!0)):s=!1}var i=t,n=!1,s=!1;this.kick=function(t){n=!0,s||e()},this.end=function(t){var e=i;t&&(s?(i=n?function(){e(),t()}:t,n=!0):t())}}function h(){}function r(t){t.preventDefault()}function a(t,e){var i,n;if(t.identifiedTouch)return t.identifiedTouch(e);for(i=-1,n=t.length;++i<n;)if(t[i].identifier===e)return t[i]}function d(t,e){t=a(t.changedTouches,e.identifier);if(t&&(t.pageX!==e.pageX||t.pageY!==e.pageY))return t}function t(t){var e;1!==(e=t).which||e.ctrlKey||e.altKey||M[t.target.tagName.toLowerCase()]||(i(document,P.move,n,t),i(document,P.cancel,s,t))}function n(t,e){g(t,e,t,u)}function s(t,e){u()}function u(){o(document,P.move,n),o(document,P.cancel,s)}function p(t){M[t.target.tagName.toLowerCase()]||(t={target:(t=t.changedTouches[0]).target,pageX:t.pageX,pageY:t.pageY,identifier:t.identifier,touchmove:function(t,e){var i;(i=d(t=t,e=e))&&g(t,e,i,f)},touchend:function(t,e){e=e,a(t.changedTouches,e.identifier)&&f(e)}},i(document,E.move,t.touchmove,t),i(document,E.cancel,t.touchend,t))}function f(t){o(document,E.move,t.touchmove),o(document,E.cancel,t.touchend)}function g(t,e,i,n){var s,o,r,a=i.pageX-e.pageX,l=i.pageY-e.pageY;a*a+l*l<D*D||(e=e,o=i,n=n,t=(s=t).targetTouches,r=s.timeStamp-e.timeStamp,o={altKey:s.altKey,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,startX:e.pageX,startY:e.pageY,distX:a,distY:l,deltaX:a,deltaY:l,pageX:i.pageX,pageY:i.pageY,velocityX:a/r,velocityY:l/r,identifier:e.identifier,targetTouches:t,finger:t?t.length:1,enableMove:function(){this.moveEnabled=!0,this.enableMove=h,s.preventDefault()}},c(e.target,"movestart",o),n(e))}function m(t,e){var i=e.timer;e.touch=t,e.timeStamp=t.timeStamp,i.kick()}function v(t,e){var i=e.target,n=e.event,e=e.timer;o(document,P.move,m),o(document,P.end,v),w(i,n,e,function(){setTimeout(function(){o(i,"click",r)},0)})}function y(t,e){var i=e.target,n=e.event,s=e.timer;a(t.changedTouches,n.identifier)&&(t=e,o(document,E.move,t.activeTouchmove),o(document,E.end,t.activeTouchend),w(i,n,s))}function w(t,e,i,n){i.end(function(){return c(t,"moveend",e),n&&n()})}function b(t){var s,o;!t.defaultPrevented&&t.moveEnabled&&(s={startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},o={target:t.target,event:s,timer:new e(function(t){var e,i,n;e=s,i=o.touch,n=o.timeStamp,n-=e.timeStamp,e.distX=i.pageX-e.startX,e.distY=i.pageY-e.startY,e.deltaX=i.pageX-e.pageX,e.deltaY=i.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/n,e.velocityY=.3*e.velocityY+.7*e.deltaY/n,e.pageX=i.pageX,e.pageY=i.pageY,c(o.target,"move",s)}),touch:void 0,timeStamp:t.timeStamp},void 0===t.identifier?(i(t.target,"click",r),i(document,P.move,m,o),i(document,P.end,v,o)):(o.activeTouchmove=function(t,e){var i,n,s;t=t,i=(e=e).event,n=e.timer,(s=d(t,i))&&(t.preventDefault(),i.targetTouches=t.targetTouches,e.touch=s,e.timeStamp=t.timeStamp,n.kick())},o.activeTouchend=function(t,e){y(t,e)},i(document,E.move,o.activeTouchmove,o),i(document,E.end,o.activeTouchend,o)))}function x(t){t.enableMove()}function _(t){t.enableMove()}function C(t){t.enableMove()}function S(t){var n=t.handler;t.handler=function(t){for(var e,i=k.length;i--;)t[e=k[i]]=t.originalEvent[e];n.apply(this,arguments)}}var k,T=Object.assign||window.jQuery&&jQuery.extend,D=8,F=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(function(){t()},25)},M={textarea:!0,input:!0,select:!0,button:!0},P={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},E={move:"touchmove",cancel:"touchend",end:"touchend"},K=/\s+/,I={bubbles:!0,cancelable:!0},A=Symbol("events");i(document,"mousedown",t),i(document,"touchstart",p),i(document,"movestart",b),window.jQuery&&(k="startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY".split(" "),jQuery.event.special.movestart={setup:function(){return i(this,"movestart",x),!1},teardown:function(){return o(this,"movestart",x),!1},add:S},jQuery.event.special.move={setup:function(){return i(this,"movestart",_),!1},teardown:function(){return o(this,"movestart",_),!1},add:S},jQuery.event.special.moveend={setup:function(){return i(this,"movestart",C),!1},teardown:function(){return o(this,"movestart",C),!1},add:S})}),!function(m){m.fn.twentytwenty=function(g){g=m.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"Before",after_label:"After",no_overlay:!1},g);return this.each(function(){function e(t){t=c(t),l.css("vertical"===s?"top":"left","vertical"===s?t.ch:t.cw),h(t)}var i=g.default_offset_pct,n=m(this),s=g.orientation,t="vertical"===s?"down":"left",o="vertical"===s?"up":"right",r=(n.wrap("<div class='twentytwenty-wrapper twentytwenty-"+s+"'></div>"),g.no_overlay||n.append("<div class='twentytwenty-overlay'></div>"),n.find("img:first")),a=n.find("img:last"),l=(n.append("<div class='twentytwenty-handle'></div>"),n.find(".twentytwenty-handle")),t=(l.append("<span class='twentytwenty-"+t+"-arrow'></span>"),l.append("<span class='twentytwenty-"+o+"-arrow'></span>"),n.addClass("twentytwenty-container"),r.addClass("twentytwenty-before"),a.addClass("twentytwenty-after"),n.find(".twentytwenty-overlay")),c=(t.append("<div class='twentytwenty-before-label' data-content='"+g.before_label+"'></div>"),t.append("<div class='twentytwenty-after-label' data-content='"+g.after_label+"'></div>"),function(t){var e=r.width(),i=r.height();return{w:e+"px",h:i+"px",cw:t*e+"px",ch:t*i+"px"}}),h=function(t){"vertical"===s?(r.css("clip","rect(0,"+t.w+","+t.ch+",0)"),a.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(r.css("clip","rect(0,"+t.cw+","+t.h+",0)"),a.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),n.css("height",t.h)},d=(m(window).on("resize.twentytwenty",function(t){e(i)}),0),u=0,p=0,f=0;l.on("movestart",function(t){((t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==s||(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===s)&&t.preventDefault(),n.addClass("active"),d=n.offset().left,u=n.offset().top,p=r.width(),f=r.height()}),l.on("moveend",function(t){n.removeClass("active")}),l.on("move",function(t){n.hasClass("active")&&((i="vertical"===s?(t.pageY-u)/f:(t.pageX-d)/p)<0&&(i=0),e(i=1<i?1:i))}),n.find("img").on("mousedown",function(t){t.preventDefault()}),m(window).trigger("resize.twentytwenty")})}}(jQuery),!function(){"use strict";function e(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+i,this.options=e.Adapter.extend({},e.defaults,t),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),o[this.key]=this,i+=1}var i=0,o={};e.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},e.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete o[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(t){var e,i=[];for(e in o)i.push(o[e]);for(var n=0,s=i.length;n<s;n++)i[n][t]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){for(var t in e.Context.refreshAll(),o)o[t].enabled=!0;return this},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(t){window.setTimeout(t,1e3/60)}function i(t){this.element=t,this.Adapter=p.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,s[t.waypointContextKey]=this,n+=1,p.windowContext||(p.windowContext=!0,p.windowContext=new i(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,s={},p=window.Waypoint,t=window.onload;i.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},i.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(".waypoints"),delete s[this.key])},i.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,p.requestAnimationFrame(t))})},i.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){e.didScroll&&!p.isTouch||(e.didScroll=!0,p.requestAnimationFrame(t))})},i.prototype.handleResize=function(){p.Context.refreshAll()},i.prototype.handleScroll=function(){var t,e,i={},n={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(t in n){var s,o=n[t],r=o.newScroll>o.oldScroll?o.forward:o.backward;for(s in this.waypoints[t]){var a,l,c=this.waypoints[t][s];null!==c.triggerPoint&&(a=o.oldScroll<c.triggerPoint,l=o.newScroll>=c.triggerPoint,a&&l||!a&&!l)&&(c.queueTrigger(r),i[c.group.id]=c.group)}}for(e in i)i[e].flushTriggers();this.oldScroll={x:n.horizontal.newScroll,y:n.vertical.newScroll}},i.prototype.innerHeight=function(){return this.element==this.element.window?p.viewportHeight():this.adapter.innerHeight()},i.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},i.prototype.innerWidth=function(){return this.element==this.element.window?p.viewportWidth():this.adapter.innerWidth()},i.prototype.destroy=function(){var t,e=[];for(t in this.waypoints)for(var i in this.waypoints[t])e.push(this.waypoints[t][i]);for(var n=0,s=e.length;n<s;n++)e[n].destroy()},i.prototype.refresh=function(){var t,e,i=this.element==this.element.window,n=i?void 0:this.adapter.offset(),s={};for(e in this.handleScroll(),t={horizontal:{contextOffset:i?0:n.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:n.top,contextScroll:i?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o,r=t[e];for(o in this.waypoints[e]){var a,l=this.waypoints[e][o],c=l.options.offset,h=l.triggerPoint,d=0,u=null==h;l.element!==l.element.window&&(d=l.adapter.offset()[r.offsetProp]),"function"==typeof c?c=c.apply(l):"string"==typeof c&&(c=parseFloat(c),-1<l.options.offset.indexOf("%"))&&(c=Math.ceil(r.contextDimension*c/100)),a=r.contextScroll-r.contextOffset,l.triggerPoint=Math.floor(d+a-c),d=h<r.oldScroll,a=l.triggerPoint>=r.oldScroll,c=!d&&!a,!u&&(d&&a)?(l.queueTrigger(r.backward),s[l.group.id]=l.group):(!u&&c||u&&r.oldScroll>=l.triggerPoint)&&(l.queueTrigger(r.forward),s[l.group.id]=l.group)}}return p.requestAnimationFrame(function(){for(var t in s)s[t].flushTriggers()}),this},i.findOrCreateByElement=function(t){return i.findByElement(t)||new i(t)},i.refreshAll=function(){for(var t in s)s[t].refresh()},i.findByElement=function(t){return s[t.waypointContextKey]},window.onload=function(){t&&t(),i.refreshAll()},p.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},p.Context=i}(),function(){"use strict";function o(t,e){return t.triggerPoint-e.triggerPoint}function r(t,e){return e.triggerPoint-t.triggerPoint}function e(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},n=window.Waypoint;e.prototype.add=function(t){this.waypoints.push(t)},e.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},e.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var e=this.triggerQueues[t];e.sort("up"===t||"left"===t?r:o);for(var i=0,n=e.length;i<n;i+=1){var s=e[i];!s.options.continuous&&i!==e.length-1||s.trigger([t])}}this.clearTriggerQueues()},e.prototype.next=function(t){this.waypoints.sort(o);t=n.Adapter.inArray(t,this.waypoints);return t===this.waypoints.length-1?null:this.waypoints[t+1]},e.prototype.previous=function(t){this.waypoints.sort(o);t=n.Adapter.inArray(t,this.waypoints);return t?this.waypoints[t-1]:null},e.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},e.prototype.remove=function(t){t=n.Adapter.inArray(t,this.waypoints);-1<t&&this.waypoints.splice(t,1)},e.prototype.first=function(){return this.waypoints[0]},e.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},e.findOrCreate=function(t){return i[t.axis][t.name]||new e(t)},n.Group=e}(),function(){"use strict";function i(t){this.$element=n(t)}var n=window.jQuery,t=window.Waypoint;n.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,e){i.prototype[e]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[e].apply(this.$element,t)}}),n.each(["extend","inArray","isEmptyObject"],function(t,e){i[e]=n[e]}),t.adapters.push({name:"jquery",Adapter:i}),t.Adapter=i}(),function(){"use strict";function t(n){return function(){var e=[],i=arguments[0];return n.isFunction(arguments[0])&&((i=n.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var t=n.extend({},i,{element:this});"string"==typeof t.context&&(t.context=n(this).closest(t.context)[0]),e.push(new s(t))}),e}}var s=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(p){!function(){"use strict";function e(t,e){if(this.el=t,this.$el=p(t),this.s=p.extend({},i,e),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=p(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find(p(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var i={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};e.prototype.init=function(){var t=this,e=(t.s.preload>t.$items.length&&(t.s.preload=t.$items.length),window.location.hash);0<e.indexOf("lg="+this.s.galleryId)&&(t.index=parseInt(e.split("&slide=")[1],10),p("body").addClass("lg-from-hash"),p("body").hasClass("lg-on")||(setTimeout(function(){t.build(t.index)}),p("body").addClass("lg-on"))),t.s.dynamic?(t.$el.trigger("onBeforeOpen.lg"),t.index=t.s.index||0,p("body").hasClass("lg-on")||setTimeout(function(){t.build(t.index),p("body").addClass("lg-on")})):t.$items.on("click.lgcustom",function(e){try{e.preventDefault(),e.preventDefault()}catch(t){e.returnValue=!1}t.$el.trigger("onBeforeOpen.lg"),t.index=t.s.index||t.$items.index(this),p("body").hasClass("lg-on")||(t.build(t.index),p("body").addClass("lg-on"))})},e.prototype.build=function(t){var e=this;e.structure(),p.each(p.fn.lightGallery.modules,function(t){e.modules[t]=new p.fn.lightGallery.modules[t](e.el)}),e.slide(t,!1,!1,!1),e.s.keyPress&&e.keyPress(),1<e.$items.length?(e.arrow(),setTimeout(function(){e.enableDrag(),e.enableSwipe()},50),e.s.mousewheel&&e.mousewheel()):e.$slide.on("click.lg",function(){e.$el.trigger("onSlideClick.lg")}),e.counter(),e.closeGallery(),e.$el.trigger("onAfterOpen.lg"),e.$outer.on("mousemove.lg click.lg touchstart.lg",function(){e.$outer.removeClass("lg-hide-items"),clearTimeout(e.hideBartimeout),e.hideBartimeout=setTimeout(function(){e.$outer.addClass("lg-hide-items")},e.s.hideBarsDelay)}),e.$outer.trigger("mousemove.lg")},e.prototype.structure=function(){var t="",e="",i=0,n="",s=this;for(p("body").append('<div class="lg-backdrop"></div>'),p(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),i=0;i<this.$items.length;i++)t+='<div class="lg-item"></div>';this.s.controls&&1<this.$items.length&&(e='<div class="lg-actions"><button class="lg-prev lg-icon">'+this.s.prevHtml+'</button><button class="lg-next lg-icon">'+this.s.nextHtml+"</button></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(n='<div class="lg-sub-html"></div>'),e='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+t+'</div><div class="lg-toolbar lg-group"><span class="lg-close lg-icon"></span></div>'+e+n+"</div></div>",p("body").append(e),this.$outer=p(".lg-outer"),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),s.setTop(),p(window).on("resize.lg orientationchange.lg",function(){setTimeout(function(){s.setTop()},100)}),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&1<this.$items.length&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()&&((n=this.$outer.find(".lg-inner")).css("transition-timing-function",this.s.cssEasing),n.css("transition-duration",this.s.speed+"ms")),setTimeout(function(){p(".lg-backdrop").addClass("in")}),setTimeout(function(){s.$outer.addClass("lg-visible")},this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=p(window).scrollTop()},e.prototype.setTop=function(){var t,e,i;"100%"!==this.s.height&&(e=((t=p(window).height())-parseInt(this.s.height,10))/2,i=this.$outer.find(".lg"),t>=parseInt(this.s.height,10)?i.css("top",e+"px"):i.css("top","0px"))},e.prototype.doCss=function(){for(var t=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],e=document.documentElement,i=0,i=0;i<t.length;i++)if(t[i]in e.style)return!!1;return!1},e.prototype.isVideo=function(t,e){var i,n,s,o=this.s.dynamic?this.s.dynamicEl[e].html:this.$items.eq(e).attr("data-html");return t?(i=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),n=t.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),s=t.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),t=t.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i),i?{youtube:i}:n?{vimeo:n}:s?{dailymotion:s}:t?{vk:t}:void 0):o?{html5:!0}:(console.error("lightGallery :- data-src is not pvovided on slide item "+(e+1)+". Please make sure the selector property is properly configured. More info - http://sachinchoolur.github.io/lightGallery/demos/html-markup.html"),!1)},e.prototype.counter=function(){this.s.counter&&p(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},e.prototype.addHtml=function(t){var e,i,n,s=null;this.s.dynamic?this.s.dynamicEl[t].subHtmlUrl?e=this.s.dynamicEl[t].subHtmlUrl:s=this.s.dynamicEl[t].subHtml:(i=this.$items.eq(t)).attr("data-sub-html-url")?e=i.attr("data-sub-html-url"):(s=i.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!s&&(s=i.attr("title")||i.find("img").first().attr("alt"))),e||(null!=s?"."!==(n=s.substring(0,1))&&"#"!==n||(s=(this.s.subHtmlSelectorRelative&&!this.s.dynamic?i.find(s):p(s)).html()):s=""),".lg-sub-html"===this.s.appendSubHtmlTo?e?this.$outer.find(this.s.appendSubHtmlTo).load(e):this.$outer.find(this.s.appendSubHtmlTo).html(s):e?this.$slide.eq(t).load(e):this.$slide.eq(t).append(s),null!=s&&(""===s?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[t])},e.prototype.preload=function(t){for(var e=1,i=1,e=1;e<=this.s.preload&&!(e>=this.$items.length-t);e++)this.loadContent(t+e,!1,0);for(i=1;i<=this.s.preload&&!(t-i<0);i++)this.loadContent(t-i,!1,0)},e.prototype.loadContent=function(e,t,i){function n(t){for(var e=[],i=[],n=0;n<t.length;n++){var s=t[n].split(" ");""===s[0]&&s.splice(0,1),i.push(s[0]),e.push(s[1])}for(var o=p(window).width(),r=0;r<e.length;r++)if(parseInt(e[r],10)>o){a=i[r];break}}var a,s,o,r,l=this,c=!1,h=l.s.dynamic?(l.s.dynamicEl[e].poster&&(c=!0,s=l.s.dynamicEl[e].poster),r=l.s.dynamicEl[e].html,a=l.s.dynamicEl[e].src,l.s.dynamicEl[e].responsive&&n(l.s.dynamicEl[e].responsive.split(",")),o=l.s.dynamicEl[e].srcset,l.s.dynamicEl[e].sizes):(l.$items.eq(e).attr("data-poster")&&(c=!0,s=l.$items.eq(e).attr("data-poster")),r=l.$items.eq(e).attr("data-html"),a=l.$items.eq(e).attr("href")||l.$items.eq(e).attr("data-src"),l.$items.eq(e).attr("data-responsive")&&n(l.$items.eq(e).attr("data-responsive").split(",")),o=l.$items.eq(e).attr("data-srcset"),l.$items.eq(e).attr("data-sizes")),d=!1,u=(l.s.dynamic?l.s.dynamicEl[e].iframe&&(d=!0):"true"===l.$items.eq(e).attr("data-iframe")&&(d=!0),l.isVideo(a,e));if(!l.$slide.eq(e).hasClass("lg-loaded")){if(d?l.$slide.eq(e).prepend('<div class="lg-video-cont lg-has-iframe" style="max-width:'+l.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+a+'"  allowfullscreen="true"></iframe></div></div>'):c?(d="",d=u&&u.youtube?"lg-has-youtube":u&&u.vimeo?"lg-has-vimeo":"lg-has-html5",l.$slide.eq(e).prepend('<div class="lg-video-cont '+d+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+s+'" /></div></div>')):u?(l.$slide.eq(e).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),l.$el.trigger("hasVideo.lg",[e,a,r])):l.$slide.eq(e).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+a+'" /></div>'),l.$el.trigger("onAferAppendSlide.lg",[e]),d=l.$slide.eq(e).find(".lg-object"),h&&d.attr("sizes",h),o){d.attr("srcset",o);try{picturefill({elements:[d[0]]})}catch(t){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&l.addHtml(e),l.$slide.eq(e).addClass("lg-loaded")}l.$slide.eq(e).find(".lg-object").on("load.lg error.lg",function(){var t=0;i&&!p("body").hasClass("lg-from-hash")&&(t=i),setTimeout(function(){l.$slide.eq(e).addClass("lg-complete"),l.$el.trigger("onSlideItemLoad.lg",[e,i||0])},t)}),u&&u.html5&&!c&&l.$slide.eq(e).addClass("lg-complete"),!0===t&&(l.$slide.eq(e).hasClass("lg-complete")?l.preload(e):l.$slide.eq(e).find(".lg-object").on("load.lg error.lg",function(){l.preload(e)}))},e.prototype.slide=function(t,e,i,n){var s,o,r,a,l,c=this.$outer.find(".lg-current").index(),h=this;h.lGalleryOn&&c===t||(s=this.$slide.length,o=h.lGalleryOn?this.s.speed:0,h.lgBusy||(this.s.download&&((r=h.s.dynamic?!1!==h.s.dynamicEl[t].downloadUrl&&(h.s.dynamicEl[t].downloadUrl||h.s.dynamicEl[t].src):"false"!==h.$items.eq(t).attr("data-download-url")&&(h.$items.eq(t).attr("data-download-url")||h.$items.eq(t).attr("href")||h.$items.eq(t).attr("data-src")))?(p("#lg-download").attr("href",r),h.$outer.removeClass("lg-hide-download")):h.$outer.addClass("lg-hide-download")),this.$el.trigger("onBeforeSlide.lg",[c,t,e,i]),h.lgBusy=!0,clearTimeout(h.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){h.addHtml(t)},o),this.arrowDisable(t),n||(t<c?n="prev":c<t&&(n="next")),e?(this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide"),2<s?(a=t-1,l=t+1,(0===t&&c===s-1||t===s-1&&0===c)&&(l=0,a=s-1)):(a=0,l=1),"prev"===n?h.$slide.eq(l).addClass("lg-next-slide"):h.$slide.eq(a).addClass("lg-prev-slide"),h.$slide.eq(t).addClass("lg-current")):(h.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===n?(this.$slide.eq(t).addClass("lg-prev-slide"),this.$slide.eq(c).addClass("lg-next-slide")):(this.$slide.eq(t).addClass("lg-next-slide"),this.$slide.eq(c).addClass("lg-prev-slide")),setTimeout(function(){h.$slide.removeClass("lg-current"),h.$slide.eq(t).addClass("lg-current"),h.$outer.removeClass("lg-no-trans")},50)),h.lGalleryOn?(setTimeout(function(){h.loadContent(t,!0,0)},this.s.speed+50),setTimeout(function(){h.lgBusy=!1,h.$el.trigger("onAfterSlide.lg",[c,t,e,i])},this.s.speed)):(h.loadContent(t,!0,h.s.backdropDuration),h.lgBusy=!1,h.$el.trigger("onAfterSlide.lg",[c,t,e,i])),h.lGalleryOn=!0,this.s.counter&&p("#lg-counter-current").text(t+1)),h.index=t)},e.prototype.goToNextSlide=function(t){var e=this,i=e.s.loop;t&&e.$slide.length<3&&(i=!1),e.lgBusy||(e.index+1<e.$slide.length?(e.index++,e.$el.trigger("onBeforeNextSlide.lg",[e.index]),e.slide(e.index,t,!1,"next")):i?(e.index=0,e.$el.trigger("onBeforeNextSlide.lg",[e.index]),e.slide(e.index,t,!1,"next")):e.s.slideEndAnimatoin&&!t&&(e.$outer.addClass("lg-right-end"),setTimeout(function(){e.$outer.removeClass("lg-right-end")},400)))},e.prototype.goToPrevSlide=function(t){var e=this,i=e.s.loop;t&&e.$slide.length<3&&(i=!1),e.lgBusy||(0<e.index?(e.index--,e.$el.trigger("onBeforePrevSlide.lg",[e.index,t]),e.slide(e.index,t,!1,"prev")):i?(e.index=e.$items.length-1,e.$el.trigger("onBeforePrevSlide.lg",[e.index,t]),e.slide(e.index,t,!1,"prev")):e.s.slideEndAnimatoin&&!t&&(e.$outer.addClass("lg-left-end"),setTimeout(function(){e.$outer.removeClass("lg-left-end")},400)))},e.prototype.keyPress=function(){var e=this;1<this.$items.length&&p(window).on("keyup.lg",function(t){1<e.$items.length&&(37===t.keyCode&&(t.preventDefault(),e.goToPrevSlide()),39===t.keyCode)&&(t.preventDefault(),e.goToNextSlide())}),p(window).on("keydown.lg",function(t){!0===e.s.escKey&&27===t.keyCode&&(t.preventDefault(),e.$outer.hasClass("lg-thumb-open")?e.$outer.removeClass("lg-thumb-open"):e.destroy())})},e.prototype.arrow=function(){var t=this;this.$outer.find(".lg-prev").on("click.lg",function(){t.goToPrevSlide()}),this.$outer.find(".lg-next").on("click.lg",function(){t.goToNextSlide()})},e.prototype.arrowDisable=function(t){!this.s.loop&&this.s.hideControlOnEnd&&(t+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),0<t?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},e.prototype.setTranslate=function(t,e,i){this.s.useLeft?t.css("left",e):t.css({transform:"translate3d("+e+"px, "+i+"px, 0px)"})},e.prototype.touchMove=function(t,e){e-=t;15<Math.abs(e)&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),e,0),this.setTranslate(p(".lg-prev-slide"),-this.$slide.eq(this.index).width()+e,0),this.setTranslate(p(".lg-next-slide"),this.$slide.eq(this.index).width()+e,0))},e.prototype.touchEnd=function(t){var e=this;"lg-slide"!==e.s.mode&&e.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout(function(){e.$outer.removeClass("lg-dragging"),t<0&&Math.abs(t)>e.s.swipeThreshold?e.goToNextSlide(!0):0<t&&Math.abs(t)>e.s.swipeThreshold?e.goToPrevSlide(!0):Math.abs(t)<5&&e.$el.trigger("onSlideClick.lg"),e.$slide.removeAttr("style")}),setTimeout(function(){e.$outer.hasClass("lg-dragging")||"lg-slide"===e.s.mode||e.$outer.removeClass("lg-slide")},e.s.speed+100)},e.prototype.enableSwipe=function(){var e=this,i=0,n=0,s=!1;e.s.enableSwipe&&e.doCss()&&(e.$slide.on("touchstart.lg",function(t){e.$outer.hasClass("lg-zoomed")||e.lgBusy||(t.preventDefault(),e.manageSwipeClass(),i=t.originalEvent.targetTouches[0].pageX)}),e.$slide.on("touchmove.lg",function(t){e.$outer.hasClass("lg-zoomed")||(t.preventDefault(),n=t.originalEvent.targetTouches[0].pageX,e.touchMove(i,n),s=!0)}),e.$slide.on("touchend.lg",function(){e.$outer.hasClass("lg-zoomed")||(s?(s=!1,e.touchEnd(n-i)):e.$el.trigger("onSlideClick.lg"))}))},e.prototype.enableDrag=function(){var e=this,i=0,n=0,s=!1,o=!1;e.s.enableDrag&&e.doCss()&&(e.$slide.on("mousedown.lg",function(t){e.$outer.hasClass("lg-zoomed")||e.lgBusy||p(t.target).text().trim()||(t.preventDefault(),e.manageSwipeClass(),i=t.pageX,s=!0,e.$outer.scrollLeft+=1,--e.$outer.scrollLeft,e.$outer.removeClass("lg-grab").addClass("lg-grabbing"),e.$el.trigger("onDragstart.lg"))}),p(window).on("mousemove.lg",function(t){s&&(o=!0,n=t.pageX,e.touchMove(i,n),e.$el.trigger("onDragmove.lg"))}),p(window).on("mouseup.lg",function(t){o?(o=!1,e.touchEnd(n-i),e.$el.trigger("onDragend.lg")):(p(t.target).hasClass("lg-object")||p(t.target).hasClass("lg-video-play"))&&e.$el.trigger("onSlideClick.lg"),s&&(s=!1,e.$outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},e.prototype.manageSwipeClass=function(){var t=this.index+1,e=this.index-1;this.s.loop&&2<this.$slide.length&&(0===this.index?e=this.$slide.length-1:this.index===this.$slide.length-1&&(t=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),-1<e&&this.$slide.eq(e).addClass("lg-prev-slide"),this.$slide.eq(t).addClass("lg-next-slide")},e.prototype.mousewheel=function(){var e=this;e.$outer.on("mousewheel.lg",function(t){t.deltaY&&(0<t.deltaY?e.goToPrevSlide():e.goToNextSlide(),t.preventDefault())})},e.prototype.closeGallery=function(){var e=this,i=!1;this.$outer.find(".lg-close").on("click.lg",function(){e.destroy()}),e.s.closable&&(e.$outer.on("mousedown.lg",function(t){i=!!(p(t.target).is(".lg-outer")||p(t.target).is(".lg-item ")||p(t.target).is(".lg-img-wrap"))}),e.$outer.on("mousemove.lg",function(){i=!1}),e.$outer.on("mouseup.lg",function(t){!(p(t.target).is(".lg-outer")||p(t.target).is(".lg-item ")||p(t.target).is(".lg-img-wrap")&&i)||e.$outer.hasClass("lg-dragging")||e.destroy()}))},e.prototype.destroy=function(t){var e=this;t||(e.$el.trigger("onBeforeClose.lg"),p(window).scrollTop(e.prevScrollTop)),t&&(e.s.dynamic||this.$items.off("click.lg click.lgcustom"),p.removeData(e.el,"lightGallery")),this.$el.off(".lg.tm"),p.each(p.fn.lightGallery.modules,function(t){e.modules[t]&&e.modules[t].destroy()}),this.lGalleryOn=!1,clearTimeout(e.hideBartimeout),this.hideBartimeout=!1,p(window).off(".lg"),p("body").removeClass("lg-on lg-from-hash"),e.$outer&&e.$outer.removeClass("lg-visible"),p(".lg-backdrop").removeClass("in"),setTimeout(function(){e.$outer&&e.$outer.remove(),p(".lg-backdrop").remove(),t||e.$el.trigger("onCloseAfter.lg")},e.s.backdropDuration+50)},p.fn.lightGallery=function(t){return this.each(function(){if(p.data(this,"lightGallery"))try{p(this).data("lightGallery").init()}catch(t){console.error("lightGallery has not initiated properly")}else p.data(this,"lightGallery",new e(this,t))})},p.fn.lightGallery.modules={}}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(i){!function(){"use strict";function t(t){return this.core=i(t).data("lightGallery"),this.$el=i(t),!(this.core.$items.length<2)&&(this.core.s=i.extend({},e,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)}var e={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"};t.prototype.init=function(){var t=this;t.core.s.autoplayControls&&t.controls(),t.core.s.progressBar&&t.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),t.progress(),t.core.s.autoplay&&t.$el.one("onSlideItemLoad.lg.tm",function(){t.startlAuto()}),t.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){t.interval&&(t.cancelAuto(),t.canceledOnTouch=!0)}),t.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){!t.interval&&t.canceledOnTouch&&(t.startlAuto(),t.canceledOnTouch=!1)})},t.prototype.progress=function(){var t,e,i=this;i.$el.on("onBeforeSlide.lg.tm",function(){i.core.s.progressBar&&i.fromAuto&&(t=i.core.$outer.find(".lg-progress-bar"),e=i.core.$outer.find(".lg-progress"),i.interval)&&(e.removeAttr("style"),t.removeClass("lg-start"),setTimeout(function(){e.css("transition","width "+(i.core.s.speed+i.core.s.pause)+"ms ease 0s"),t.addClass("lg-start")},20)),i.fromAuto||i.core.s.fourceAutoplay||i.cancelAuto(),i.fromAuto=!1})},t.prototype.controls=function(){var t=this;i(this.core.s.appendAutoplayControlsTo).append('<span class="lg-autoplay-button lg-icon"></span>'),t.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){i(t.core.$outer).hasClass("lg-show-autoplay")?(t.cancelAuto(),t.core.s.fourceAutoplay=!1):t.interval||(t.startlAuto(),t.core.s.fourceAutoplay=t.fourceAutoplayTemp)})},t.prototype.startlAuto=function(){var t=this;t.core.$outer.find(".lg-progress").css("transition","width "+(t.core.s.speed+t.core.s.pause)+"ms ease 0s"),t.core.$outer.addClass("lg-show-autoplay"),t.core.$outer.find(".lg-progress-bar").addClass("lg-start"),t.interval=setInterval(function(){t.core.index+1<t.core.$items.length?t.core.index++:t.core.index=0,t.fromAuto=!0,t.core.slide(t.core.index,!1,!1,"next")},t.core.s.speed+t.core.s.pause)},t.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.$outer.find(".lg-progress").removeAttr("style"),this.core.$outer.removeClass("lg-show-autoplay"),this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")},t.prototype.destroy=function(){this.cancelAuto(),this.core.$outer.find(".lg-progress-bar").remove()},i.fn.lightGallery.modules.autoplay=t}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(i){!function(){"use strict";function t(t){return this.core=i(t).data("lightGallery"),this.$el=i(t),this.core.s=i.extend({},e,this.core.s),this.init(),this}var e={fullScreen:!0};t.prototype.init=function(){this.core.s.fullScreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(this.core.$outer.find(".lg-toolbar").append('<span class="lg-fullscreen lg-icon"></span>'),this.fullScreen())},t.prototype.requestFullscreen=function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},t.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},t.prototype.fullScreen=function(){var t=this;i(document).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){t.core.$outer.toggleClass("lg-fullscreen-on")}),this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?t.exitFullscreen():t.requestFullscreen()})},t.prototype.destroy=function(){this.exitFullscreen(),i(document).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")},i.fn.lightGallery.modules.fullscreen=t}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(r){!function(){"use strict";function t(t){return this.core=r(t).data("lightGallery"),this.$el=r(t),this.core.s=r.extend({},e,this.core.s),this.core.s.pager&&1<this.core.$items.length&&this.init(),this}var e={pager:!1};t.prototype.init=function(){var n,t,e,i=this,s="";if(i.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>'),i.core.s.dynamic)for(var o=0;o<i.core.s.dynamicEl.length;o++)s+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+i.core.s.dynamicEl[o].thumb+'" /></div></span>';else i.core.$items.each(function(){i.core.s.exThumbImage?s+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+r(this).attr(i.core.s.exThumbImage)+'" /></div></span>':s+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+r(this).find("img").attr("src")+'" /></div></span>'});(t=i.core.$outer.find(".lg-pager-outer")).html(s),(n=i.core.$outer.find(".lg-pager-cont")).on("click.lg touchend.lg",function(){var t=r(this);i.core.index=t.index(),i.core.slide(i.core.index,!1,!0,!1)}),t.on("mouseover.lg",function(){clearTimeout(e),t.addClass("lg-pager-hover")}),t.on("mouseout.lg",function(){e=setTimeout(function(){t.removeClass("lg-pager-hover")})}),i.core.$el.on("onBeforeSlide.lg.tm",function(t,e,i){n.removeClass("lg-pager-active"),n.eq(i).addClass("lg-pager-active")})},t.prototype.destroy=function(){},r.fn.lightGallery.modules.pager=t}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(a){!function(){"use strict";function t(t){return this.core=a(t).data("lightGallery"),this.core.s=a.extend({},e,this.core.s),this.$el=a(t),this.$thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.core.s.animateThumb&&(this.core.s.thumbHeight="100%"),this.left=0,this.init(),this}var e={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbHeight:"80px",thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0};t.prototype.init=function(){var t=this;this.core.s.thumbnail&&1<this.core.$items.length&&(this.core.s.showThumbByDefault&&setTimeout(function(){t.core.$outer.addClass("lg-thumb-open")},700),this.core.s.pullCaptionUp&&this.core.$outer.addClass("lg-pull-caption-up"),this.build(),this.core.s.animateThumb&&this.core.doCss()?(this.core.s.enableThumbDrag&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())},t.prototype.build=function(){function e(t,e,i){var n,t=s.core.isVideo(t,i)||{},i="";t.youtube||t.vimeo||t.dailymotion?t.youtube?n=s.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+t.youtube[1]+"/"+s.core.s.youtubeThumbSize+".jpg":e:t.vimeo?s.core.s.loadVimeoThumbnail?(n="//i.vimeocdn.com/video/error_"+r+".jpg",i=t.vimeo[1]):n=e:t.dailymotion&&(n=s.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+t.dailymotion[1]:e):n=e,o+='<div data-vimeo-id="'+i+'" class="lg-thumb-item" style="width:'+s.core.s.thumbWidth+"px; height: "+s.core.s.thumbHeight+"; margin-right: "+s.core.s.thumbMargin+'px"><img src="'+n+'" /></div>'}var t,s=this,o="",r="";switch(this.core.s.vimeoThumbSize){case"thumbnail_large":r="640";break;case"thumbnail_medium":r="200x150";break;case"thumbnail_small":r="100x75"}if(s.core.$outer.addClass("lg-has-thumb"),s.core.$outer.find(".lg").append('<div class="lg-thumb-outer"><div class="lg-thumb lg-group"></div></div>'),s.$thumbOuter=s.core.$outer.find(".lg-thumb-outer"),s.thumbOuterWidth=s.$thumbOuter.width(),s.core.s.animateThumb&&s.core.$outer.find(".lg-thumb").css({width:s.thumbTotalWidth+"px",position:"relative"}),this.core.s.animateThumb&&s.$thumbOuter.css("height",s.core.s.thumbContHeight+"px"),s.core.s.dynamic)for(var i=0;i<s.core.s.dynamicEl.length;i++)e(s.core.s.dynamicEl[i].src,s.core.s.dynamicEl[i].thumb,i);else s.core.$items.each(function(t){s.core.s.exThumbImage?e(a(this).attr("href")||a(this).attr("data-src"),a(this).attr(s.core.s.exThumbImage),t):e(a(this).attr("href")||a(this).attr("data-src"),a(this).find("img").attr("src"),t)});s.core.$outer.find(".lg-thumb").html(o),(t=s.core.$outer.find(".lg-thumb-item")).each(function(){var e=a(this),t=e.attr("data-vimeo-id");t&&a.getJSON("//www.vimeo.com/api/v2/video/"+t+".json?callback=?",{format:"json"},function(t){e.find("img").attr("src",t[0][s.core.s.vimeoThumbSize])})}),t.eq(s.core.index).addClass("active"),s.core.$el.on("onBeforeSlide.lg.tm",function(){t.removeClass("active"),t.eq(s.core.index).addClass("active")}),t.on("click.lg touchend.lg",function(){var t=a(this);setTimeout(function(){(!s.thumbClickable||s.core.lgBusy)&&s.core.doCss()||(s.core.index=t.index(),s.core.slide(s.core.index,!1,!0,!1))},50)}),s.core.$el.on("onBeforeSlide.lg.tm",function(){s.animateThumb(s.core.index)}),a(window).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){s.animateThumb(s.core.index),s.thumbOuterWidth=s.$thumbOuter.width()},200)})},t.prototype.setTranslate=function(t){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+t+"px, 0px, 0px)"})},t.prototype.animateThumb=function(t){var e,i=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){switch(this.core.s.currentPagerPosition){case"left":e=0;break;case"middle":e=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":e=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*t-1-e,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(i.hasClass("on")||this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms"),this.core.doCss()||i.animate({left:-this.left+"px"},this.core.s.speed)):this.core.doCss()||i.css("left",-this.left+"px"),this.setTranslate(this.left)}},t.prototype.enableThumbDrag=function(){var e=this,i=0,n=0,s=!1,o=!1,r=0;e.$thumbOuter.addClass("lg-grab"),e.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(t){e.thumbTotalWidth>e.thumbOuterWidth&&(t.preventDefault(),i=t.pageX,s=!0,e.core.$outer.scrollLeft+=1,--e.core.$outer.scrollLeft,e.thumbClickable=!1,e.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),a(window).on("mousemove.lg.thumb",function(t){s&&(r=e.left,o=!0,n=t.pageX,e.$thumbOuter.addClass("lg-dragging"),(r=(r-=n-i)>e.thumbTotalWidth-e.thumbOuterWidth?e.thumbTotalWidth-e.thumbOuterWidth:r)<0&&(r=0),e.setTranslate(r))}),a(window).on("mouseup.lg.thumb",function(){(!o||(o=!1,e.$thumbOuter.removeClass("lg-dragging"),e.left=r,Math.abs(n-i)<e.core.s.swipeThreshold))&&(e.thumbClickable=!0),s&&(s=!1,e.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))})},t.prototype.enableThumbSwipe=function(){var e=this,i=0,n=0,s=!1,o=0;e.core.$outer.find(".lg-thumb").on("touchstart.lg",function(t){e.thumbTotalWidth>e.thumbOuterWidth&&(t.preventDefault(),i=t.originalEvent.targetTouches[0].pageX,e.thumbClickable=!1)}),e.core.$outer.find(".lg-thumb").on("touchmove.lg",function(t){e.thumbTotalWidth>e.thumbOuterWidth&&(t.preventDefault(),n=t.originalEvent.targetTouches[0].pageX,s=!0,e.$thumbOuter.addClass("lg-dragging"),o=e.left,(o=(o-=n-i)>e.thumbTotalWidth-e.thumbOuterWidth?e.thumbTotalWidth-e.thumbOuterWidth:o)<0&&(o=0),e.setTranslate(o))}),e.core.$outer.find(".lg-thumb").on("touchend.lg",function(){e.thumbTotalWidth>e.thumbOuterWidth&&s?(s=!1,e.$thumbOuter.removeClass("lg-dragging"),Math.abs(n-i)<e.core.s.swipeThreshold&&(e.thumbClickable=!0),e.left=o):e.thumbClickable=!0})},t.prototype.toogle=function(){var t=this;t.core.s.toogleThumb&&(t.core.$outer.addClass("lg-can-toggle"),t.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>'),t.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){t.core.$outer.toggleClass("lg-thumb-open")}))},t.prototype.thumbkeyPress=function(){var e=this;a(window).on("keydown.lg.thumb",function(t){38===t.keyCode?(t.preventDefault(),e.core.$outer.addClass("lg-thumb-open")):40===t.keyCode&&(t.preventDefault(),e.core.$outer.removeClass("lg-thumb-open"))})},t.prototype.destroy=function(){this.core.s.thumbnail&&1<this.core.$items.length&&(a(window).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"),this.$thumbOuter.remove(),this.core.$outer.removeClass("lg-has-thumb"))},a.fn.lightGallery.modules.Thumbnail=t}()}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,function(l){!function(){"use strict";function t(t){return this.core=l(t).data("lightGallery"),this.$el=l(t),this.core.s=l.extend({},e,this.core.s),this.videoLoaded=!1,this.init(),this}var e={videoMaxWidth:"855px",autoplayFirstVideo:!0,youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}};t.prototype.init=function(){var n=this;n.core.$el.on("hasVideo.lg.tm",function(t,e,i,n){var s=this;if(s.core.$slide.eq(e).find(".lg-video").append(s.loadVideo(i,"lg-object",!0,e,n)),n)if(s.core.s.videojs)try{videojs(s.core.$slide.eq(e).find(".lg-html5").get(0),s.core.s.videojsOptions,function(){!s.videoLoaded&&s.core.s.autoplayFirstVideo&&this.play()})}catch(t){console.error("Make sure you have included videojs")}else!s.videoLoaded&&s.core.s.autoplayFirstVideo&&s.core.$slide.eq(e).find(".lg-html5").get(0).play()}.bind(this)),n.core.$el.on("onAferAppendSlide.lg.tm",function(t,e){(e=this.core.$slide.eq(e).find(".lg-video-cont")).hasClass("lg-has-iframe")||(e.css("max-width",this.core.s.videoMaxWidth),this.videoLoaded=!0)}.bind(this)),n.core.doCss()&&1<n.core.$items.length&&(n.core.s.enableSwipe||n.core.s.enableDrag)?n.core.$el.on("onSlideClick.lg.tm",function(){var t=n.core.$slide.eq(n.core.index);n.loadVideoOnclick(t)}):n.core.$slide.on("click.lg",function(){n.loadVideoOnclick(l(this))}),n.core.$el.on("onBeforeSlide.lg.tm",function(t,e,i){var n=(e=this.core.$slide.eq(e)).find(".lg-youtube").get(0),s=e.find(".lg-vimeo").get(0),o=e.find(".lg-dailymotion").get(0),r=e.find(".lg-vk").get(0),e=e.find(".lg-html5").get(0);if(n)n.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(s)try{$f(s).api("pause")}catch(t){console.error("Make sure you have included froogaloop2 js")}else if(o)o.contentWindow.postMessage("pause","*");else if(e)if(this.core.s.videojs)try{videojs(e).pause()}catch(t){console.error("Make sure you have included videojs")}else e.pause();r&&l(r).attr("src",l(r).attr("src").replace("&autoplay","&noplay")),n=this.core.s.dynamic?this.core.s.dynamicEl[i].src:this.core.$items.eq(i).attr("href")||this.core.$items.eq(i).attr("data-src"),((s=this.core.isVideo(n,i)||{}).youtube||s.vimeo||s.dailymotion||s.vk)&&this.core.$outer.addClass("lg-hide-download")}.bind(this)),n.core.$el.on("onAfterSlide.lg.tm",function(t,e){n.core.$slide.eq(e).removeClass("lg-video-playing")}),n.core.s.autoplayFirstVideo&&n.core.$el.on("onAferAppendSlide.lg.tm",function(t,e){var i;n.core.lGalleryOn||(i=n.core.$slide.eq(e),setTimeout(function(){n.loadVideoOnclick(i)},100))})},t.prototype.loadVideo=function(t,e,i,n,s){var o="",r=1,a="",t=this.core.isVideo(t,n)||{};return i&&(r=!this.videoLoaded&&this.core.s.autoplayFirstVideo?1:0),t.youtube?(a="?wmode=opaque&autoplay="+r+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(a=a+"&"+l.param(this.core.s.youtubePlayerParams)),o='<iframe class="lg-video-object lg-youtube '+e+'" width="560" height="315" src="//www.youtube.com/embed/'+t.youtube[1]+a+'" frameborder="0" allowfullscreen></iframe>'):t.vimeo?(a="?autoplay="+r+"&api=1",this.core.s.vimeoPlayerParams&&(a=a+"&"+l.param(this.core.s.vimeoPlayerParams)),o='<iframe class="lg-video-object lg-vimeo '+e+'" width="560" height="315"  src="//player.vimeo.com/video/'+t.vimeo[1]+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):t.dailymotion?(a="?wmode=opaque&autoplay="+r+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(a=a+"&"+l.param(this.core.s.dailymotionPlayerParams)),o='<iframe class="lg-video-object lg-dailymotion '+e+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+t.dailymotion[1]+a+'" frameborder="0" allowfullscreen></iframe>'):t.html5?o=s="."!==(n=s.substring(0,1))&&"#"!==n?s:l(s).html():t.vk&&(a="&autoplay="+r,this.core.s.vkPlayerParams&&(a=a+"&"+l.param(this.core.s.vkPlayerParams)),o='<iframe class="lg-video-object lg-vk '+e+'" width="560" height="315" src="//vk.com/video_ext.php?'+t.vk[1]+a+'" frameborder="0" allowfullscreen></iframe>'),o},t.prototype.loadVideoOnclick=function(i){var n=this;if(i.find(".lg-object").hasClass("lg-has-poster")&&i.find(".lg-object").is(":visible"))if(i.hasClass("lg-has-video")){var t=i.find(".lg-youtube").get(0),e=i.find(".lg-vimeo").get(0),s=i.find(".lg-dailymotion").get(0),o=i.find(".lg-html5").get(0);if(t)t.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(e)try{$f(e).api("play")}catch(i){console.error("Make sure you have included froogaloop2 js")}else if(s)s.contentWindow.postMessage("play","*");else if(o)if(n.core.s.videojs)try{videojs(o).play()}catch(i){console.error("Make sure you have included videojs")}else o.play();i.addClass("lg-video-playing")}else{i.addClass("lg-video-playing lg-has-video");var r,t=function(t,e){if(i.find(".lg-video").append(n.loadVideo(t,"",!1,n.core.index,e)),e)if(n.core.s.videojs)try{videojs(n.core.$slide.eq(n.core.index).find(".lg-html5").get(0),n.core.s.videojsOptions,function(){this.play()})}catch(t){console.error("Make sure you have included videojs")}else n.core.$slide.eq(n.core.index).find(".lg-html5").get(0).play()},e=n.core.s.dynamic?(r=n.core.s.dynamicEl[n.core.index].src,n.core.s.dynamicEl[n.core.index].html):(r=n.core.$items.eq(n.core.index).attr("href")||n.core.$items.eq(n.core.index).attr("data-src"),n.core.$items.eq(n.core.index).attr("data-html")),s=(t(r,e),i.find(".lg-object"));i.find(".lg-video").append(s),i.find(".lg-video-object").hasClass("lg-html5")||(i.removeClass("lg-complete"),i.find(".lg-video-object").on("load.lg error.lg",function(){i.addClass("lg-complete")}))}},t.prototype.destroy=function(){this.videoLoaded=!1},l.fn.lightGallery.modules.video=t}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(h){!function(){"use strict";function t(t){return this.core=h(t).data("lightGallery"),this.core.s=h.extend({},n,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=h(window).width()/2,this.pageY=h(window).height()/2+h(window).scrollTop()),this}var e,i,n={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:(e=!1,i=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),e=!!(i&&parseInt(i[2],10)<54)||e)};t.prototype.init=function(){function n(t,e,i,n){var s=e.prop("offsetWidth"),i=o.core.s.dynamic?o.core.s.dynamicEl[i].width||e[0].naturalWidth||s:o.core.$items.eq(i).attr("data-width")||e[0].naturalWidth||s;o.core.$outer.hasClass("lg-zoomed")?r=1:s<i&&(r=i/s||2),n?(o.pageX=h(window).width()/2,o.pageY=h(window).height()/2+h(window).scrollTop()):(o.pageX=t.pageX||t.originalEvent.targetTouches[0].pageX,o.pageY=t.pageY||t.originalEvent.targetTouches[0].pageY),a(),setTimeout(function(){o.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)}var o=this,t='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>',r=(o.core.s.actualSize&&(t+='<span id="lg-actual-size" class="lg-icon"></span>'),o.core.s.useLeftForZoom?o.core.$outer.addClass("lg-use-left-for-zoom"):o.core.$outer.addClass("lg-use-transition-for-zoom"),this.core.$outer.find(".lg-toolbar").append(t),o.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(t,e,i){var n=o.core.s.enableZoomAfter+i;h("body").hasClass("lg-from-hash")&&i?n=0:h("body").removeClass("lg-from-hash"),o.zoomabletimeout=setTimeout(function(){o.core.$slide.eq(e).addClass("lg-zoomable")},n+30)}),1),e=function(t){var e=o.core.$outer.find(".lg-current .lg-image"),i=(h(window).width()-e.prop("offsetWidth"))/2,n=(h(window).height()-e.prop("offsetHeight"))/2+h(window).scrollTop(),i=(t-1)*(o.pageX-i),n=(t-1)*(o.pageY-n);e.css("transform","scale3d("+t+", "+t+", 1)").attr("data-scale",t),(o.core.s.useLeftForZoom?e.parent().css({left:-i+"px",top:-n+"px"}):e.parent().css("transform","translate3d(-"+i+"px, -"+n+"px, 0)")).attr("data-x",i).attr("data-y",n)},a=function(){1<r?o.core.$outer.addClass("lg-zoomed"):o.resetZoom(),e(r=r<1?1:r)},s=!1;o.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(t,e){var i=o.core.$slide.eq(e).find(".lg-image");i.on("dblclick",function(t){n(t,i,e)}),i.on("touchstart",function(t){s?(clearTimeout(s),s=null,n(t,i,e)):s=setTimeout(function(){s=null},300),t.preventDefault()})}),h(window).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){o.pageX=h(window).width()/2,o.pageY=h(window).height()/2+h(window).scrollTop(),e(r)}),h("#lg-zoom-out").on("click.lg",function(){o.core.$outer.find(".lg-current .lg-image").length&&(r-=o.core.s.scale,a())}),h("#lg-zoom-in").on("click.lg",function(){o.core.$outer.find(".lg-current .lg-image").length&&(r+=o.core.s.scale,a())}),h("#lg-actual-size").on("click.lg",function(t){n(t,o.core.$slide.eq(o.core.index).find(".lg-image"),o.core.index,!0)}),o.core.$el.on("onBeforeSlide.lg.tm",function(){r=1,o.resetZoom()}),o.zoomDrag(),o.zoomSwipe()},t.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed"),this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y"),this.core.$slide.find(".lg-image").removeAttr("style data-scale"),this.pageX=h(window).width()/2,this.pageY=h(window).height()/2+h(window).scrollTop()},t.prototype.zoomSwipe=function(){var n=this,s={},o={},r=!1,a=!1,l=!1;n.core.$slide.on("touchstart.lg",function(t){var e;n.core.$outer.hasClass("lg-zoomed")&&(e=n.core.$slide.eq(n.core.index).find(".lg-object"),l=e.prop("offsetHeight")*e.attr("data-scale")>n.core.$outer.find(".lg").height(),(a=e.prop("offsetWidth")*e.attr("data-scale")>n.core.$outer.find(".lg").width())||l)&&(t.preventDefault(),s={x:t.originalEvent.targetTouches[0].pageX,y:t.originalEvent.targetTouches[0].pageY})}),n.core.$slide.on("touchmove.lg",function(t){var e,i;n.core.$outer.hasClass("lg-zoomed")&&(i=n.core.$slide.eq(n.core.index).find(".lg-img-wrap"),t.preventDefault(),r=!0,o={x:t.originalEvent.targetTouches[0].pageX,y:t.originalEvent.targetTouches[0].pageY},n.core.$outer.addClass("lg-zoom-dragging"),t=l?-Math.abs(i.attr("data-y"))+(o.y-s.y):-Math.abs(i.attr("data-y")),e=a?-Math.abs(i.attr("data-x"))+(o.x-s.x):-Math.abs(i.attr("data-x")),15<Math.abs(o.x-s.x)||15<Math.abs(o.y-s.y))&&(n.core.s.useLeftForZoom?i.css({left:e+"px",top:t+"px"}):i.css("transform","translate3d("+e+"px, "+t+"px, 0)"))}),n.core.$slide.on("touchend.lg",function(){n.core.$outer.hasClass("lg-zoomed")&&r&&(r=!1,n.core.$outer.removeClass("lg-zoom-dragging"),n.touchendZoom(s,o,a,l))})},t.prototype.zoomDrag=function(){var n=this,s={},o={},r=!1,a=!1,l=!1,c=!1;n.core.$slide.on("mousedown.lg.zoom",function(t){var e=n.core.$slide.eq(n.core.index).find(".lg-object");c=e.prop("offsetHeight")*e.attr("data-scale")>n.core.$outer.find(".lg").height(),l=e.prop("offsetWidth")*e.attr("data-scale")>n.core.$outer.find(".lg").width(),n.core.$outer.hasClass("lg-zoomed")&&h(t.target).hasClass("lg-object")&&(l||c)&&(t.preventDefault(),s={x:t.pageX,y:t.pageY},r=!0,n.core.$outer.scrollLeft+=1,--n.core.$outer.scrollLeft,n.core.$outer.removeClass("lg-grab").addClass("lg-grabbing"))}),h(window).on("mousemove.lg.zoom",function(t){var e,i;r&&(i=n.core.$slide.eq(n.core.index).find(".lg-img-wrap"),a=!0,o={x:t.pageX,y:t.pageY},n.core.$outer.addClass("lg-zoom-dragging"),t=c?-Math.abs(i.attr("data-y"))+(o.y-s.y):-Math.abs(i.attr("data-y")),e=l?-Math.abs(i.attr("data-x"))+(o.x-s.x):-Math.abs(i.attr("data-x")),n.core.s.useLeftForZoom?i.css({left:e+"px",top:t+"px"}):i.css("transform","translate3d("+e+"px, "+t+"px, 0)"))}),h(window).on("mouseup.lg.zoom",function(t){r&&(r=!1,n.core.$outer.removeClass("lg-zoom-dragging"),!a||s.x===o.x&&s.y===o.y||(o={x:t.pageX,y:t.pageY},n.touchendZoom(s,o,l,c)),a=!1),n.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})},t.prototype.touchendZoom=function(t,e,i,n){var s=this.core.$slide.eq(this.core.index).find(".lg-img-wrap"),o=this.core.$slide.eq(this.core.index).find(".lg-object"),r=-Math.abs(s.attr("data-x"))+(e.x-t.x),a=-Math.abs(s.attr("data-y"))+(e.y-t.y),l=(this.core.$outer.find(".lg").height()-o.prop("offsetHeight"))/2,c=Math.abs(o.prop("offsetHeight")*Math.abs(o.attr("data-scale"))-this.core.$outer.find(".lg").height()+l),h=(this.core.$outer.find(".lg").width()-o.prop("offsetWidth"))/2,o=Math.abs(o.prop("offsetWidth")*Math.abs(o.attr("data-scale"))-this.core.$outer.find(".lg").width()+h);(15<Math.abs(e.x-t.x)||15<Math.abs(e.y-t.y))&&(n&&(a<=-c?a=-c:-l<=a&&(a=-l)),i&&(r<=-o?r=-o:-h<=r&&(r=-h)),n?s.attr("data-y",Math.abs(a)):a=-Math.abs(s.attr("data-y")),i?s.attr("data-x",Math.abs(r)):r=-Math.abs(s.attr("data-x")),this.core.s.useLeftForZoom?s.css({left:r+"px",top:a+"px"}):s.css("transform","translate3d("+r+"px, "+a+"px, 0)"))},t.prototype.destroy=function(){this.core.$el.off(".lg.zoom"),h(window).off(".lg.zoom"),this.core.$slide.off(".lg.zoom"),this.core.$el.off(".lg.tm.zoom"),this.resetZoom(),clearTimeout(this.zoomabletimeout),this.zoomabletimeout=!1},h.fn.lightGallery.modules.zoom=t}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(i){!function(){"use strict";function t(t){return this.core=i(t).data("lightGallery"),this.core.s=i.extend({},e,this.core.s),this.core.s.hash&&(this.oldHash=window.location.hash,this.init()),this}var e={hash:!0};t.prototype.init=function(){var e,n=this;n.core.$el.on("onAfterSlide.lg.tm",function(t,e,i){history.replaceState?history.replaceState(null,null,window.location.pathname+window.location.search+"#lg="+n.core.s.galleryId+"&slide="+i):window.location.hash="lg="+n.core.s.galleryId+"&slide="+i}),i(window).on("hashchange.lg.hash",function(){e=window.location.hash;var t=parseInt(e.split("&slide=")[1],10);-1<e.indexOf("lg="+n.core.s.galleryId)?n.core.slide(t,!1,!1):n.core.lGalleryOn&&n.core.destroy()})},t.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?history.replaceState?history.replaceState(null,null,this.oldHash):window.location.hash=this.oldHash:history.replaceState?history.replaceState(null,document.title,window.location.pathname+window.location.search):window.location.hash="",this.core.$el.off(".lg.hash"))},i.fn.lightGallery.modules.hash=t}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(s){!function(){"use strict";function t(t){return this.core=s(t).data("lightGallery"),this.core.s=s.extend({},e,this.core.s),this.core.s.share&&this.init(),this}var e={share:!0,facebook:!0,facebookDropdownText:"Facebook",twitter:!0,twitterDropdownText:"Twitter",googlePlus:!0,googlePlusDropdownText:"GooglePlus",pinterest:!0,pinterestDropdownText:"Pinterest"};t.prototype.init=function(){var n=this,t='<span id="lg-share" class="lg-icon"><ul class="lg-dropdown" style="position: absolute;">',t=(t=(t=(t+=n.core.s.facebook?'<li><a id="lg-share-facebook" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.facebookDropdownText+"</span></a></li>":"")+(n.core.s.twitter?'<li><a id="lg-share-twitter" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.twitterDropdownText+"</span></a></li>":""))+(n.core.s.googlePlus?'<li><a id="lg-share-googleplus" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.googlePlusDropdownText+"</span></a></li>":""))+(n.core.s.pinterest?'<li><a id="lg-share-pinterest" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+this.core.s.pinterestDropdownText+"</span></a></li>":"")+"</ul></span>";this.core.$outer.find(".lg-toolbar").append(t),this.core.$outer.find(".lg").append('<div id="lg-dropdown-overlay"></div>'),s("#lg-share").on("click.lg",function(){n.core.$outer.toggleClass("lg-dropdown-active")}),s("#lg-dropdown-overlay").on("click.lg",function(){n.core.$outer.removeClass("lg-dropdown-active")}),n.core.$el.on("onAfterSlide.lg.tm",function(t,e,i){setTimeout(function(){s("#lg-share-facebook").attr("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(n.getSahreProps(i,"facebookShareUrl")||window.location.href)),s("#lg-share-twitter").attr("href","https://twitter.com/intent/tweet?text="+n.getSahreProps(i,"tweetText")+"&url="+encodeURIComponent(n.getSahreProps(i,"twitterShareUrl")||window.location.href)),s("#lg-share-googleplus").attr("href","https://plus.google.com/share?url="+encodeURIComponent(n.getSahreProps(i,"googleplusShareUrl")||window.location.href)),s("#lg-share-pinterest").attr("href","http://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(n.getSahreProps(i,"pinterestShareUrl")||window.location.href)+"&media="+encodeURIComponent(n.getSahreProps(i,"src"))+"&description="+n.getSahreProps(i,"pinterestText"))},100)})},t.prototype.getSahreProps=function(t,e){var i;return this.core.s.dynamic?this.core.s.dynamicEl[t][e]:(i=this.core.$items.eq(t).attr("href"),t=this.core.$items.eq(t).data(e),"src"===e&&i||t)},t.prototype.destroy=function(){},s.fn.lightGallery.modules.share=t}()}),!function(b){function x(){var t=location.href;return hashtag=(hashtag=-1!==t.indexOf("#prettyPhoto")&&decodeURI(t.substring(t.indexOf("#prettyPhoto")+1,t.length)))&&hashtag.replace(/<|>/g,"")}function _(t,e){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");t=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==t?"":t[1]}b.prettyPhoto={version:"3.1.6"},b.fn.prettyPhoto=function(e){e=jQuery.extend({hook:"rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5e3,autoplay_slideshow:!1,opacity:.8,show_title:!0,allow_resize:!0,allow_expand:!0,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:!1,wmode:"opaque",autoplay:!0,modal:!1,deeplinking:!0,overlay_gallery:!0,overlay_gallery_max:30,keyboard_shortcuts:!0,changepicturecallback:function(){},callback:function(){},ie6_fallback:!0,markup:'<div class="pp_pic_holder"> \t\t\t\t\t\t<div class="ppt">&nbsp;</div> \t\t\t\t\t\t<div class="pp_top"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_content_container"> \t\t\t\t\t\t\t<div class="pp_left"> \t\t\t\t\t\t\t<div class="pp_right"> \t\t\t\t\t\t\t\t<div class="pp_content"> \t\t\t\t\t\t\t\t\t<div class="pp_loaderIcon"></div> \t\t\t\t\t\t\t\t\t<div class="pp_fade"> \t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_expand" title="Expand the image">Expand</a> \t\t\t\t\t\t\t\t\t\t<div class="pp_hoverContainer"> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_next" href="#">next</a> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_previous" href="#">previous</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t<div id="pp_full_res"></div> \t\t\t\t\t\t\t\t\t\t<div class="pp_details"> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_nav"> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t\t\t\t\t<p class="currentTextHolder">0/0</p> \t\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t\t\t<p class="pp_description"></p> \t\t\t\t\t\t\t\t\t\t\t<div class="pp_social">{pp_social}</div> \t\t\t\t\t\t\t\t\t\t\t<a class="pp_close" href="#">Close</a> \t\t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t</div> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pp_bottom"> \t\t\t\t\t\t\t<div class="pp_left"></div> \t\t\t\t\t\t\t<div class="pp_middle"></div> \t\t\t\t\t\t\t<div class="pp_right"></div> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_previous">Previous</a> \t\t\t\t\t\t\t\t<div> \t\t\t\t\t\t\t\t\t<ul> \t\t\t\t\t\t\t\t\t\t{gallery} \t\t\t\t\t\t\t\t\t</ul> \t\t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t\t<a href="#" class="pp_arrow_next">Next</a> \t\t\t\t\t\t\t</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script src="http://platform.twitter.com/widgets.js"><\/script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},e);var i,t,n,s,o,r,a,l=this,c=!1,h=b(window).height(),d=b(window).width();function u(){b(".pp_loaderIcon").hide(),(projectedTop=scroll_pos.scrollTop+(h/2-i.containerHeight/2))<0&&(projectedTop=0),$ppt.fadeTo(settings.animation_speed,1),$pp_pic_holder.find(".pp_content").animate({height:i.contentHeight,width:i.contentWidth},settings.animation_speed),$pp_pic_holder.animate({top:projectedTop,left:d/2-i.containerWidth/2<0?0:d/2-i.containerWidth/2,width:i.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(i.height).width(i.width),$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed),isSet&&"image"==m(pp_images[set_position])?$pp_pic_holder.find(".pp_hoverContainer").show():$pp_pic_holder.find(".pp_hoverContainer").hide(),settings.allow_expand&&(i.resized?b("a.pp_expand,a.pp_contract").show():b("a.pp_expand").hide()),!settings.autoplay_slideshow||a||t||b.prettyPhoto.startSlideshow(),settings.changepicturecallback(),t=!0}),isSet&&settings.overlay_gallery&&"image"==m(pp_images[set_position])?(itemWidth=57,navWidth="facebook"==settings.theme||"pp_default"==settings.theme?50:30,itemsPerPage=(itemsPerPage=Math.floor((i.containerWidth-100-navWidth)/itemWidth))<pp_images.length?itemsPerPage:pp_images.length,0==(totalPage=Math.ceil(pp_images.length/itemsPerPage)-1)?(navWidth=0,$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()):$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show(),galleryWidth=itemsPerPage*itemWidth,fullGalleryWidth=pp_images.length*itemWidth,$pp_gallery.css("margin-left",-(galleryWidth/2+navWidth/2)).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected"),goToPage=Math.floor(set_position/itemsPerPage)<totalPage?Math.floor(set_position/itemsPerPage):totalPage,b.prettyPhoto.changeGalleryPage(goToPage),$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")):$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave"),e.ajaxcallback()}function p(t){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden"),$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){b(".pp_loaderIcon").show(),t()})}function f(t,e){if(resized=!1,g(t,e),imageWidth=t,imageHeight=e,(d<r||h<o)&&doresize&&settings.allow_resize&&!c){for(resized=!0,fitting=!1;!fitting;)d<r?(imageWidth=d-200,imageHeight=e/t*imageWidth):h<o?(imageHeight=h-200,imageWidth=t/e*imageHeight):fitting=!0,o=imageHeight,r=imageWidth;(d<r||h<o)&&f(r,o),g(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(o),containerWidth:Math.floor(r)+2*settings.horizontal_padding,contentHeight:Math.floor(n),contentWidth:Math.floor(s),resized:resized}}function g(t,e){t=parseFloat(t),e=parseFloat(e),($pp_details=$pp_pic_holder.find(".pp_details")).width(t),detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom")),$pp_details=$pp_details.clone().addClass(settings.theme).width(t).appendTo(b("body")).css({position:"absolute",top:-1e4}),detailsHeight=(detailsHeight+=$pp_details.height())<=34?36:detailsHeight,$pp_details.remove(),($pp_title=$pp_pic_holder.find(".ppt")).width(t),titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom")),$pp_title=$pp_title.clone().appendTo(b("body")).css({position:"absolute",top:-1e4}),titleHeight+=$pp_title.height(),$pp_title.remove(),n=e+detailsHeight,s=t,o=n+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height(),r=t}function m(t){return t.match(/youtube\.com\/watch/i)||t.match(/youtu\.be/i)?"youtube":t.match(/vimeo\.com/i)?"vimeo":t.match(/\b.mov\b/i)?"quicktime":t.match(/\b.swf\b/i)?"flash":t.match(/\biframe=true\b/i)?"iframe":t.match(/\bajax=true\b/i)?"ajax":t.match(/\bcustom=true\b/i)?"custom":"#"==t.substr(0,1)?"inline":"image"}function v(){if(doresize&&"undefined"!=typeof $pp_pic_holder){if(scroll_pos=y(),contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width(),(projectedTop=h/2+scroll_pos.scrollTop-contentHeight/2)<0&&(projectedTop=0),contentHeight>h)return;$pp_pic_holder.css({top:projectedTop,left:d/2+scroll_pos.scrollLeft-contentwidth/2})}}function y(){return self.pageYOffset?{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}:document.documentElement&&document.documentElement.scrollTop?{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}:document.body?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:void 0}function w(){if(settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))),settings.markup=settings.markup.replace("{pp_social}",""),b("body").append(settings.markup),$pp_pic_holder=b(".pp_pic_holder"),$ppt=b(".ppt"),$pp_overlay=b("div.pp_overlay"),isSet&&settings.overlay_gallery){currentGalleryPage=0,toInject="";for(var t=0;t<pp_images.length;t++)img_src=pp_images[t].match(/\b(jpg|jpeg|png|gif)\b/gi)?(classname="",pp_images[t]):(classname="default",""),toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";toInject=settings.gallery_markup.replace(/{gallery}/g,toInject),$pp_pic_holder.find("#pp_full_res").after(toInject),$pp_gallery=b(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li"),$pp_gallery.find(".pp_arrow_next").click(function(){return b.prettyPhoto.changeGalleryPage("next"),b.prettyPhoto.stopSlideshow(),!1}),$pp_gallery.find(".pp_arrow_previous").click(function(){return b.prettyPhoto.changeGalleryPage("previous"),b.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()}),itemWidth=57,$pp_gallery_li.each(function(t){b(this).find("a").click(function(){return b.prettyPhoto.changePage(t),b.prettyPhoto.stopSlideshow(),!1})})}settings.slideshow&&($pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>'),$pp_pic_holder.find(".pp_nav .pp_play").click(function(){return b.prettyPhoto.startSlideshow(),!1})),$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme),$pp_overlay.css({opacity:0,height:b(document).height(),width:b(window).width()}).bind("click",function(){settings.modal||b.prettyPhoto.close()}),b("a.pp_close").bind("click",function(){return b.prettyPhoto.close(),!1}),settings.allow_expand&&b("a.pp_expand").bind("click",function(t){return doresize=b(this).hasClass("pp_expand")?(b(this).removeClass("pp_expand").addClass("pp_contract"),!1):(b(this).removeClass("pp_contract").addClass("pp_expand"),!0),p(function(){b.prettyPhoto.open()}),!1}),$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){return b.prettyPhoto.changePage("previous"),b.prettyPhoto.stopSlideshow(),!1}),$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){return b.prettyPhoto.changePage("next"),b.prettyPhoto.stopSlideshow(),!1}),v()}return doresize=!0,scroll_pos=y(),b(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){v(),h=b(window).height(),d=b(window).width(),"undefined"!=typeof $pp_overlay&&$pp_overlay.height(b(document).height()).width(d)}),e.keyboard_shortcuts&&b(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(t){if("undefined"!=typeof $pp_pic_holder&&$pp_pic_holder.is(":visible"))switch(t.keyCode){case 37:b.prettyPhoto.changePage("previous"),t.preventDefault();break;case 39:b.prettyPhoto.changePage("next"),t.preventDefault();break;case 27:settings.modal||b.prettyPhoto.close(),t.preventDefault()}}),b.prettyPhoto.initialize=function(){return"pp_default"==(settings=e).theme&&(settings.horizontal_padding=16),theRel=b(this).attr(settings.hook),galleryRegExp=/\[(?:.*)\]/,isSet=!!galleryRegExp.exec(theRel),pp_images=isSet?jQuery.map(l,function(t,e){if(-1!=b(t).attr(settings.hook).indexOf(theRel))return b(t).attr("href")}):b.makeArray(b(this).attr("href")),pp_titles=isSet?jQuery.map(l,function(t,e){if(-1!=b(t).attr(settings.hook).indexOf(theRel))return b(t).find("img").attr("alt")?b(t).find("img").attr("alt"):""}):b.makeArray(b(this).find("img").attr("alt")),pp_descriptions=isSet?jQuery.map(l,function(t,e){if(-1!=b(t).attr(settings.hook).indexOf(theRel))return b(t).attr("title")?b(t).attr("title"):""}):b.makeArray(b(this).attr("title")),pp_images.length>settings.overlay_gallery_max&&(settings.overlay_gallery=!1),set_position=jQuery.inArray(b(this).attr("href"),pp_images),rel_index=isSet?set_position:b("a["+settings.hook+"^='"+theRel+"']").index(b(this)),w(),settings.allow_resize&&b(window).bind("scroll.prettyphoto",function(){v()}),b.prettyPhoto.open(),!1},b.prettyPhoto.open=function(t){return"undefined"==typeof settings&&(settings=e,pp_images=b.makeArray(t),pp_titles=arguments[1]?b.makeArray(arguments[1]):b.makeArray(""),pp_descriptions=arguments[2]?b.makeArray(arguments[2]):b.makeArray(""),isSet=1<pp_images.length,set_position=arguments[3]||0,w(t.target)),settings.hideflash&&b("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden"),1<b(pp_images).size()?b(".pp_nav").show():b(".pp_nav").hide(),b(".pp_loaderIcon").show(),settings.deeplinking&&"undefined"!=typeof theRel&&(location.hash=theRel+"/"+rel_index+"/"),settings.social_tools&&(facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href)),$pp_pic_holder.find(".pp_social").html(facebook_like_link)),$ppt.is(":hidden")&&$ppt.css("opacity",0).show(),$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity),$pp_pic_holder.find(".currentTextHolder").text(set_position+1+settings.counter_separator_label+b(pp_images).size()),void 0!==pp_descriptions[set_position]&&""!=pp_descriptions[set_position]?$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position])):$pp_pic_holder.find(".pp_description").hide(),movie_width=parseFloat(_("width",pp_images[set_position]))?_("width",pp_images[set_position]):settings.default_width.toString(),movie_height=parseFloat(_("height",pp_images[set_position]))?_("height",pp_images[set_position]):settings.default_height.toString(),c=!1,-1!=movie_height.indexOf("%")&&(movie_height=parseFloat(b(window).height()*parseFloat(movie_height)/100-150),c=!0),-1!=movie_width.indexOf("%")&&(movie_width=parseFloat(b(window).width()*parseFloat(movie_width)/100-150),c=!0),$pp_pic_holder.fadeIn(function(){switch(settings.show_title&&""!=pp_titles[set_position]&&void 0!==pp_titles[set_position]?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;"),imgPreloader="",skipInjection=!1,m(pp_images[set_position])){case"image":imgPreloader=new Image,nextImage=new Image,isSet&&set_position<b(pp_images).size()-1&&(nextImage.src=pp_images[set_position+1]),prevImage=new Image,isSet&&pp_images[set_position-1]&&(prevImage.src=pp_images[set_position-1]),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]),imgPreloader.onload=function(){i=f(imgPreloader.width,imgPreloader.height),u()},imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist."),b.prettyPhoto.close()},imgPreloader.src=pp_images[set_position];break;case"youtube":i=f(movie_width,movie_height),""==(movie_id=_("v",pp_images[set_position]))&&0<(movie_id=0<(movie_id=(movie_id=pp_images[set_position].split("youtu.be/"))[1]).indexOf("?")?movie_id.substr(0,movie_id.indexOf("?")):movie_id).indexOf("&")&&(movie_id=movie_id.substr(0,movie_id.indexOf("&"))),movie="http://www.youtube.com/embed/"+movie_id,_("rel",pp_images[set_position])?movie+="?rel="+_("rel",pp_images[set_position]):movie+="?rel=1",settings.autoplay&&(movie+="&autoplay=1"),toInject=settings.iframe_markup.replace(/{width}/g,i.width).replace(/{height}/g,i.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":i=f(movie_width,movie_height);var t=(movie_id=pp_images[set_position]).match(/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/);movie="http://player.vimeo.com/video/"+t[3]+"?title=0&amp;byline=0&amp;portrait=0",settings.autoplay&&(movie+="&autoplay=1;"),vimeo_width=i.width+"/embed/?moog_width="+i.width,toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,i.height).replace(/{path}/g,movie);break;case"quicktime":(i=f(movie_width,movie_height)).height+=15,i.contentHeight+=15,i.containerHeight+=15,toInject=settings.quicktime_markup.replace(/{width}/g,i.width).replace(/{height}/g,i.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":i=f(movie_width,movie_height),flash_vars=(flash_vars=pp_images[set_position]).substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length),filename=(filename=pp_images[set_position]).substring(0,filename.indexOf("?")),toInject=settings.flash_markup.replace(/{width}/g,i.width).replace(/{height}/g,i.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":i=f(movie_width,movie_height),frame_url=(frame_url=pp_images[set_position]).substr(0,frame_url.indexOf("iframe")-1),toInject=settings.iframe_markup.replace(/{width}/g,i.width).replace(/{height}/g,i.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=!1,i=f(movie_width,movie_height),doresize=!0,skipInjection=!0,b.get(pp_images[set_position],function(t){toInject=settings.inline_markup.replace(/{content}/g,t),$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,u()});break;case"custom":i=f(movie_width,movie_height),toInject=settings.custom_markup;break;case"inline":myClone=b(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(b("body")).show(),doresize=!1,i=f(b(myClone).width(),b(myClone).height()),doresize=!0,b(myClone).remove(),toInject=settings.inline_markup.replace(/{content}/g,b(pp_images[set_position]).html())}imgPreloader||skipInjection||($pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject,u())}),!1},b.prettyPhoto.changePage=function(t){currentGalleryPage=0,"previous"==t?--set_position<0&&(set_position=b(pp_images).size()-1):"next"==t?++set_position>b(pp_images).size()-1&&(set_position=0):set_position=t,rel_index=set_position,doresize=doresize||!0,settings.allow_expand&&b(".pp_contract").removeClass("pp_contract").addClass("pp_expand"),p(function(){b.prettyPhoto.open()})},b.prettyPhoto.changeGalleryPage=function(t){"next"==t?++currentGalleryPage>totalPage&&(currentGalleryPage=0):"previous"==t?--currentGalleryPage<0&&(currentGalleryPage=totalPage):currentGalleryPage=t,slide_speed="next"==t||"previous"==t?settings.animation_speed:0,slide_to=currentGalleryPage*(itemsPerPage*itemWidth),$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)},b.prettyPhoto.startSlideshow=function(){void 0===a?($pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){return b.prettyPhoto.stopSlideshow(),!1}),a=setInterval(b.prettyPhoto.startSlideshow,settings.slideshow)):b.prettyPhoto.changePage("next")},b.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){return b.prettyPhoto.startSlideshow(),!1}),clearInterval(a),a=void 0},b.prettyPhoto.close=function(){$pp_overlay.is(":animated")||(b.prettyPhoto.stopSlideshow(),$pp_pic_holder.stop().find("object,embed").css("visibility","hidden"),b("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){b(this).remove()}),$pp_overlay.fadeOut(settings.animation_speed,function(){settings.hideflash&&b("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible"),b(this).remove(),b(window).unbind("scroll.prettyphoto"),-1!==location.href.indexOf("#prettyPhoto")&&(location.hash="prettyPhoto"),settings.callback(),doresize=!0,t=!1,delete settings}))},!pp_alreadyInitialized&&x()&&(pp_alreadyInitialized=!0,hashIndex=x(),hashIndex=(hashRel=hashIndex).substring(hashIndex.indexOf("/")+1,hashIndex.length-1),hashRel=hashRel.substring(0,hashRel.indexOf("/")),setTimeout(function(){b("a["+e.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)),this.unbind("click.prettyphoto").bind("click.prettyphoto",b.prettyPhoto.initialize)}}(jQuery),!1);